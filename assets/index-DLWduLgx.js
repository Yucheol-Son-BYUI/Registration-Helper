(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function fS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function dS(){if(ev)return Il;ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=t,Il.jsx=n,Il.jsxs=n,Il}var nv;function mS(){return nv||(nv=1,Kd.exports=dS()),Kd.exports}var at=mS(),Xd={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function gS(){if(iv)return It;iv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function C(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,$={};function Z(O,X,et){this.props=O,this.context=X,this.refs=$,this.updater=et||P}Z.prototype.isReactComponent={},Z.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},Z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ut(){}ut.prototype=Z.prototype;function st(O,X,et){this.props=O,this.context=X,this.refs=$,this.updater=et||P}var rt=st.prototype=new ut;rt.constructor=st,H(rt,Z.prototype),rt.isPureReactComponent=!0;var ht=Array.isArray,lt={H:null,A:null,T:null,S:null,V:null},tt=Object.prototype.hasOwnProperty;function R(O,X,et,W,dt,wt){return et=wt.ref,{$$typeof:r,type:O,key:X,ref:et!==void 0?et:null,props:wt}}function S(O,X){return R(O.type,X,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return X[et]})}var V=/\/+/g;function k(O,X){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):X.toString(36)}function D(){}function Ae(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ne(O,X,et,W,dt){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var gt=!1;if(O===null)gt=!0;else switch(wt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(O.$$typeof){case r:case t:gt=!0;break;case T:return gt=O._init,ne(gt(O._payload),X,et,W,dt)}}if(gt)return dt=dt(O),gt=W===""?"."+k(O,0):W,ht(dt)?(et="",gt!=null&&(et=gt.replace(V,"$&/")+"/"),ne(dt,X,et,"",function(Ne){return Ne})):dt!=null&&(I(dt)&&(dt=S(dt,et+(dt.key==null||O&&O.key===dt.key?"":(""+dt.key).replace(V,"$&/")+"/")+gt)),X.push(dt)),1;gt=0;var se=W===""?".":W+":";if(ht(O))for(var Bt=0;Bt<O.length;Bt++)W=O[Bt],wt=se+k(W,Bt),gt+=ne(W,X,et,wt,dt);else if(Bt=C(O),typeof Bt=="function")for(O=Bt.call(O),Bt=0;!(W=O.next()).done;)W=W.value,wt=se+k(W,Bt++),gt+=ne(W,X,et,wt,dt);else if(wt==="object"){if(typeof O.then=="function")return ne(Ae(O),X,et,W,dt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return gt}function G(O,X,et){if(O==null)return O;var W=[],dt=0;return ne(O,W,"","",function(wt){return X.call(et,wt,dt++)}),W}function it(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var ft=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Rt(){}return It.Children={map:G,forEach:function(O,X,et){G(O,function(){X.apply(this,arguments)},et)},count:function(O){var X=0;return G(O,function(){X++}),X},toArray:function(O){return G(O,function(X){return X})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},It.Component=Z,It.Fragment=n,It.Profiler=o,It.PureComponent=st,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,It.__COMPILER_RUNTIME={__proto__:null,c:function(O){return lt.H.useMemoCache(O)}},It.cache=function(O){return function(){return O.apply(null,arguments)}},It.cloneElement=function(O,X,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var W=H({},O.props),dt=O.key,wt=void 0;if(X!=null)for(gt in X.ref!==void 0&&(wt=void 0),X.key!==void 0&&(dt=""+X.key),X)!tt.call(X,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&X.ref===void 0||(W[gt]=X[gt]);var gt=arguments.length-2;if(gt===1)W.children=et;else if(1<gt){for(var se=Array(gt),Bt=0;Bt<gt;Bt++)se[Bt]=arguments[Bt+2];W.children=se}return R(O.type,dt,void 0,void 0,wt,W)},It.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},It.createElement=function(O,X,et){var W,dt={},wt=null;if(X!=null)for(W in X.key!==void 0&&(wt=""+X.key),X)tt.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(dt[W]=X[W]);var gt=arguments.length-2;if(gt===1)dt.children=et;else if(1<gt){for(var se=Array(gt),Bt=0;Bt<gt;Bt++)se[Bt]=arguments[Bt+2];dt.children=se}if(O&&O.defaultProps)for(W in gt=O.defaultProps,gt)dt[W]===void 0&&(dt[W]=gt[W]);return R(O,wt,void 0,void 0,null,dt)},It.createRef=function(){return{current:null}},It.forwardRef=function(O){return{$$typeof:g,render:O}},It.isValidElement=I,It.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:it}},It.memo=function(O,X){return{$$typeof:y,type:O,compare:X===void 0?null:X}},It.startTransition=function(O){var X=lt.T,et={};lt.T=et;try{var W=O(),dt=lt.S;dt!==null&&dt(et,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Rt,ft)}catch(wt){ft(wt)}finally{lt.T=X}},It.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},It.use=function(O){return lt.H.use(O)},It.useActionState=function(O,X,et){return lt.H.useActionState(O,X,et)},It.useCallback=function(O,X){return lt.H.useCallback(O,X)},It.useContext=function(O){return lt.H.useContext(O)},It.useDebugValue=function(){},It.useDeferredValue=function(O,X){return lt.H.useDeferredValue(O,X)},It.useEffect=function(O,X,et){var W=lt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(O,X)},It.useId=function(){return lt.H.useId()},It.useImperativeHandle=function(O,X,et){return lt.H.useImperativeHandle(O,X,et)},It.useInsertionEffect=function(O,X){return lt.H.useInsertionEffect(O,X)},It.useLayoutEffect=function(O,X){return lt.H.useLayoutEffect(O,X)},It.useMemo=function(O,X){return lt.H.useMemo(O,X)},It.useOptimistic=function(O,X){return lt.H.useOptimistic(O,X)},It.useReducer=function(O,X,et){return lt.H.useReducer(O,X,et)},It.useRef=function(O){return lt.H.useRef(O)},It.useState=function(O){return lt.H.useState(O)},It.useSyncExternalStore=function(O,X,et){return lt.H.useSyncExternalStore(O,X,et)},It.useTransition=function(){return lt.H.useTransition()},It.version="19.1.0",It}var rv;function Ym(){return rv||(rv=1,Xd.exports=gS()),Xd.exports}var Ge=Ym();const Bl=fS(Ge);var $d={exports:{}},Cl={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function pS(){return sv||(sv=1,function(r){function t(G,it){var ft=G.length;G.push(it);t:for(;0<ft;){var Rt=ft-1>>>1,O=G[Rt];if(0<o(O,it))G[Rt]=it,G[ft]=O,ft=Rt;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var it=G[0],ft=G.pop();if(ft!==it){G[0]=ft;t:for(var Rt=0,O=G.length,X=O>>>1;Rt<X;){var et=2*(Rt+1)-1,W=G[et],dt=et+1,wt=G[dt];if(0>o(W,ft))dt<O&&0>o(wt,W)?(G[Rt]=wt,G[dt]=ft,Rt=dt):(G[Rt]=W,G[et]=ft,Rt=et);else if(dt<O&&0>o(wt,ft))G[Rt]=wt,G[dt]=ft,Rt=dt;else break t}}return it}function o(G,it){var ft=G.sortIndex-it.sortIndex;return ft!==0?ft:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],y=[],T=1,b=null,C=3,P=!1,H=!1,$=!1,Z=!1,ut=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function ht(G){for(var it=n(y);it!==null;){if(it.callback===null)s(y);else if(it.startTime<=G)s(y),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(y)}}function lt(G){if($=!1,ht(G),!H)if(n(p)!==null)H=!0,tt||(tt=!0,k());else{var it=n(y);it!==null&&ne(lt,it.startTime-G)}}var tt=!1,R=-1,S=5,I=-1;function M(){return Z?!0:!(r.unstable_now()-I<S)}function V(){if(Z=!1,tt){var G=r.unstable_now();I=G;var it=!0;try{t:{H=!1,$&&($=!1,st(R),R=-1),P=!0;var ft=C;try{e:{for(ht(G),b=n(p);b!==null&&!(b.expirationTime>G&&M());){var Rt=b.callback;if(typeof Rt=="function"){b.callback=null,C=b.priorityLevel;var O=Rt(b.expirationTime<=G);if(G=r.unstable_now(),typeof O=="function"){b.callback=O,ht(G),it=!0;break e}b===n(p)&&s(p),ht(G)}else s(p);b=n(p)}if(b!==null)it=!0;else{var X=n(y);X!==null&&ne(lt,X.startTime-G),it=!1}}break t}finally{b=null,C=ft,P=!1}it=void 0}}finally{it?k():tt=!1}}}var k;if(typeof rt=="function")k=function(){rt(V)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ae=D.port2;D.port1.onmessage=V,k=function(){Ae.postMessage(null)}}else k=function(){ut(V,0)};function ne(G,it){R=ut(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(G){switch(C){case 1:case 2:case 3:var it=3;break;default:it=C}var ft=C;C=it;try{return G()}finally{C=ft}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=C;C=G;try{return it()}finally{C=ft}},r.unstable_scheduleCallback=function(G,it,ft){var Rt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Rt+ft:Rt):ft=Rt,G){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ft+O,G={id:T++,callback:it,priorityLevel:G,startTime:ft,expirationTime:O,sortIndex:-1},ft>Rt?(G.sortIndex=ft,t(y,G),n(p)===null&&G===n(y)&&($?(st(R),R=-1):$=!0,ne(lt,ft-Rt))):(G.sortIndex=O,t(p,G),H||P||(H=!0,tt||(tt=!0,k()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var it=C;return function(){var ft=C;C=it;try{return G.apply(this,arguments)}finally{C=ft}}}}(Jd)),Jd}var av;function yS(){return av||(av=1,Zd.exports=pS()),Zd.exports}var Wd={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function _S(){if(ov)return Ze;ov=1;var r=Ym();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,T)},Ze.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Ze.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ze.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ze.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:P}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:C,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ze.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ze.requestFormReset=function(p){s.d.r(p)},Ze.unstable_batchedUpdates=function(p,y){return p(y)},Ze.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Ze.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ze.version="19.1.0",Ze}var lv;function vS(){if(lv)return Wd.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Wd.exports=_S(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function ES(){if(uv)return Cl;uv=1;var r=yS(),t=Ym(),n=vS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(u(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ut=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),lt=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var D=Symbol.for("react.client.reference");function Ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===D?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case Z:return"Profiler";case $:return"StrictMode";case lt:return"Suspense";case tt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case P:return"Portal";case rt:return(e.displayName||"Context")+".Provider";case st:return(e._context.displayName||"Context")+".Consumer";case ht:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return i=e.displayName||null,i!==null?i:Ae(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Ae(e(i))}catch{}}return null}var ne=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Rt=[],O=-1;function X(e){return{current:e}}function et(e){0>O||(e.current=Rt[O],Rt[O]=null,O--)}function W(e,i){O++,Rt[O]=e.current,e.current=i}var dt=X(null),wt=X(null),gt=X(null),se=X(null);function Bt(e,i){switch(W(gt,i),W(wt,e),W(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?D_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=D_(i),e=O_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(dt),W(dt,e)}function Ne(){et(dt),et(wt),et(gt)}function bn(e){e.memoizedState!==null&&W(se,e);var i=dt.current,a=O_(i,e.type);i!==a&&(W(wt,e),W(dt,a))}function on(e){wt.current===e&&(et(dt),et(wt)),se.current===e&&(et(se),Al._currentValue=ft)}var Ke=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Jr=r.unstable_cancelCallback,vo=r.unstable_shouldYield,uu=r.unstable_requestPaint,wn=r.unstable_now,Yh=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,Xs=r.unstable_UserBlockingPriority,Wr=r.unstable_NormalPriority,Kh=r.unstable_LowPriority,$s=r.unstable_IdlePriority,To=r.log,cu=r.unstable_setDisableYieldValue,le=null,Qt=null;function dn(e){if(typeof To=="function"&&cu(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(le,e)}catch{}}var Xe=Math.clz32?Math.clz32:ts,hu=Math.log,Xh=Math.LN2;function ts(e){return e>>>=0,e===0?32:31-(hu(e)/Xh|0)|0}var es=256,ns=4194304;function jn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=jn(l):(v&=E,v!==0?h=jn(v):a||(a=E&~e,a!==0&&(h=jn(a))))):(E=l&~d,E!==0?h=jn(E):v!==0?h=jn(v):a||(a=l&~e,a!==0&&(h=jn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function is(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ao(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var e=es;return es<<=1,(es&4194048)===0&&(es=256),e}function bo(){var e=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),e}function bi(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function wi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wo(e,i,a,l,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,z=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Xe(a),Y=1<<F;E[F]=0,w[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var j=B[F];j!==null&&(j.lane&=-536870913)}a&=~Y}l!==0&&Jn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Jn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Xe(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Ro(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Xe(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Js(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ar(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:X_(e.type))}function fu(e,i){var a=it.p;try{return it.p=e,i()}finally{it.p=a}}var ie=Math.random().toString(36).slice(2),Se="__reactFiber$"+ie,pe="__reactProps$"+ie,Rn="__reactContainer$"+ie,Io="__reactEvents$"+ie,$h="__reactListeners$"+ie,or="__reactHandles$"+ie,du="__reactResources$"+ie,rs="__reactMarker$"+ie;function lr(e){delete e[Se],delete e[pe],delete e[Io],delete e[$h],delete e[or]}function Ri(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Rn]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=x_(e);e!==null;){if(a=e[Se])return a;e=x_(e)}return i}e=a,a=e.parentNode}return null}function Wn(e){if(e=e[Se]||e[Rn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ti(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function nn(e){var i=e[du];return i||(i=e[du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[rs]=!0}var Co=new Set,Ws={};function qn(e,i){Ii(e,i),Ii(e+"Capture",i)}function Ii(e,i){for(Ws[e]=i,e=0;e<i.length;e++)Co.add(i[e])}var mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gu={},ss={};function pu(e){return Ke.call(ss,e)?!0:Ke.call(gu,e)?!1:mu.test(e)?ss[e]=!0:(gu[e]=!0,!1)}function ur(e,i,a){if(pu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function ei(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ze(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var as,yu;function Ci(e){if(as===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);as=i&&i[1]||"",yu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+as+e+yu}var ta=!1;function ea(e,i){if(!e||ta)return"";ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(j){var B=j}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(j){B=j}e.call(Y.prototype)}}else{try{throw Error()}catch(j){B=j}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var w=v.split(`
`),z=E.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===z.length)for(l=w.length-1,h=z.length-1;1<=l&&0<=h&&w[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==z[h]){var F=`
`+w[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{ta=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ci(a):""}function Do(e){switch(e.tag){case 26:case 27:case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return ea(e.type,!1);case 11:return ea(e.type.render,!1);case 1:return ea(e.type,!0);case 31:return Ci("Activity");default:return""}}function na(e){try{var i="";do i+=Do(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zh(e){var i=Oo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ia(e){e._valueTracker||(e._valueTracker=Zh(e))}function No(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Oo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Jh=/[\n"\\]/g;function ye(e){return e.replace(Jh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mn(e,i,a,l,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+rn(i)):e.value!==""+rn(i)&&(e.value=""+rn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?cr(e,v,rn(i)):a!=null?cr(e,v,rn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+rn(E):e.removeAttribute("name")}function ls(e,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function cr(e,i,a){i==="number"&&os(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Di(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Xt(e,i,a){if(i!=null&&(i=""+rn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+rn(a):""}function us(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function In(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _u(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||cs.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Mo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&_u(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&_u(e,d,i[d])}function Vo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return tf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Oi=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,Mi=null;function xo(e){var i=Wn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(mn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[pe]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&No(l)}break t;case"textarea":Xt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Di(e,!!a.multiple,i,!1)}}}var ni=!1;function vu(e,i,a){if(ni)return e(i,a);ni=!0;try{var l=e(i);return l}finally{if(ni=!1,(Ni!==null||Mi!==null)&&(fc(),Ni&&(i=Ni,e=Mi,Mi=Ni=null,xo(i),e)))for(i=0;i<e.length;i++)xo(e[i])}}function hs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Hn)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Dn=!1}var ii=null,hr=null,Vi=null;function Po(){if(Vi)return Vi;var e,i=hr,a=i.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Vi=h.slice(e,1<l?1-l:void 0)}function ri(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function si(){return!0}function ko(){return!1}function Me(e){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?si:ko,this.isPropagationStopped=ko,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),i}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=Me(Ht),ds=T({},Ht,{view:0,detail:0}),Eu=Me(ds),aa,oa,ai,ms=T({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(aa=e.screenX-ai.screenX,oa=e.screenY-ai.screenY):oa=aa=0,ai=e),aa)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),On=Me(ms),Tu=T({},ms,{dataTransfer:0}),ef=Me(Tu),gs=T({},ds,{relatedTarget:0}),la=Me(gs),Uo=T({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ua=Me(Uo),Au=T({},Ht,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ca=Me(Au),nf=T({},Ht,{data:0}),Lo=Me(nf),ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=bu[e])?!!i[e]:!1}function ys(){return zo}var wu=T({},ds,{key:function(e){if(e.key){var i=ps[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=ri(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?ri(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ri(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ha=Me(wu),Ru=T({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Me(Ru),xi=T({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),Iu=Me(xi),Cu=T({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Du=Me(Cu),Ou=T({},ms,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fa=Me(Ou),sn=T({},Ht,{newState:0,oldState:0}),Nu=Me(sn),Mu=[9,13,27,32],oi=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var m=Hn&&"TextEvent"in window&&!c,_=Hn&&(!oi||c&&8<c&&11>=c),A=" ",U=!1;function q(e,i){switch(e){case"keyup":return Mu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kt=!1;function be(e,i){switch(e){case"compositionend":return nt(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return e=i.data,e===A&&U?null:e;default:return null}}function Ut(e,i){if(kt)return e==="compositionend"||!oi&&q(e,i)?(e=Po(),Vi=hr=ii=null,kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function we(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ve[e.type]:i==="textarea"}function Pi(e,i,a,l){Ni?Mi?Mi.push(l):Mi=[l]:Ni=l,i=_c(i,"onChange"),0<i.length&&(a=new sa("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Be=null,li=null;function jo(e){b_(e,0)}function Vu(e){var i=ti(e);if(No(i))return e}function Fg(e,i){if(e==="change")return i}var Qg=!1;if(Hn){var rf;if(Hn){var sf="oninput"in document;if(!sf){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),sf=typeof Yg.oninput=="function"}rf=sf}else rf=!1;Qg=rf&&(!document.documentMode||9<document.documentMode)}function Kg(){Be&&(Be.detachEvent("onpropertychange",Xg),li=Be=null)}function Xg(e){if(e.propertyName==="value"&&Vu(li)){var i=[];Pi(i,li,e,Cn(e)),vu(jo,i)}}function q1(e,i,a){e==="focusin"?(Kg(),Be=i,li=a,Be.attachEvent("onpropertychange",Xg)):e==="focusout"&&Kg()}function H1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(li)}function G1(e,i){if(e==="click")return Vu(i)}function F1(e,i){if(e==="input"||e==="change")return Vu(i)}function Q1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var gn=typeof Object.is=="function"?Object.is:Q1;function qo(e,i){if(gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ke.call(i,h)||!gn(e[h],i[h]))return!1}return!0}function $g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zg(e,i){var a=$g(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=$g(a)}}function Jg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Jg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Wg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=os(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=os(e.document)}return i}function af(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Y1=Hn&&"documentMode"in document&&11>=document.documentMode,da=null,of=null,Ho=null,lf=!1;function tp(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||da==null||da!==os(l)||(l=da,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ho&&qo(Ho,l)||(Ho=l,l=_c(of,"onSelect"),0<l.length&&(i=new sa("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=da)))}function _s(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ma={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},uf={},ep={};Hn&&(ep=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function vs(e){if(uf[e])return uf[e];if(!ma[e])return e;var i=ma[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ep)return uf[e]=i[a];return e}var np=vs("animationend"),ip=vs("animationiteration"),rp=vs("animationstart"),K1=vs("transitionrun"),X1=vs("transitionstart"),$1=vs("transitioncancel"),sp=vs("transitionend"),ap=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Gn(e,i){ap.set(e,i),qn(i,[e])}var op=new WeakMap;function Nn(e,i){if(typeof e=="object"&&e!==null){var a=op.get(e);return a!==void 0?a:(i={value:e,source:i,stack:na(i)},op.set(e,i),i)}return{value:e,source:i,stack:na(i)}}var Mn=[],ga=0,hf=0;function xu(){for(var e=ga,i=hf=ga=0;i<e;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&lp(a,h,d)}}function Pu(e,i,a,l){Mn[ga++]=e,Mn[ga++]=i,Mn[ga++]=a,Mn[ga++]=l,hf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ff(e,i,a,l){return Pu(e,i,a,l),ku(e)}function pa(e,i){return Pu(e,null,null,i),ku(e)}function lp(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Xe(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ku(e){if(50<ml)throw ml=0,_d=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ya={};function Z1(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,i,a,l){return new Z1(e,i,a,l)}function df(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,i){var a=e.alternate;return a===null?(a=pn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function up(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Uu(e,i,a,l,h,d){var v=0;if(l=e,typeof e=="function")df(e)&&(v=1);else if(typeof e=="string")v=WA(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=pn(31,a,i,h),e.elementType=I,e.lanes=d,e;case H:return Es(a.children,h,d,i);case $:v=8,h|=24;break;case Z:return e=pn(12,a,i,h|2),e.elementType=Z,e.lanes=d,e;case lt:return e=pn(13,a,i,h),e.elementType=lt,e.lanes=d,e;case tt:return e=pn(19,a,i,h),e.elementType=tt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:case rt:v=10;break t;case st:v=9;break t;case ht:v=11;break t;case R:v=14;break t;case S:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=pn(v,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Es(e,i,a,l){return e=pn(7,e,l,i),e.lanes=a,e}function mf(e,i,a){return e=pn(6,e,null,i),e.lanes=a,e}function gf(e,i,a){return i=pn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var _a=[],va=0,Lu=null,zu=0,Vn=[],xn=0,Ts=null,Ui=1,Li="";function As(e,i){_a[va++]=zu,_a[va++]=Lu,Lu=e,zu=i}function cp(e,i,a){Vn[xn++]=Ui,Vn[xn++]=Li,Vn[xn++]=Ts,Ts=e;var l=Ui;e=Li;var h=32-Xe(l)-1;l&=~(1<<h),a+=1;var d=32-Xe(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ui=1<<32-Xe(i)+h|a<<h|l,Li=d+e}else Ui=1<<d|a<<h|l,Li=e}function pf(e){e.return!==null&&(As(e,1),cp(e,1,0))}function yf(e){for(;e===Lu;)Lu=_a[--va],_a[va]=null,zu=_a[--va],_a[va]=null;for(;e===Ts;)Ts=Vn[--xn],Vn[xn]=null,Li=Vn[--xn],Vn[xn]=null,Ui=Vn[--xn],Vn[xn]=null}var an=null,ue=null,qt=!1,Ss=null,ui=!1,_f=Error(s(519));function bs(e){var i=Error(s(418,""));throw Qo(Nn(i,e)),_f}function hp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Se]=e,i[pe]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<pl.length;a++)Vt(pl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),ls(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ia(i);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),us(i,l.value,l.defaultValue,l.children),ia(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||C_(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=vc),i=!0):i=!1,i||bs(e)}function fp(e){for(an=e.return;an;)switch(an.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:an=an.return}}function Go(e){if(e!==an)return!1;if(!qt)return fp(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||xd(e.type,e.memoizedProps)),a=!a),a&&ue&&bs(e),fp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ue=Qn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ue=null}}else i===27?(i=ue,Ir(e.type)?(e=Ld,Ld=null,ue=e):ue=i):ue=an?Qn(e.stateNode.nextSibling):null;return!0}function Fo(){ue=an=null,qt=!1}function dp(){var e=Ss;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Ss=null),e}function Qo(e){Ss===null?Ss=[e]:Ss.push(e)}var vf=X(null),ws=null,zi=null;function fr(e,i,a){W(vf,i._currentValue),i._currentValue=a}function Bi(e){e._currentValue=vf.current,et(vf)}function Ef(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Tf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var w=0;w<i.length;w++)if(E.context===i[w]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Ef(d.return,a,e),l||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Ef(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Yo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;gn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===se.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Al):e=[Al])}h=h.return}e!==null&&Tf(i,e,a,l),i.flags|=262144}function Bu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){ws=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return mp(ws,e)}function ju(e,i){return ws===null&&Rs(e),mp(e,i)}function mp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(e===null)throw Error(s(308));zi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else zi=zi.next=i;return a}var J1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},W1=r.unstable_scheduleCallback,tA=r.unstable_NormalPriority,Re={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new J1,data:new Map,refCount:0}}function Ko(e){e.refCount--,e.refCount===0&&W1(tA,function(){e.controller.abort()})}var Xo=null,Sf=0,Ea=0,Ta=null;function eA(e,i){if(Xo===null){var a=Xo=[];Sf=0,Ea=wd(),Ta={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(gp,gp),i}function gp(){if(--Sf===0&&Xo!==null){Ta!==null&&(Ta.status="fulfilled");var e=Xo;Xo=null,Ea=0,Ta=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function nA(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var pp=G.S;G.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&eA(e,i),pp!==null&&pp(e,i)};var Is=X(null);function bf(){var e=Is.current;return e!==null?e:te.pooledCache}function qu(e,i){i===null?W(Is,Is.current):W(Is,i.pool)}function yp(){var e=bf();return e===null?null:{parent:Re._currentValue,pool:e}}var $o=Error(s(460)),_p=Error(s(474)),Hu=Error(s(542)),wf={then:function(){}};function vp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gu(){}function Ep(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Gu,Gu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ap(e),e;default:if(typeof i.status=="string")i.then(Gu,Gu);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ap(e),e}throw Zo=i,$o}}var Zo=null;function Tp(){if(Zo===null)throw Error(s(459));var e=Zo;return Zo=null,e}function Ap(e){if(e===$o||e===Hu)throw Error(s(483))}var dr=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function gr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ku(e),lp(e,null,a),i}return Pu(e,l,i,a),ku(e)}function Jo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ro(e,a)}}function Cf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Df=!1;function Wo(){if(Df){var e=Ta;if(e!==null)throw e}}function tl(e,i,a,l){Df=!1;var h=e.updateQueue;dr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,z=w.next;w.next=null,v===null?d=z:v.next=z,v=w;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=w))}if(d!==null){var Y=h.baseState;v=0,F=z=w=null,E=d;do{var B=E.lane&-536870913,j=B!==E.lane;if(j?(Lt&B)===B:(l&B)===B){B!==0&&B===Ea&&(Df=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=e,pt=E;B=i;var Jt=a;switch(pt.tag){case 1:if(Et=pt.payload,typeof Et=="function"){Y=Et.call(Jt,Y,B);break t}Y=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=pt.payload,B=typeof Et=="function"?Et.call(Jt,Y,B):Et,B==null)break t;Y=T({},Y,B);break t;case 2:dr=!0}}B=E.callback,B!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[B]:j.push(B))}else j={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=j,w=Y):F=F.next=j,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;j=E,E=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);F===null&&(w=Y),h.baseState=w,h.firstBaseUpdate=z,h.lastBaseUpdate=F,d===null&&(h.shared.lanes=0),Sr|=v,e.lanes=v,e.memoizedState=Y}}function Sp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function bp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Sp(a[e],i)}var Aa=X(null),Fu=X(0);function wp(e,i){e=Yi,W(Fu,e),W(Aa,i),Yi=e|i.baseLanes}function Of(){W(Fu,Yi),W(Aa,Aa.current)}function Nf(){Yi=Fu.current,et(Aa),et(Fu)}var pr=0,Dt=null,$t=null,_e=null,Qu=!1,Sa=!1,Cs=!1,Yu=0,el=0,ba=null,iA=0;function de(){throw Error(s(321))}function Mf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!gn(e[a],i[a]))return!1;return!0}function Vf(e,i,a,l,h,d){return pr=d,Dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?ly:uy,Cs=!1,d=a(l,h),Cs=!1,Sa&&(d=Ip(i,a,l,h)),Rp(e),d}function Rp(e){G.H=Wu;var i=$t!==null&&$t.next!==null;if(pr=0,_e=$t=Dt=null,Qu=!1,el=0,ba=null,i)throw Error(s(300));e===null||xe||(e=e.dependencies,e!==null&&Bu(e)&&(xe=!0))}function Ip(e,i,a,l){Dt=e;var h=0;do{if(Sa&&(ba=null),el=0,Sa=!1,25<=h)throw Error(s(301));if(h+=1,_e=$t=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=cA,d=i(a,l)}while(Sa);return d}function rA(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?nl(i):i,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(Dt.flags|=1024),i}function xf(){var e=Yu!==0;return Yu=0,e}function Pf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function kf(e){if(Qu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Qu=!1}pr=0,_e=$t=Dt=null,Sa=!1,el=Yu=0,ba=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Dt.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if($t===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var i=_e===null?Dt.memoizedState:_e.next;if(i!==null)_e=i,$t=e;else{if(e===null)throw Dt.alternate===null?Error(s(467)):Error(s(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},_e===null?Dt.memoizedState=_e=e:_e=_e.next=e}return _e}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(e){var i=el;return el+=1,ba===null&&(ba=[]),e=Ep(ba,e,i),i=Dt,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?ly:uy),e}function Ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return nl(e);if(e.$$typeof===rt)return $e(e)}throw Error(s(438,String(e)))}function Lf(e){var i=null,a=Dt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Uf(),Dt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=M;return i.index++,a}function ji(e,i){return typeof i=="function"?i(e):i}function Xu(e){var i=ve();return zf(i,$t,e)}function zf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,w=null,z=i,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Lt&Y)===Y:(pr&Y)===Y){var B=z.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ea&&(F=!0);else if((pr&B)===B){z=z.next,B===Ea&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=Y,v=d):w=w.next=Y,Dt.lanes|=B,Sr|=B;Y=z.action,Cs&&a(d,Y),d=z.hasEagerState?z.eagerState:a(d,Y)}else B={lane:Y,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(E=w=B,v=d):w=w.next=B,Dt.lanes|=Y,Sr|=Y;z=z.next}while(z!==null&&z!==i);if(w===null?v=d:w.next=E,!gn(d,e.memoizedState)&&(xe=!0,F&&(a=Ta,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Bf(e){var i=ve(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);gn(d,i.memoizedState)||(xe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Cp(e,i,a){var l=Dt,h=ve(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!gn(($t||h).memoizedState,a);v&&(h.memoizedState=a,xe=!0),h=h.queue;var E=Np.bind(null,l,h,e);if(il(2048,8,E,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,wa(9,$u(),Op.bind(null,l,h,a,i),null),te===null)throw Error(s(349));d||(pr&124)!==0||Dp(l,i,a)}return a}function Dp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Dt.updateQueue,i===null?(i=Uf(),Dt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Op(e,i,a,l){i.value=a,i.getSnapshot=l,Mp(i)&&Vp(e)}function Np(e,i,a){return a(function(){Mp(i)&&Vp(e)})}function Mp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!gn(e,a)}catch{return!0}}function Vp(e){var i=pa(e,2);i!==null&&Tn(i,e,2)}function jf(e){var i=ln();if(typeof e=="function"){var a=e;if(e=a(),Cs){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},i}function xp(e,i,a,l){return e.baseState=a,zf(e,$t,typeof l=="function"?l:ji)}function sA(e,i,a,l,h){if(Ju(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Pp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Pp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var E=a(h,l),w=G.S;w!==null&&w(v,E),kp(e,i,E)}catch(z){qf(e,i,z)}finally{G.T=d}}else try{d=a(h,l),kp(e,i,d)}catch(z){qf(e,i,z)}}function kp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Up(e,i,l)},function(l){return qf(e,i,l)}):Up(e,i,a)}function Up(e,i,a){i.status="fulfilled",i.value=a,Lp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Pp(e,a)))}function qf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Lp(i),i=i.next;while(i!==l)}e.action=null}function Lp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function zp(e,i){return i}function Bp(e,i){if(qt){var a=te.formState;if(a!==null){t:{var l=Dt;if(qt){if(ue){e:{for(var h=ue,d=ui;h.nodeType!==8;){if(!d){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ue=Qn(h.nextSibling),l=h.data==="F!";break t}}bs(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:i},a.queue=l,a=sy.bind(null,Dt,l),l.dispatch=a,l=jf(!1),d=Yf.bind(null,Dt,!1,l.queue),l=ln(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=sA.bind(null,Dt,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function jp(e){var i=ve();return qp(i,$t,e)}function qp(e,i,a){if(i=zf(e,i,zp)[0],e=Xu(ji)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=nl(i)}catch(v){throw v===$o?Hu:v}else l=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Dt.flags|=2048,wa(9,$u(),aA.bind(null,h,a),null)),[l,d,e]}function aA(e,i){e.action=i}function Hp(e){var i=ve(),a=$t;if(a!==null)return qp(i,a,e);ve(),i=i.memoizedState,a=ve();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function wa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Dt.updateQueue,i===null&&(i=Uf(),Dt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function $u(){return{destroy:void 0,resource:void 0}}function Gp(){return ve().memoizedState}function Zu(e,i,a,l){var h=ln();l=l===void 0?null:l,Dt.flags|=e,h.memoizedState=wa(1|i,$u(),a,l)}function il(e,i,a,l){var h=ve();l=l===void 0?null:l;var d=h.memoizedState.inst;$t!==null&&l!==null&&Mf(l,$t.memoizedState.deps)?h.memoizedState=wa(i,d,a,l):(Dt.flags|=e,h.memoizedState=wa(1|i,d,a,l))}function Fp(e,i){Zu(8390656,8,e,i)}function Qp(e,i){il(2048,8,e,i)}function Yp(e,i){return il(4,2,e,i)}function Kp(e,i){return il(4,4,e,i)}function Xp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function $p(e,i,a){a=a!=null?a.concat([e]):null,il(4,4,Xp.bind(null,i,e),a)}function Hf(){}function Zp(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Mf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Jp(e,i){var a=ve();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Mf(i,l[1]))return l[0];if(l=e(),Cs){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[l,i],l}function Gf(e,i,a){return a===void 0||(pr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=e_(),Dt.lanes|=e,Sr|=e,a)}function Wp(e,i,a,l){return gn(a,i)?a:Aa.current!==null?(e=Gf(e,a,l),gn(e,i)||(xe=!0),e):(pr&42)===0?(xe=!0,e.memoizedState=a):(e=e_(),Dt.lanes|=e,Sr|=e,i)}function ty(e,i,a,l,h){var d=it.p;it.p=d!==0&&8>d?d:8;var v=G.T,E={};G.T=E,Yf(e,!1,i,a);try{var w=h(),z=G.S;if(z!==null&&z(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var F=nA(w,l);rl(e,i,F,En(e))}else rl(e,i,l,En(e))}catch(Y){rl(e,i,{then:function(){},status:"rejected",reason:Y},En())}finally{it.p=d,G.T=v}}function oA(){}function Ff(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=ey(e).queue;ty(e,h,i,ft,a===null?oA:function(){return ny(e),a(l)})}function ey(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ft},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ny(e){var i=ey(e).next.queue;rl(e,i,{},En())}function Qf(){return $e(Al)}function iy(){return ve().memoizedState}function ry(){return ve().memoizedState}function lA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();e=mr(a);var l=gr(i,e,a);l!==null&&(Tn(l,i,a),Jo(l,i,a)),i={cache:Af()},e.payload=i;return}i=i.return}}function uA(e,i,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(e)?ay(i,a):(a=ff(e,i,a,l),a!==null&&(Tn(a,e,l),oy(a,i,l)))}function sy(e,i,a){var l=En();rl(e,i,a,l)}function rl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))ay(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,v))return Pu(e,i,h,0),te===null&&xu(),!1}catch{}finally{}if(a=ff(e,i,h,l),a!==null)return Tn(a,e,l),oy(a,i,l),!0}return!1}function Yf(e,i,a,l){if(l={lane:2,revertLane:wd(),action:l,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(i)throw Error(s(479))}else i=ff(e,a,l,2),i!==null&&Tn(i,e,2)}function Ju(e){var i=e.alternate;return e===Dt||i!==null&&i===Dt}function ay(e,i){Sa=Qu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function oy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Ro(e,a)}}var Wu={readContext:$e,use:Ku,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},ly={readContext:$e,use:Ku,useCallback:function(e,i){return ln().memoizedState=[e,i===void 0?null:i],e},useContext:$e,useEffect:Fp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Zu(4194308,4,Xp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Zu(4194308,4,e,i)},useInsertionEffect:function(e,i){Zu(4,2,e,i)},useMemo:function(e,i){var a=ln();i=i===void 0?null:i;var l=e();if(Cs){dn(!0);try{e()}finally{dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=ln();if(a!==void 0){var h=a(i);if(Cs){dn(!0);try{a(i)}finally{dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=uA.bind(null,Dt,e),[l.memoizedState,e]},useRef:function(e){var i=ln();return e={current:e},i.memoizedState=e},useState:function(e){e=jf(e);var i=e.queue,a=sy.bind(null,Dt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(e,i){var a=ln();return Gf(a,e,i)},useTransition:function(){var e=jf(!1);return e=ty.bind(null,Dt,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Dt,h=ln();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),te===null)throw Error(s(349));(Lt&124)!==0||Dp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Fp(Np.bind(null,l,d,e),[e]),l.flags|=2048,wa(9,$u(),Op.bind(null,l,d,a,i),null),a},useId:function(){var e=ln(),i=te.identifierPrefix;if(qt){var a=Li,l=Ui;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Yu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=iA++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Qf,useFormState:Bp,useActionState:Bp,useOptimistic:function(e){var i=ln();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yf.bind(null,Dt,!0,a),a.dispatch=i,[e,i]},useMemoCache:Lf,useCacheRefresh:function(){return ln().memoizedState=lA.bind(null,Dt)}},uy={readContext:$e,use:Ku,useCallback:Zp,useContext:$e,useEffect:Qp,useImperativeHandle:$p,useInsertionEffect:Yp,useLayoutEffect:Kp,useMemo:Jp,useReducer:Xu,useRef:Gp,useState:function(){return Xu(ji)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=ve();return Wp(a,$t.memoizedState,e,i)},useTransition:function(){var e=Xu(ji)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Cp,useId:iy,useHostTransitionStatus:Qf,useFormState:jp,useActionState:jp,useOptimistic:function(e,i){var a=ve();return xp(a,$t,e,i)},useMemoCache:Lf,useCacheRefresh:ry},cA={readContext:$e,use:Ku,useCallback:Zp,useContext:$e,useEffect:Qp,useImperativeHandle:$p,useInsertionEffect:Yp,useLayoutEffect:Kp,useMemo:Jp,useReducer:Bf,useRef:Gp,useState:function(){return Bf(ji)},useDebugValue:Hf,useDeferredValue:function(e,i){var a=ve();return $t===null?Gf(a,e,i):Wp(a,$t.memoizedState,e,i)},useTransition:function(){var e=Bf(ji)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:nl(e),i]},useSyncExternalStore:Cp,useId:iy,useHostTransitionStatus:Qf,useFormState:Hp,useActionState:Hp,useOptimistic:function(e,i){var a=ve();return $t!==null?xp(a,$t,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:ry},Ra=null,sl=0;function tc(e){var i=sl;return sl+=1,Ra===null&&(Ra=[]),Ep(Ra,e,i)}function al(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function ec(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function cy(e){var i=e._init;return i(e._payload)}function hy(e){function i(x,N){if(e){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=ki(x,N),x.index=0,x.sibling=null,x}function d(x,N,L){return x.index=L,e?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=67108866,N):L):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function E(x,N,L,Q){return N===null||N.tag!==6?(N=mf(L,x.mode,Q),N.return=x,N):(N=h(N,L),N.return=x,N)}function w(x,N,L,Q){var ct=L.type;return ct===H?F(x,N,L.props.children,Q,L.key):N!==null&&(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&cy(ct)===N.type)?(N=h(N,L.props),al(N,L),N.return=x,N):(N=Uu(L.type,L.key,L.props,null,x.mode,Q),al(N,L),N.return=x,N)}function z(x,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=gf(L,x.mode,Q),N.return=x,N):(N=h(N,L.children||[]),N.return=x,N)}function F(x,N,L,Q,ct){return N===null||N.tag!==7?(N=Es(L,x.mode,Q,ct),N.return=x,N):(N=h(N,L),N.return=x,N)}function Y(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=mf(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case C:return L=Uu(N.type,N.key,N.props,null,x.mode,L),al(L,N),L.return=x,L;case P:return N=gf(N,x.mode,L),N.return=x,N;case S:var Q=N._init;return N=Q(N._payload),Y(x,N,L)}if(ne(N)||k(N))return N=Es(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return Y(x,tc(N),L);if(N.$$typeof===rt)return Y(x,ju(x,N),L);ec(x,N)}return null}function B(x,N,L,Q){var ct=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(x,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===ct?w(x,N,L,Q):null;case P:return L.key===ct?z(x,N,L,Q):null;case S:return ct=L._init,L=ct(L._payload),B(x,N,L,Q)}if(ne(L)||k(L))return ct!==null?null:F(x,N,L,Q,null);if(typeof L.then=="function")return B(x,N,tc(L),Q);if(L.$$typeof===rt)return B(x,N,ju(x,L),Q);ec(x,L)}return null}function j(x,N,L,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(L)||null,E(N,x,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case C:return x=x.get(Q.key===null?L:Q.key)||null,w(N,x,Q,ct);case P:return x=x.get(Q.key===null?L:Q.key)||null,z(N,x,Q,ct);case S:var Nt=Q._init;return Q=Nt(Q._payload),j(x,N,L,Q,ct)}if(ne(Q)||k(Q))return x=x.get(L)||null,F(N,x,Q,ct,null);if(typeof Q.then=="function")return j(x,N,L,tc(Q),ct);if(Q.$$typeof===rt)return j(x,N,L,ju(N,Q),ct);ec(N,Q)}return null}function Et(x,N,L,Q){for(var ct=null,Nt=null,mt=N,vt=N=0,ke=null;mt!==null&&vt<L.length;vt++){mt.index>vt?(ke=mt,mt=null):ke=mt.sibling;var jt=B(x,mt,L[vt],Q);if(jt===null){mt===null&&(mt=ke);break}e&&mt&&jt.alternate===null&&i(x,mt),N=d(jt,N,vt),Nt===null?ct=jt:Nt.sibling=jt,Nt=jt,mt=ke}if(vt===L.length)return a(x,mt),qt&&As(x,vt),ct;if(mt===null){for(;vt<L.length;vt++)mt=Y(x,L[vt],Q),mt!==null&&(N=d(mt,N,vt),Nt===null?ct=mt:Nt.sibling=mt,Nt=mt);return qt&&As(x,vt),ct}for(mt=l(mt);vt<L.length;vt++)ke=j(mt,x,vt,L[vt],Q),ke!==null&&(e&&ke.alternate!==null&&mt.delete(ke.key===null?vt:ke.key),N=d(ke,N,vt),Nt===null?ct=ke:Nt.sibling=ke,Nt=ke);return e&&mt.forEach(function(Mr){return i(x,Mr)}),qt&&As(x,vt),ct}function pt(x,N,L,Q){if(L==null)throw Error(s(151));for(var ct=null,Nt=null,mt=N,vt=N=0,ke=null,jt=L.next();mt!==null&&!jt.done;vt++,jt=L.next()){mt.index>vt?(ke=mt,mt=null):ke=mt.sibling;var Mr=B(x,mt,jt.value,Q);if(Mr===null){mt===null&&(mt=ke);break}e&&mt&&Mr.alternate===null&&i(x,mt),N=d(Mr,N,vt),Nt===null?ct=Mr:Nt.sibling=Mr,Nt=Mr,mt=ke}if(jt.done)return a(x,mt),qt&&As(x,vt),ct;if(mt===null){for(;!jt.done;vt++,jt=L.next())jt=Y(x,jt.value,Q),jt!==null&&(N=d(jt,N,vt),Nt===null?ct=jt:Nt.sibling=jt,Nt=jt);return qt&&As(x,vt),ct}for(mt=l(mt);!jt.done;vt++,jt=L.next())jt=j(mt,x,vt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&mt.delete(jt.key===null?vt:jt.key),N=d(jt,N,vt),Nt===null?ct=jt:Nt.sibling=jt,Nt=jt);return e&&mt.forEach(function(hS){return i(x,hS)}),qt&&As(x,vt),ct}function Jt(x,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===H&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:t:{for(var ct=L.key;N!==null;){if(N.key===ct){if(ct=L.type,ct===H){if(N.tag===7){a(x,N.sibling),Q=h(N,L.props.children),Q.return=x,x=Q;break t}}else if(N.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&cy(ct)===N.type){a(x,N.sibling),Q=h(N,L.props),al(Q,L),Q.return=x,x=Q;break t}a(x,N);break}else i(x,N);N=N.sibling}L.type===H?(Q=Es(L.props.children,x.mode,Q,L.key),Q.return=x,x=Q):(Q=Uu(L.type,L.key,L.props,null,x.mode,Q),al(Q,L),Q.return=x,x=Q)}return v(x);case P:t:{for(ct=L.key;N!==null;){if(N.key===ct)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){a(x,N.sibling),Q=h(N,L.children||[]),Q.return=x,x=Q;break t}else{a(x,N);break}else i(x,N);N=N.sibling}Q=gf(L,x.mode,Q),Q.return=x,x=Q}return v(x);case S:return ct=L._init,L=ct(L._payload),Jt(x,N,L,Q)}if(ne(L))return Et(x,N,L,Q);if(k(L)){if(ct=k(L),typeof ct!="function")throw Error(s(150));return L=ct.call(L),pt(x,N,L,Q)}if(typeof L.then=="function")return Jt(x,N,tc(L),Q);if(L.$$typeof===rt)return Jt(x,N,ju(x,L),Q);ec(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(a(x,N.sibling),Q=h(N,L),Q.return=x,x=Q):(a(x,N),Q=mf(L,x.mode,Q),Q.return=x,x=Q),v(x)):a(x,N)}return function(x,N,L,Q){try{sl=0;var ct=Jt(x,N,L,Q);return Ra=null,ct}catch(mt){if(mt===$o||mt===Hu)throw mt;var Nt=pn(29,mt,null,x.mode);return Nt.lanes=Q,Nt.return=x,Nt}finally{}}}var Ia=hy(!0),fy=hy(!1),Pn=X(null),ci=null;function yr(e){var i=e.alternate;W(Ie,Ie.current&1),W(Pn,e),ci===null&&(i===null||Aa.current!==null||i.memoizedState!==null)&&(ci=e)}function dy(e){if(e.tag===22){if(W(Ie,Ie.current),W(Pn,e),ci===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ci=e)}}else _r()}function _r(){W(Ie,Ie.current),W(Pn,Pn.current)}function qi(e){et(Pn),ci===e&&(ci=null),et(Ie)}var Ie=X(0);function nc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ud(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Kf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Xf={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=En(),h=mr(l);h.payload=i,a!=null&&(h.callback=a),i=gr(e,h,l),i!==null&&(Tn(i,e,l),Jo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=En(),h=mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=gr(e,h,l),i!==null&&(Tn(i,e,l),Jo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=En(),l=mr(a);l.tag=2,i!=null&&(l.callback=i),i=gr(e,l,a),i!==null&&(Tn(i,e,a),Jo(i,e,a))}};function my(e,i,a,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!qo(a,l)||!qo(h,d):!0}function gy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Xf.enqueueReplaceState(i,i.state,null)}function Ds(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var ic=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function py(e){ic(e)}function yy(e){console.error(e)}function _y(e){ic(e)}function rc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function vy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(e,i,a){return a=mr(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(e,i)},a}function Ey(e){return e=mr(e),e.tag=3,e}function Ty(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){vy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){vy(i,a,l),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function hA(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Yo(i,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return ci===null?Ed():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===wf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ad(e,l,h)),!1;case 22:return a.flags|=65536,l===wf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ad(e,l,h)),!1}throw Error(s(435,a.tag))}return Ad(e,l,h),Ed(),!1}if(qt)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(e=Error(s(422),{cause:l}),Qo(Nn(e,a)))):(l!==_f&&(i=Error(s(423),{cause:l}),Qo(Nn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,a),h=$f(e.stateNode,l,h),Cf(e,h),ce!==4&&(ce=2)),!1;var d=Error(s(520),{cause:l});if(d=Nn(d,a),dl===null?dl=[d]:dl.push(d),ce!==4&&(ce=2),i===null)return!0;l=Nn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=$f(a.stateNode,l,e),Cf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ey(h),Ty(h,e,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Ay=Error(s(461)),xe=!1;function je(e,i,a,l){i.child=e===null?fy(i,null,a,l):Ia(i,e.child,a,l)}function Sy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Rs(i),l=Vf(e,i,a,v,d,h),E=xf(),e!==null&&!xe?(Pf(e,i,h),Hi(e,i,h)):(qt&&E&&pf(i),i.flags|=1,je(e,i,l,h),i.child)}function by(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,wy(e,i,d,l,h)):(e=Uu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!rd(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(v,l)&&e.ref===i.ref)return Hi(e,i,h)}return i.flags|=1,e=ki(d,l),e.ref=i.ref,e.return=i,i.child=e}function wy(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(qo(d,l)&&e.ref===i.ref)if(xe=!1,i.pendingProps=l=d,rd(e,h))(e.flags&131072)!==0&&(xe=!0);else return i.lanes=e.lanes,Hi(e,i,h)}return Zf(e,i,a,l,h)}function Ry(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Iy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&qu(i,d!==null?d.cachePool:null),d!==null?wp(i,d):Of(),dy(i);else return i.lanes=i.childLanes=536870912,Iy(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(qu(i,d.cachePool),wp(i,d),_r(),i.memoizedState=null):(e!==null&&qu(i,null),Of(),_r());return je(e,i,h,a),i.child}function Iy(e,i,a,l){var h=bf();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&qu(i,null),Of(),dy(i),e!==null&&Yo(e,i,l,!0),null}function sc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Zf(e,i,a,l,h){return Rs(i),a=Vf(e,i,a,l,void 0,h),l=xf(),e!==null&&!xe?(Pf(e,i,h),Hi(e,i,h)):(qt&&l&&pf(i),i.flags|=1,je(e,i,a,h),i.child)}function Cy(e,i,a,l,h,d){return Rs(i),i.updateQueue=null,a=Ip(i,l,a,h),Rp(e),l=xf(),e!==null&&!xe?(Pf(e,i,d),Hi(e,i,d)):(qt&&l&&pf(i),i.flags|=1,je(e,i,a,d),i.child)}function Dy(e,i,a,l,h){if(Rs(i),i.stateNode===null){var d=ya,v=a.contextType;typeof v=="object"&&v!==null&&(d=$e(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Rf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?$e(v):ya,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Xf.enqueueReplaceState(d,d.state,null),tl(i,l,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,w=Ds(a,E);d.props=w;var z=d.context,F=a.contextType;v=ya,typeof F=="object"&&F!==null&&(v=$e(F));var Y=a.getDerivedStateFromProps;F=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==v)&&gy(i,d,l,v),dr=!1;var B=i.memoizedState;d.state=B,tl(i,l,d,h),Wo(),z=i.memoizedState,E||B!==z||dr?(typeof Y=="function"&&(Kf(i,a,Y,l),z=i.memoizedState),(w=dr||my(i,a,w,l,B,z,v))?(F||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,If(e,i),v=i.memoizedProps,F=Ds(a,v),d.props=F,Y=i.pendingProps,B=d.context,z=a.contextType,w=ya,typeof z=="object"&&z!==null&&(w=$e(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Y||B!==w)&&gy(i,d,l,w),dr=!1,B=i.memoizedState,d.state=B,tl(i,l,d,h),Wo();var j=i.memoizedState;v!==Y||B!==j||dr||e!==null&&e.dependencies!==null&&Bu(e.dependencies)?(typeof E=="function"&&(Kf(i,a,E,l),j=i.memoizedState),(F=dr||my(i,a,F,l,B,j,w)||e!==null&&e.dependencies!==null&&Bu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,j,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,j,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=w,l=F):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,sc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ia(i,e.child,null,h),i.child=Ia(i,null,a,h)):je(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Hi(e,i,h),e}function Oy(e,i,a,l){return Fo(),i.flags|=256,je(e,i,a,l),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(e){return{baseLanes:e,cachePool:yp()}}function td(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=kn),e}function Ny(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?yr(i):_r(),qt){var E=ue,w;if(w=E){t:{for(w=E,E=ui;w.nodeType!==8;){if(!E){E=null;break t}if(w=Qn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(i.memoizedState={dehydrated:E,treeContext:Ts!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},w=pn(18,null,null,0),w.stateNode=E,w.return=i,i.child=w,an=i,ue=null,w=!0):w=!1}w||bs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ud(E)?i.lanes=32:i.lanes=536870912,null;qi(i)}return E=l.children,l=l.fallback,h?(_r(),h=i.mode,E=ac({mode:"hidden",children:E},h),l=Es(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=Wf(a),h.childLanes=td(e,v,a),i.memoizedState=Jf,l):(yr(i),ed(i,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(d)i.flags&256?(yr(i),i.flags&=-257,i=nd(e,i,a)):i.memoizedState!==null?(_r(),i.child=e.child,i.flags|=128,i=null):(_r(),h=l.fallback,E=i.mode,l=ac({mode:"visible",children:l.children},E),h=Es(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ia(i,e.child,null,a),l=i.child,l.memoizedState=Wf(a),l.childLanes=td(e,v,a),i.memoizedState=Jf,i=h);else if(yr(i),Ud(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Qo({value:l,source:null,stack:null}),i=nd(e,i,a)}else if(xe||Yo(e,i,a,!1),v=(a&e.childLanes)!==0,xe||v){if(v=te,v!==null&&(l=a&-a,l=(l&42)!==0?1:sr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,pa(e,l),Tn(v,e,l),Ay;E.data==="$?"||Ed(),i=nd(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,ue=Qn(E.nextSibling),an=i,qt=!0,Ss=null,ui=!1,e!==null&&(Vn[xn++]=Ui,Vn[xn++]=Li,Vn[xn++]=Ts,Ui=e.id,Li=e.overflow,Ts=i),i=ed(i,l.children),i.flags|=4096);return i}return h?(_r(),h=l.fallback,E=i.mode,w=e.child,z=w.sibling,l=ki(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,z!==null?h=ki(z,h):(h=Es(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=e.child.memoizedState,E===null?E=Wf(a):(w=E.cachePool,w!==null?(z=Re._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=yp(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=td(e,v,a),i.memoizedState=Jf,l):(yr(i),a=e.child,e=a.sibling,a=ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function ed(e,i){return i=ac({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ac(e,i){return e=pn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function nd(e,i,a){return Ia(i,e.child,null,a),e=ed(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function My(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Ef(e.return,i,a)}function id(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Vy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(je(e,i,l.children,a),l=Ie.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&My(e,a,i);else if(e.tag===19)My(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(W(Ie,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&nc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),id(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&nc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}id(i,!0,a,null,d);break;case"together":id(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Hi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Sr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Yo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=ki(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=ki(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function rd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Bu(e)))}function fA(e,i,a){switch(i.tag){case 3:Bt(i,i.stateNode.containerInfo),fr(i,Re,e.memoizedState.cache),Fo();break;case 27:case 5:bn(i);break;case 4:Bt(i,i.stateNode.containerInfo);break;case 10:fr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(yr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ny(e,i,a):(yr(i),e=Hi(e,i,a),e!==null?e.sibling:null);yr(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Yo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Vy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Ie,Ie.current),l)break;return null;case 22:case 23:return i.lanes=0,Ry(e,i,a);case 24:fr(i,Re,e.memoizedState.cache)}return Hi(e,i,a)}function xy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)xe=!0;else{if(!rd(e,a)&&(i.flags&128)===0)return xe=!1,fA(e,i,a);xe=(e.flags&131072)!==0}else xe=!1,qt&&(i.flags&1048576)!==0&&cp(i,zu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")df(l)?(e=Ds(l,e),i.tag=1,i=Dy(null,i,l,e,a)):(i.tag=0,i=Zf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ht){i.tag=11,i=Sy(null,i,l,e,a);break t}else if(h===R){i.tag=14,i=by(null,i,l,e,a);break t}}throw i=Ae(l)||l,Error(s(306,i,""))}}return i;case 0:return Zf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ds(l,i.pendingProps),Dy(e,i,l,h,a);case 3:t:{if(Bt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,If(e,i),tl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,fr(i,Re,l),l!==d.cache&&Tf(i,[Re],a,!0),Wo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Oy(e,i,l,a);break t}else if(l!==h){h=Nn(Error(s(424)),i),Qo(h),i=Oy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Qn(e.firstChild),an=i,qt=!0,Ss=null,ui=!0,a=fy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fo(),l===h){i=Hi(e,i,a);break t}je(e,i,l,a)}i=i.child}return i;case 26:return sc(e,i),e===null?(a=L_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=Ec(gt.current).createElement(a),l[Se]=i,l[pe]=e,He(l,a,e),fe(l),i.stateNode=l):i.memoizedState=L_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return bn(i),e===null&&qt&&(l=i.stateNode=P_(i.type,i.pendingProps,gt.current),an=i,ui=!0,h=ue,Ir(i.type)?(Ld=h,ue=Qn(l.firstChild)):ue=h),je(e,i,i.pendingProps.children,a),sc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=ue)&&(l=BA(l,i.type,i.pendingProps,ui),l!==null?(i.stateNode=l,an=i,ue=Qn(l.firstChild),ui=!1,h=!0):h=!1),h||bs(i)),bn(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,xd(h,d)?l=null:v!==null&&xd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Vf(e,i,rA,null,null,a),Al._currentValue=h),sc(e,i),je(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=ue)&&(a=jA(a,i.pendingProps,ui),a!==null?(i.stateNode=a,an=i,ue=null,e=!0):e=!1),e||bs(i)),null;case 13:return Ny(e,i,a);case 4:return Bt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ia(i,null,l,a):je(e,i,l,a),i.child;case 11:return Sy(e,i,i.type,i.pendingProps,a);case 7:return je(e,i,i.pendingProps,a),i.child;case 8:return je(e,i,i.pendingProps.children,a),i.child;case 12:return je(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,fr(i,i.type,l.value),je(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Rs(i),h=$e(h),l=l(h),i.flags|=1,je(e,i,l,a),i.child;case 14:return by(e,i,i.type,i.pendingProps,a);case 15:return wy(e,i,i.type,i.pendingProps,a);case 19:return Vy(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=ac(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=ki(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ry(e,i,a);case 24:return Rs(i),l=$e(Re),e===null?(h=bf(),h===null&&(h=te,d=Af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Rf(i),fr(i,Re,h)):((e.lanes&a)!==0&&(If(e,i),tl(i,null,null,a),Wo()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),fr(i,Re,l)):(l=d.cache,fr(i,Re,l),l!==h.cache&&Tf(i,[Re],a,!0))),je(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gi(e){e.flags|=4}function Py(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(i)){if(i=Pn.current,i!==null&&((Lt&4194048)===Lt?ci!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||i!==ci))throw Zo=wf,_p;e.flags|=8192}}function oc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?bo():536870912,e.lanes|=i,Na|=i)}function ol(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function dA(e,i,a){var l=i.pendingProps;switch(yf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(i),null;case 1:return ae(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Bi(Re),Ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Go(i)?Gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,dp())),ae(i),null;case 26:return a=i.memoizedState,e===null?(Gi(i),a!==null?(ae(i),Py(i,a)):(ae(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Gi(i),ae(i),Py(i,a)):(ae(i),i.flags&=-16777217):(e.memoizedProps!==l&&Gi(i),ae(i),i.flags&=-16777217),null;case 27:on(i),a=gt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}e=dt.current,Go(i)?hp(i):(e=P_(h,l,a),i.stateNode=e,Gi(i))}return ae(i),null;case 5:if(on(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ae(i),null}if(e=dt.current,Go(i))hp(i);else{switch(h=Ec(gt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Se]=i,e[pe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(He(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Gi(i)}}return ae(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Gi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=gt.current,Go(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C_(e.nodeValue,a)),e||bs(i)}else e=Ec(e).createTextNode(l),e[Se]=i,i.stateNode=e}return ae(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Go(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else Fo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ae(i),h=!1}else h=dp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(qi(i),i):(qi(i),null)}if(qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),oc(i,i.updateQueue),ae(i),null;case 4:return Ne(),e===null&&Dd(i.stateNode.containerInfo),ae(i),null;case 10:return Bi(i.type),ae(i),null;case 19:if(et(Ie),h=i.memoizedState,h===null)return ae(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ol(h,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=nc(e),d!==null){for(i.flags|=128,ol(h,!1),e=d.updateQueue,i.updateQueue=e,oc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)up(a,e),a=a.sibling;return W(Ie,Ie.current&1|2),i.child}e=e.sibling}h.tail!==null&&wn()>cc&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304)}else{if(!l)if(e=nc(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,oc(i,e),ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return ae(i),null}else 2*wn()-h.renderingStartTime>cc&&a!==536870912&&(i.flags|=128,l=!0,ol(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=wn(),i.sibling=null,e=Ie.current,W(Ie,l?e&1|2:e&1),i):(ae(i),null);case 22:case 23:return qi(i),Nf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ae(i),i.subtreeFlags&6&&(i.flags|=8192)):ae(i),a=i.updateQueue,a!==null&&oc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&et(Is),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Bi(Re),ae(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function mA(e,i){switch(yf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Bi(Re),Ne(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return on(i),null;case 13:if(qi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return et(Ie),null;case 4:return Ne(),null;case 10:return Bi(i.type),null;case 22:case 23:return qi(i),Nf(),e!==null&&et(Is),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Bi(Re),null;case 25:return null;default:return null}}function ky(e,i){switch(yf(i),i.tag){case 3:Bi(Re),Ne();break;case 26:case 27:case 5:on(i);break;case 4:Ne();break;case 13:qi(i);break;case 19:et(Ie);break;case 10:Bi(i.type);break;case 22:case 23:qi(i),Nf(),e!==null&&et(Is);break;case 24:Bi(Re)}}function ll(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Wt(i,i.return,E)}}function vr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var w=a,z=E;try{z()}catch(F){Wt(h,w,F)}}}l=l.next}while(l!==d)}}catch(F){Wt(i,i.return,F)}}function Uy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{bp(i,a)}catch(l){Wt(e,e.return,l)}}}function Ly(e,i,a){a.props=Ds(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(e,i,l)}}function ul(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Wt(e,i,h)}}function hi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(e,i,h)}else a.current=null}function zy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(e,e.return,h)}}function sd(e,i,a){try{var l=e.stateNode;PA(l,e.type,a,i),l[pe]=i}catch(h){Wt(e,e.return,h)}}function By(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ir(e.type)||e.tag===4}function ad(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||By(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ir(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function od(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=vc));else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(od(e,i,a),e=e.sibling;e!==null;)od(e,i,a),e=e.sibling}function lc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Ir(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(lc(e,i,a),e=e.sibling;e!==null;)lc(e,i,a),e=e.sibling}function jy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);He(i,l,a),i[Se]=e,i[pe]=a}catch(d){Wt(e,e.return,d)}}var Fi=!1,me=!1,ld=!1,qy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function gA(e,i){if(e=e.containerInfo,Md=Rc,e=Wg(e),af(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,w=-1,z=0,F=0,Y=e,B=null;e:for(;;){for(var j;Y!==a||h!==0&&Y.nodeType!==3||(E=v+h),Y!==d||l!==0&&Y.nodeType!==3||(w=v+l),Y.nodeType===3&&(v+=Y.nodeValue.length),(j=Y.firstChild)!==null;)B=Y,Y=j;for(;;){if(Y===e)break e;if(B===a&&++z===h&&(E=v),B===d&&++F===l&&(w=v),(j=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=j}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:e,selectionRange:a},Rc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Et=Ds(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Et,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Wt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)kd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":kd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Hy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Er(e,a),l&4&&ll(5,a);break;case 1:if(Er(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){Wt(a,a.return,v)}else{var h=Ds(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(a,a.return,v)}}l&64&&Uy(a),l&512&&ul(a,a.return);break;case 3:if(Er(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{bp(e,i)}catch(v){Wt(a,a.return,v)}}break;case 27:i===null&&l&4&&jy(a);case 26:case 5:Er(e,a),i===null&&l&4&&zy(a),l&512&&ul(a,a.return);break;case 12:Er(e,a);break;case 13:Er(e,a),l&4&&Qy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=bA.bind(null,a),qA(e,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||me,h=Fi;var d=me;Fi=l,(me=i)&&!d?Tr(e,a,(a.subtreeFlags&8772)!==0):Er(e,a),Fi=h,me=d}break;case 30:break;default:Er(e,a)}}function Gy(e){var i=e.alternate;i!==null&&(e.alternate=null,Gy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&lr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,un=!1;function Qi(e,i,a){for(a=a.child;a!==null;)Fy(e,i,a),a=a.sibling}function Fy(e,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:me||hi(a,i),Qi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||hi(a,i);var l=re,h=un;Ir(a.type)&&(re=a.stateNode,un=!1),Qi(e,i,a),_l(a.stateNode),re=l,un=h;break;case 5:me||hi(a,i);case 6:if(l=re,h=un,re=null,Qi(e,i,a),re=l,un=h,re!==null)if(un)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(a.stateNode)}catch(d){Wt(a,i,d)}else try{re.removeChild(a.stateNode)}catch(d){Wt(a,i,d)}break;case 18:re!==null&&(un?(e=re,V_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Rl(e)):V_(re,a.stateNode));break;case 4:l=re,h=un,re=a.stateNode.containerInfo,un=!0,Qi(e,i,a),re=l,un=h;break;case 0:case 11:case 14:case 15:me||vr(2,a,i),me||vr(4,a,i),Qi(e,i,a);break;case 1:me||(hi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Ly(a,i,l)),Qi(e,i,a);break;case 21:Qi(e,i,a);break;case 22:me=(l=me)||a.memoizedState!==null,Qi(e,i,a),me=l;break;default:Qi(e,i,a)}}function Qy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Rl(e)}catch(a){Wt(i,i.return,a)}}function pA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new qy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new qy),i;default:throw Error(s(435,e.tag))}}function ud(e,i){var a=pA(e);i.forEach(function(l){var h=wA.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Ir(E.type)){re=E.stateNode,un=!1;break t}break;case 5:re=E.stateNode,un=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(re===null)throw Error(s(160));Fy(d,v,h),re=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Yy(i,e),i=i.sibling}var Fn=null;function Yy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(i,e),_n(e),l&4&&(vr(3,e,e.return),ll(3,e),vr(5,e,e.return));break;case 1:yn(i,e),_n(e),l&512&&(me||a===null||hi(a,a.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(yn(i,e),_n(e),l&512&&(me||a===null||hi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rs]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),He(d,l,a),d[Se]=e,fe(d),l=d;break t;case"link":var v=j_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(l),He(d,l,a),h.head.appendChild(d);break;case"meta":if(v=j_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(l),He(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,fe(d),l=d}e.stateNode=l}else q_(h,e.type,e.stateNode);else e.stateNode=B_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?q_(h,e.type,e.stateNode):B_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&sd(e,e.memoizedProps,a.memoizedProps)}break;case 27:yn(i,e),_n(e),l&512&&(me||a===null||hi(a,a.return)),a!==null&&l&4&&sd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,e),_n(e),l&512&&(me||a===null||hi(a,a.return)),e.flags&32){h=e.stateNode;try{In(h,"")}catch(j){Wt(e,e.return,j)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,sd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ld=!0);break;case 6:if(yn(i,e),_n(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(j){Wt(e,e.return,j)}}break;case 3:if(Sc=null,h=Fn,Fn=Tc(i.containerInfo),yn(i,e),Fn=h,_n(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Rl(i.containerInfo)}catch(j){Wt(e,e.return,j)}ld&&(ld=!1,Ky(e));break;case 4:l=Fn,Fn=Tc(e.stateNode.containerInfo),yn(i,e),_n(e),Fn=l;break;case 12:yn(i,e),_n(e);break;case 13:yn(i,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gd=wn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ud(e,l)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=Fi,F=me;if(Fi=z||h,me=F||w,yn(i,e),me=F,Fi=z,_n(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||Fi||me||Os(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=w.stateNode;var Y=w.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){Wt(w,w.return,j)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(j){Wt(w,w.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ud(e,a))));break;case 19:yn(i,e),_n(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ud(e,l)));break;case 30:break;case 21:break;default:yn(i,e),_n(e)}}function _n(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(By(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ad(e);lc(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(In(v,""),a.flags&=-33);var E=ad(e);lc(e,E,v);break;case 3:case 4:var w=a.stateNode.containerInfo,z=ad(e);od(e,z,w);break;default:throw Error(s(161))}}catch(F){Wt(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ky(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ky(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Er(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(e,i.alternate,i),i=i.sibling}function Os(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:vr(4,i,i.return),Os(i);break;case 1:hi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Ly(i,i.return,a),Os(i);break;case 27:_l(i.stateNode);case 26:case 5:hi(i,i.return),Os(i);break;case 22:i.memoizedState===null&&Os(i);break;case 30:Os(i);break;default:Os(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),ll(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Wt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Sp(w[h],E)}catch(z){Wt(l,l.return,z)}}a&&v&64&&Uy(d),ul(d,d.return);break;case 27:jy(d);case 26:case 5:Tr(h,d,a),a&&l===null&&v&4&&zy(d),ul(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&v&4&&Qy(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),ul(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function cd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ko(a))}function hd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e))}function fi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xy(e,i,a,l),i=i.sibling}function Xy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:fi(e,i,a,l),h&2048&&ll(9,i);break;case 1:fi(e,i,a,l);break;case 3:fi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Ko(e)));break;case 12:if(h&2048){fi(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Wt(i,i.return,w)}}else fi(e,i,a,l);break;case 13:fi(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?fi(e,i,a,l):cl(e,i):d._visibility&2?fi(e,i,a,l):(d._visibility|=2,Ca(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&cd(v,i);break;case 24:fi(e,i,a,l),h&2048&&hd(i.alternate,i);break;default:fi(e,i,a,l)}}function Ca(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,w=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Ca(d,v,E,w,h),ll(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Ca(d,v,E,w,h):cl(d,v):(F._visibility|=2,Ca(d,v,E,w,h)),h&&z&2048&&cd(v.alternate,v);break;case 24:Ca(d,v,E,w,h),h&&z&2048&&hd(v.alternate,v);break;default:Ca(d,v,E,w,h)}i=i.sibling}}function cl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&cd(l.alternate,l);break;case 24:cl(a,l),h&2048&&hd(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function Da(e){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)$y(e),e=e.sibling}function $y(e){switch(e.tag){case 26:Da(e),e.flags&hl&&e.memoizedState!==null&&eS(Fn,e.memoizedState,e.memoizedProps);break;case 5:Da(e);break;case 3:case 4:var i=Fn;Fn=Tc(e.stateNode.containerInfo),Da(e),Fn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=hl,hl=16777216,Da(e),hl=i):Da(e));break;default:Da(e)}}function Zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function fl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,Wy(l,e)}Zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jy(e),e=e.sibling}function Jy(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&vr(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,uc(e)):fl(e);break;default:fl(e)}}function uc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,Wy(l,e)}Zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:vr(8,i,i.return),uc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,uc(i));break;default:uc(i)}e=e.sibling}}function Wy(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if(Gy(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var yA={getCacheForType:function(e){var i=$e(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},_A=typeof WeakMap=="function"?WeakMap:Map,Yt=0,te=null,Mt=null,Lt=0,Kt=0,vn=null,Ar=!1,Oa=!1,fd=!1,Yi=0,ce=0,Sr=0,Ns=0,dd=0,kn=0,Na=0,dl=null,cn=null,md=!1,gd=0,cc=1/0,hc=null,br=null,qe=0,wr=null,Ma=null,Va=0,pd=0,yd=null,t_=null,ml=0,_d=null;function En(){if((Yt&2)!==0&&Lt!==0)return Lt&-Lt;if(G.T!==null){var e=Ea;return e!==0?e:wd()}return ar()}function e_(){kn===0&&(kn=(Lt&536870912)===0||qt?So():536870912);var e=Pn.current;return e!==null&&(e.flags|=32),kn}function Tn(e,i,a){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(xa(e,0),Rr(e,Lt,kn,!1)),wi(e,a),((Yt&2)===0||e!==te)&&(e===te&&((Yt&2)===0&&(Ns|=a),ce===4&&Rr(e,Lt,kn,!1)),di(e))}function n_(e,i,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||is(e,i),h=l?TA(e,i):Td(e,i,!0),d=l;do{if(h===0){Oa&&!l&&Rr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!vA(a)){h=Td(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=dl;var w=E.current.memoizedState.isDehydrated;if(w&&(xa(E,v).flags|=256),v=Td(E,v,!1),v!==2){if(fd&&!w){E.errorRecoveryDisabledLanes|=d,Ns|=d,h=4;break t}d=cn,cn=h,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){xa(e,0),Rr(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Rr(l,i,kn,!Ar);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=gd+300-wn(),10<h)){if(Rr(l,i,kn,!Ar),Zs(l,0,!0)!==0)break t;l.timeoutHandle=N_(i_.bind(null,l,a,cn,hc,md,i,kn,Ns,Na,Ar,d,2,-0,0),h);break t}i_(l,a,cn,hc,md,i,kn,Ns,Na,Ar,d,0,-0,0)}}break}while(!0);di(e)}function i_(e,i,a,l,h,d,v,E,w,z,F,Y,B,j){if(e.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:tS},$y(i),Y=nS(),Y!==null)){e.cancelPendingCommit=Y(c_.bind(null,e,i,d,a,l,h,v,E,w,F,1,B,j)),Rr(e,d,v,!z);return}c_(e,i,d,a,l,h,v,E,w)}function vA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!gn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Rr(e,i,a,l){i&=~dd,i&=~Ns,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-Xe(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Jn(e,a,i)}function fc(){return(Yt&6)===0?(gl(0),!1):!0}function vd(){if(Mt!==null){if(Kt===0)var e=Mt.return;else e=Mt,zi=ws=null,kf(e),Ra=null,sl=0,e=Mt;for(;e!==null;)ky(e.alternate,e),e=e.return;Mt=null}}function xa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,UA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vd(),te=e,Mt=a=ki(e.current,null),Lt=i,Kt=0,vn=null,Ar=!1,Oa=is(e,i),fd=!1,Na=kn=dd=Ns=Sr=ce=0,cn=dl=null,md=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Xe(l),d=1<<h;i|=e[h],l&=~d}return Yi=i,xu(),a}function r_(e,i){Dt=null,G.H=Wu,i===$o||i===Hu?(i=Tp(),Kt=3):i===_p?(i=Tp(),Kt=4):Kt=i===Ay?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Mt===null&&(ce=1,rc(e,Nn(i,e.current)))}function s_(){var e=G.H;return G.H=Wu,e===null?Wu:e}function a_(){var e=G.A;return G.A=yA,e}function Ed(){ce=4,Ar||(Lt&4194048)!==Lt&&Pn.current!==null||(Oa=!0),(Sr&134217727)===0&&(Ns&134217727)===0||te===null||Rr(te,Lt,kn,!1)}function Td(e,i,a){var l=Yt;Yt|=2;var h=s_(),d=a_();(te!==e||Lt!==i)&&(hc=null,xa(e,i)),i=!1;var v=ce;t:do try{if(Kt!==0&&Mt!==null){var E=Mt,w=vn;switch(Kt){case 8:vd(),v=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var z=Kt;if(Kt=0,vn=null,Pa(e,E,w,z),a&&Oa){v=0;break t}break;default:z=Kt,Kt=0,vn=null,Pa(e,E,w,z)}}EA(),v=ce;break}catch(F){r_(e,F)}while(!0);return i&&e.shellSuspendCounter++,zi=ws=null,Yt=l,G.H=h,G.A=d,Mt===null&&(te=null,Lt=0,xu()),v}function EA(){for(;Mt!==null;)o_(Mt)}function TA(e,i){var a=Yt;Yt|=2;var l=s_(),h=a_();te!==e||Lt!==i?(hc=null,cc=wn()+500,xa(e,i)):Oa=is(e,i);t:do try{if(Kt!==0&&Mt!==null){i=Mt;var d=vn;e:switch(Kt){case 1:Kt=0,vn=null,Pa(e,i,d,1);break;case 2:case 9:if(vp(d)){Kt=0,vn=null,l_(i);break}i=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),di(e)},d.then(i,i);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:vp(d)?(Kt=0,vn=null,l_(i)):(Kt=0,vn=null,Pa(e,i,d,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var E=Mt;if(!v||H_(v)){Kt=0,vn=null;var w=E.sibling;if(w!==null)Mt=w;else{var z=E.return;z!==null?(Mt=z,dc(z)):Mt=null}break e}}Kt=0,vn=null,Pa(e,i,d,5);break;case 6:Kt=0,vn=null,Pa(e,i,d,6);break;case 8:vd(),ce=6;break t;default:throw Error(s(462))}}AA();break}catch(F){r_(e,F)}while(!0);return zi=ws=null,G.H=l,G.A=h,Yt=a,Mt!==null?0:(te=null,Lt=0,xu(),ce)}function AA(){for(;Mt!==null&&!vo();)o_(Mt)}function o_(e){var i=xy(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,i===null?dc(e):Mt=i}function l_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Cy(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=Cy(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:kf(i);default:ky(a,i),i=Mt=up(i,Yi),i=xy(a,i,Yi)}e.memoizedProps=e.pendingProps,i===null?dc(e):Mt=i}function Pa(e,i,a,l){zi=ws=null,kf(i),Ra=null,sl=0;var h=i.return;try{if(hA(e,h,i,a,Lt)){ce=1,rc(e,Nn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;ce=1,rc(e,Nn(a,e.current)),Mt=null;return}i.flags&32768?(qt||l===1?e=!0:Oa||(Lt&536870912)!==0?e=!1:(Ar=e=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),u_(i,e)):dc(i)}function dc(e){var i=e;do{if((i.flags&32768)!==0){u_(i,Ar);return}e=i.return;var a=dA(i.alternate,i,Yi);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);ce===0&&(ce=5)}function u_(e,i){do{var a=mA(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);ce=6,Mt=null}function c_(e,i,a,l,h,d,v,E,w){e.cancelPendingCommit=null;do mc();while(qe!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=hf,wo(e,a,d,v,E,w),e===te&&(Mt=te=null,Lt=0),Ma=i,wr=e,Va=a,pd=d,yd=h,t_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,RA(Wr,function(){return g_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=it.p,it.p=2,v=Yt,Yt|=4;try{gA(e,i,a)}finally{Yt=v,it.p=h,G.T=l}}qe=1,h_(),f_(),d_()}}function h_(){if(qe===1){qe=0;var e=wr,i=Ma,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var h=Yt;Yt|=4;try{Yy(i,e);var d=Vd,v=Wg(e.containerInfo),E=d.focusedElem,w=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&Jg(E.ownerDocument.documentElement,E)){if(w!==null&&af(E)){var z=w.start,F=w.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var j=B.getSelection(),Et=E.textContent.length,pt=Math.min(w.start,Et),Jt=w.end===void 0?pt:Math.min(w.end,Et);!j.extend&&pt>Jt&&(v=Jt,Jt=pt,pt=v);var x=Zg(E,pt),N=Zg(E,Jt);if(x&&N&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var L=Y.createRange();L.setStart(x.node,x.offset),j.removeAllRanges(),pt>Jt?(j.addRange(L),j.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),j.addRange(L))}}}}for(Y=[],j=E;j=j.parentNode;)j.nodeType===1&&Y.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Rc=!!Md,Vd=Md=null}finally{Yt=h,it.p=l,G.T=a}}e.current=i,qe=2}}function f_(){if(qe===2){qe=0;var e=wr,i=Ma,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=it.p;it.p=2;var h=Yt;Yt|=4;try{Hy(e,i.alternate,i)}finally{Yt=h,it.p=l,G.T=a}}qe=3}}function d_(){if(qe===4||qe===3){qe=0,uu();var e=wr,i=Ma,a=Va,l=t_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qe=5:(qe=0,Ma=wr=null,m_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(br=null),Js(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(le,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=it.p,it.p=2,G.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{G.T=i,it.p=h}}(Va&3)!==0&&mc(),di(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===_d?ml++:(ml=0,_d=e):ml=0,gl(0)}}function m_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Ko(i)))}function mc(e){return h_(),f_(),d_(),g_()}function g_(){if(qe!==5)return!1;var e=wr,i=pd;pd=0;var a=Js(Va),l=G.T,h=it.p;try{it.p=32>a?32:a,G.T=null,a=yd,yd=null;var d=wr,v=Va;if(qe=0,Ma=wr=null,Va=0,(Yt&6)!==0)throw Error(s(331));var E=Yt;if(Yt|=4,Jy(d.current),Xy(d,d.current,v,a),Yt=E,gl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(le,d)}catch{}return!0}finally{it.p=h,G.T=l,m_(e,i)}}function p_(e,i,a){i=Nn(a,i),i=$f(e.stateNode,i,2),e=gr(e,i,2),e!==null&&(wi(e,2),di(e))}function Wt(e,i,a){if(e.tag===3)p_(e,e,a);else for(;i!==null;){if(i.tag===3){p_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(br===null||!br.has(l))){e=Nn(a,e),a=Ey(2),l=gr(i,a,2),l!==null&&(Ty(a,l,i,e),wi(l,2),di(l));break}}i=i.return}}function Ad(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new _A;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(fd=!0,h.add(a),e=SA.bind(null,e,i,a),i.then(e,e))}function SA(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Lt&a)===a&&(ce===4||ce===3&&(Lt&62914560)===Lt&&300>wn()-gd?(Yt&2)===0&&xa(e,0):dd|=a,Na===Lt&&(Na=0)),di(e)}function y_(e,i){i===0&&(i=bo()),e=pa(e,i),e!==null&&(wi(e,i),di(e))}function bA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),y_(e,a)}function wA(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),y_(e,a)}function RA(e,i){return Zr(e,i)}var gc=null,ka=null,Sd=!1,pc=!1,bd=!1,Ms=0;function di(e){e!==ka&&e.next===null&&(ka===null?gc=ka=e:ka=ka.next=e),pc=!0,Sd||(Sd=!0,CA())}function gl(e,i){if(!bd&&pc){bd=!0;do for(var a=!1,l=gc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Xe(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,T_(l,d))}else d=Lt,d=Zs(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||is(l,d)||(a=!0,T_(l,d));l=l.next}while(a);bd=!1}}function IA(){__()}function __(){pc=Sd=!1;var e=0;Ms!==0&&(kA()&&(e=Ms),Ms=0);for(var i=wn(),a=null,l=gc;l!==null;){var h=l.next,d=v_(l,i);d===0?(l.next=null,a===null?gc=h:a.next=h,h===null&&(ka=a)):(a=l,(e!==0||(d&3)!==0)&&(pc=!0)),l=h}gl(e)}function v_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Xe(d),E=1<<v,w=h[v];w===-1?((E&a)===0||(E&l)!==0)&&(h[v]=Ao(E,i)):w<=i&&(e.expiredLanes|=E),d&=~E}if(i=te,a=Lt,a=Zs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||is(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Jr(l),Js(a)){case 2:case 8:a=Xs;break;case 32:a=Wr;break;case 268435456:a=$s;break;default:a=Wr}return l=E_.bind(null,e),a=Zr(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Jr(l),e.callbackPriority=2,e.callbackNode=null,2}function E_(e,i){if(qe!==0&&qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(mc()&&e.callbackNode!==a)return null;var l=Lt;return l=Zs(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(n_(e,l,i),v_(e,wn()),e.callbackNode!=null&&e.callbackNode===a?E_.bind(null,e):null)}function T_(e,i){if(mc())return null;n_(e,i,!0)}function CA(){LA(function(){(Yt&6)!==0?Zr(Eo,IA):__()})}function wd(){return Ms===0&&(Ms=So()),Ms}function A_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function S_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function DA(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=A_((h[pe]||null).action),v=l.submitter;v&&(i=(i=v[pe]||null)?A_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new sa("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var w=v?S_(h,v):new FormData(h);Ff(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(E.preventDefault(),w=v?S_(h,v):new FormData(h),Ff(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Rd=0;Rd<cf.length;Rd++){var Id=cf[Rd],OA=Id.toLowerCase(),NA=Id[0].toUpperCase()+Id.slice(1);Gn(OA,"on"+NA)}Gn(np,"onAnimationEnd"),Gn(ip,"onAnimationIteration"),Gn(rp,"onAnimationStart"),Gn("dblclick","onDoubleClick"),Gn("focusin","onFocus"),Gn("focusout","onBlur"),Gn(K1,"onTransitionRun"),Gn(X1,"onTransitionStart"),Gn($1,"onTransitionCancel"),Gn(sp,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function b_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,z=E.currentTarget;if(E=E.listener,w!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(F){ic(F)}h.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,z=E.currentTarget,E=E.listener,w!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=z;try{d(h)}catch(F){ic(F)}h.currentTarget=null,d=w}}}}function Vt(e,i){var a=i[Io];a===void 0&&(a=i[Io]=new Set);var l=e+"__bubble";a.has(l)||(w_(i,e,2,!1),a.add(l))}function Cd(e,i,a){var l=0;i&&(l|=4),w_(a,e,l,i)}var yc="_reactListening"+Math.random().toString(36).slice(2);function Dd(e){if(!e[yc]){e[yc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(MA.has(a)||Cd(a,!1,e),Cd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[yc]||(i[yc]=!0,Cd("selectionchange",!1,i))}}function w_(e,i,a,l){switch(X_(i)){case 2:var h=sS;break;case 8:h=aS;break;default:h=Hd}a=h.bind(null,i,a,e),h=void 0,!Dn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Od(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ri(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}E=E.parentNode}}l=l.return}vu(function(){var z=d,F=Cn(a),Y=[];t:{var B=ap.get(e);if(B!==void 0){var j=sa,Et=e;switch(e){case"keypress":if(ri(a)===0)break t;case"keydown":case"keyup":j=ha;break;case"focusin":Et="focus",j=la;break;case"focusout":Et="blur",j=la;break;case"beforeblur":case"afterblur":j=la;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Iu;break;case np:case ip:case rp:j=ua;break;case sp:j=Du;break;case"scroll":case"scrollend":j=Eu;break;case"wheel":j=fa;break;case"copy":case"cut":case"paste":j=ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Bo;break;case"toggle":case"beforetoggle":j=Nu}var pt=(i&4)!==0,Jt=!pt&&(e==="scroll"||e==="scrollend"),x=pt?B!==null?B+"Capture":null:B;pt=[];for(var N=z,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||x===null||(Q=hs(N,x),Q!=null&&pt.push(yl(N,Q,L))),Jt)break;N=N.return}0<pt.length&&(B=new j(B,Et,null,a,F),Y.push({event:B,listeners:pt}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",B&&a!==Oi&&(Et=a.relatedTarget||a.fromElement)&&(Ri(Et)||Et[Rn]))break t;if((j||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,j?(Et=a.relatedTarget||a.toElement,j=z,Et=Et?Ri(Et):null,Et!==null&&(Jt=u(Et),pt=Et.tag,Et!==Jt||pt!==5&&pt!==27&&pt!==6)&&(Et=null)):(j=null,Et=z),j!==Et)){if(pt=On,Q="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Bo,Q="onPointerLeave",x="onPointerEnter",N="pointer"),Jt=j==null?B:ti(j),L=Et==null?B:ti(Et),B=new pt(Q,N+"leave",j,a,F),B.target=Jt,B.relatedTarget=L,Q=null,Ri(F)===z&&(pt=new pt(x,N+"enter",Et,a,F),pt.target=L,pt.relatedTarget=Jt,Q=pt),Jt=Q,j&&Et)e:{for(pt=j,x=Et,N=0,L=pt;L;L=Ua(L))N++;for(L=0,Q=x;Q;Q=Ua(Q))L++;for(;0<N-L;)pt=Ua(pt),N--;for(;0<L-N;)x=Ua(x),L--;for(;N--;){if(pt===x||x!==null&&pt===x.alternate)break e;pt=Ua(pt),x=Ua(x)}pt=null}else pt=null;j!==null&&R_(Y,B,j,pt,!1),Et!==null&&Jt!==null&&R_(Y,Jt,Et,pt,!0)}}t:{if(B=z?ti(z):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var ct=Fg;else if(we(B))if(Qg)ct=F1;else{ct=H1;var Nt=q1}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Vo(z.elementType)&&(ct=Fg):ct=G1;if(ct&&(ct=ct(e,z))){Pi(Y,ct,a,F);break t}Nt&&Nt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&cr(B,"number",B.value)}switch(Nt=z?ti(z):window,e){case"focusin":(we(Nt)||Nt.contentEditable==="true")&&(da=Nt,of=z,Ho=null);break;case"focusout":Ho=of=da=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,tp(Y,a,F);break;case"selectionchange":if(Y1)break;case"keydown":case"keyup":tp(Y,a,F)}var mt;if(oi)t:{switch(e){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else kt?q(e,a)&&(vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(kt||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&kt&&(mt=Po()):(ii=F,hr="value"in ii?ii.value:ii.textContent,kt=!0)),Nt=_c(z,vt),0<Nt.length&&(vt=new Lo(vt,e,null,a,F),Y.push({event:vt,listeners:Nt}),mt?vt.data=mt:(mt=nt(a),mt!==null&&(vt.data=mt)))),(mt=m?be(e,a):Ut(e,a))&&(vt=_c(z,"onBeforeInput"),0<vt.length&&(Nt=new Lo("onBeforeInput","beforeinput",null,a,F),Y.push({event:Nt,listeners:vt}),Nt.data=mt)),DA(Y,e,z,a,F)}b_(Y,i)})}function yl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function _c(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=hs(e,a),h!=null&&l.unshift(yl(e,h,d)),h=hs(e,i),h!=null&&l.push(yl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Ua(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function R_(e,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,w=E.alternate,z=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||z===null||(w=z,h?(z=hs(a,d),z!=null&&v.unshift(yl(a,z,w))):h||(z=hs(a,d),z!=null&&v.push(yl(a,z,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var VA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function I_(e){return(typeof e=="string"?e:""+e).replace(VA,`
`).replace(xA,"")}function C_(e,i){return i=I_(i),I_(e)===i}function vc(){}function Zt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(e,""+l);break;case"className":ei(e,"class",l);break;case"tabIndex":ei(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(e,a,l);break;case"style":Mo(e,l,d);break;case"data":if(i!=="object"){ei(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ra(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=ra(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=vc);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=ra(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),ur(e,"popover",l);break;case"xlinkActuate":ze(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ur(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wh.get(a)||a,ur(e,a,l))}}function Nd(e,i,a,l,h,d){switch(a){case"style":Mo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?In(e,l):(typeof l=="number"||typeof l=="bigint")&&In(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ur(e,a,l)}}}function He(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,d,v,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),l&&Zt(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=d=v=h=null,w=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":h=F;break;case"type":v=F;break;case"checked":w=F;break;case"defaultChecked":z=F;break;case"value":d=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Zt(e,i,l,F,a,null)}}ls(e,d,E,w,z,v,h,!1),ia(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Zt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!l,i!=null?Di(e,!!l,i,!1):a!=null&&Di(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,i,v,E,a,null)}us(e,l,h,d),ia(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(e,i,w,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<pl.length;l++)Vt(pl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,z,l,a,null)}return;default:if(Vo(i)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&Nd(e,i,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Zt(e,i,E,l,a,null))}function PA(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,w=null,z=null,F=null;for(j in a){var Y=a[j];if(a.hasOwnProperty(j)&&Y!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=Y;default:l.hasOwnProperty(j)||Zt(e,i,j,null,l,Y)}}for(var B in l){var j=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(j!=null||Y!=null))switch(B){case"type":d=j;break;case"name":h=j;break;case"checked":z=j;break;case"defaultChecked":F=j;break;case"value":v=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,i));break;default:j!==Y&&Zt(e,i,B,j,l,Y)}}mn(e,v,E,w,z,F,d,h);return;case"select":j=v=E=B=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":j=w;default:l.hasOwnProperty(d)||Zt(e,i,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==w&&Zt(e,i,h,d,l,w)}i=E,a=v,l=j,B!=null?Di(e,!!a,B,!1):!!l!=!!a&&(i!=null?Di(e,!!a,i,!0):Di(e,!!a,a?[]:"",!1));return;case"textarea":j=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Zt(e,i,v,h,l,d)}Xt(e,B,j);return;case"option":for(var Et in a)if(B=a[Et],a.hasOwnProperty(Et)&&B!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:Zt(e,i,Et,null,l,B)}for(w in l)if(B=l[w],j=a[w],l.hasOwnProperty(w)&&B!==j&&(B!=null||j!=null))switch(w){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Zt(e,i,w,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!l.hasOwnProperty(pt)&&Zt(e,i,pt,null,l,B);for(z in l)if(B=l[z],j=a[z],l.hasOwnProperty(z)&&B!==j&&(B!=null||j!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Zt(e,i,z,B,l,j)}return;default:if(Vo(i)){for(var Jt in a)B=a[Jt],a.hasOwnProperty(Jt)&&B!==void 0&&!l.hasOwnProperty(Jt)&&Nd(e,i,Jt,void 0,l,B);for(F in l)B=l[F],j=a[F],!l.hasOwnProperty(F)||B===j||B===void 0&&j===void 0||Nd(e,i,F,B,l,j);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Zt(e,i,x,null,l,B);for(Y in l)B=l[Y],j=a[Y],!l.hasOwnProperty(Y)||B===j||B==null&&j==null||Zt(e,i,Y,B,l,j)}var Md=null,Vd=null;function Ec(e){return e.nodeType===9?e:e.ownerDocument}function D_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function xd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pd=null;function kA(){var e=window.event;return e&&e.type==="popstate"?e===Pd?!1:(Pd=e,!0):(Pd=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,UA=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,LA=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(e){return M_.resolve(null).then(e).catch(zA)}:N_;function zA(e){setTimeout(function(){throw e})}function Ir(e){return e==="head"}function V_(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&_l(v.documentElement),a&2&&_l(v.body),a&4)for(a=v.head,_l(a),v=a.firstChild;v;){var E=v.nextSibling,w=v.nodeName;v[rs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),Rl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Rl(i)}function kd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),lr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function BA(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function jA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Qn(e.nextSibling),e===null))return null;return e}function Ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function qA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Ld=null;function x_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function P_(e,i,a){switch(i=Ec(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function _l(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);lr(e)}var Un=new Map,k_=new Set;function Tc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=it.d;it.d={f:HA,r:GA,D:FA,C:QA,L:YA,m:KA,X:$A,S:XA,M:ZA};function HA(){var e=Ki.f(),i=fc();return e||i}function GA(e){var i=Wn(e);i!==null&&i.tag===5&&i.type==="form"?ny(i):Ki.r(e)}var La=typeof document>"u"?null:document;function U_(e,i,a){var l=La;if(l&&typeof i=="string"&&i){var h=ye(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),k_.has(h)||(k_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),He(i,"link",e),fe(i),l.head.appendChild(i)))}}function FA(e){Ki.D(e),U_("dns-prefetch",e,null)}function QA(e,i){Ki.C(e,i),U_("preconnect",e,i)}function YA(e,i,a){Ki.L(e,i,a);var l=La;if(l&&e&&i){var h='link[rel="preload"][as="'+ye(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var d=h;switch(i){case"style":d=za(e);break;case"script":d=Ba(e)}Un.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Un.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(El(d))||(i=l.createElement("link"),He(i,"link",e),fe(i),l.head.appendChild(i)))}}function KA(e,i){Ki.m(e,i);var a=La;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(e)}if(!Un.has(d)&&(e=T({rel:"modulepreload",href:e},i),Un.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(d)))return}l=a.createElement("link"),He(l,"link",e),fe(l),a.head.appendChild(l)}}}function XA(e,i,a){Ki.S(e,i,a);var l=La;if(l&&e){var h=nn(l).hoistableStyles,d=za(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(vl(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Un.get(d))&&zd(e,a);var w=v=l.createElement("link");fe(w),He(w,"link",e),w._p=new Promise(function(z,F){w.onload=z,w.onerror=F}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ac(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function $A(e,i){Ki.X(e,i);var a=La;if(a&&e){var l=nn(a).hoistableScripts,h=Ba(e),d=l.get(h);d||(d=a.querySelector(El(h)),d||(e=T({src:e,async:!0},i),(i=Un.get(h))&&Bd(e,i),d=a.createElement("script"),fe(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ZA(e,i){Ki.M(e,i);var a=La;if(a&&e){var l=nn(a).hoistableScripts,h=Ba(e),d=l.get(h);d||(d=a.querySelector(El(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Un.get(h))&&Bd(e,i),d=a.createElement("script"),fe(d),He(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function L_(e,i,a,l){var h=(h=gt.current)?Tc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=za(a.href),a=nn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=za(a.href);var d=nn(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(vl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),d||JA(h,e,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=nn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function za(e){return'href="'+ye(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function z_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function JA(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),He(i,"link",a),fe(i),e.head.appendChild(i))}function Ba(e){return'[src="'+ye(e)+'"]'}function El(e){return"script[async]"+e}function B_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(l)return i.instance=l,fe(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),He(l,"style",h),Ac(l,a.precedence,e),i.instance=l;case"stylesheet":h=za(a.href);var d=e.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,fe(d),d;l=z_(a),(h=Un.get(h))&&zd(l,h),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),He(d,"link",l),i.state.loading|=4,Ac(d,a.precedence,e),i.instance=d;case"script":return d=Ba(a.src),(h=e.querySelector(El(d)))?(i.instance=h,fe(h),h):(l=a,(h=Un.get(d))&&(l=T({},a),Bd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),He(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ac(l,a.precedence,e));return i.instance}function Ac(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function zd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Sc=null;function j_(e,i,a){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(a,l)}else h=Sc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[rs]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function q_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function WA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Tl=null;function tS(){}function eS(e,i,a){if(Tl===null)throw Error(s(475));var l=Tl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=za(a.href),d=e.querySelector(vl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=bc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,fe(d);return}d=e.ownerDocument||e,a=z_(a),(h=Un.get(h))&&zd(a,h),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),He(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=bc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function nS(){if(Tl===null)throw Error(s(475));var e=Tl;return e.stylesheets&&e.count===0&&jd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&jd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function bc(){if(this.count--,this.count===0){if(this.stylesheets)jd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wc=null;function jd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wc=new Map,i.forEach(iS,e),wc=null,bc.call(e))}function iS(e,i){if(!(i.state.loading&4)){var a=wc.get(e);if(a)var l=a.get(null);else{a=new Map,wc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var Al={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function rS(e,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function G_(e,i,a,l,h,d,v,E,w,z,F,Y){return e=new rS(e,i,a,v,E,w,z,Y),i=1,d===!0&&(i|=24),d=pn(3,null,null,i),e.current=d,d.stateNode=e,i=Af(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Rf(d),e}function F_(e){return e?(e=ya,e):ya}function Q_(e,i,a,l,h,d){h=F_(h),l.context===null?l.context=h:l.pendingContext=h,l=mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=gr(e,l,i),a!==null&&(Tn(a,e,i),Jo(a,e,i))}function Y_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function qd(e,i){Y_(e,i),(e=e.alternate)&&Y_(e,i)}function K_(e){if(e.tag===13){var i=pa(e,67108864);i!==null&&Tn(i,e,67108864),qd(e,67108864)}}var Rc=!0;function sS(e,i,a,l){var h=G.T;G.T=null;var d=it.p;try{it.p=2,Hd(e,i,a,l)}finally{it.p=d,G.T=h}}function aS(e,i,a,l){var h=G.T;G.T=null;var d=it.p;try{it.p=8,Hd(e,i,a,l)}finally{it.p=d,G.T=h}}function Hd(e,i,a,l){if(Rc){var h=Gd(l);if(h===null)Od(e,i,l,Ic,a),$_(e,l);else if(lS(h,e,i,a,l))l.stopPropagation();else if($_(e,l),i&4&&-1<oS.indexOf(e)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=jn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-Xe(v);E.entanglements[1]|=w,v&=~w}di(d),(Yt&6)===0&&(cc=wn()+500,gl(0))}}break;case 13:E=pa(d,2),E!==null&&Tn(E,d,2),fc(),qd(d,2)}if(d=Gd(l),d===null&&Od(e,i,l,Ic,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Od(e,i,l,null,a)}}function Gd(e){return e=Cn(e),Fd(e)}var Ic=null;function Fd(e){if(Ic=null,e=Ri(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ic=e,null}function X_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yh()){case Eo:return 2;case Xs:return 8;case Wr:case Kh:return 32;case $s:return 268435456;default:return 32}default:return 32}}var Qd=!1,Cr=null,Dr=null,Or=null,Sl=new Map,bl=new Map,Nr=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(e,i){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function wl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&K_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function lS(e,i,a,l,h){switch(i){case"focusin":return Cr=wl(Cr,e,i,a,l,h),!0;case"dragenter":return Dr=wl(Dr,e,i,a,l,h),!0;case"mouseover":return Or=wl(Or,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,wl(Sl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,bl.set(d,wl(bl.get(d)||null,e,i,a,l,h)),!0}return!1}function Z_(e){var i=Ri(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,fu(e.priority,function(){if(a.tag===13){var l=En();l=sr(l);var h=pa(a,l);h!==null&&Tn(h,a,l),qd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Gd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Oi=l,a.target.dispatchEvent(l),Oi=null}else return i=Wn(a),i!==null&&K_(i),e.blockedOn=a,!1;i.shift()}return!0}function J_(e,i,a){Cc(e)&&a.delete(i)}function uS(){Qd=!1,Cr!==null&&Cc(Cr)&&(Cr=null),Dr!==null&&Cc(Dr)&&(Dr=null),Or!==null&&Cc(Or)&&(Or=null),Sl.forEach(J_),bl.forEach(J_)}function Dc(e,i){e.blockedOn===i&&(e.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uS)))}var Oc=null;function W_(e){Oc!==e&&(Oc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===e&&(Oc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Fd(l||a)===null)continue;break}var d=Wn(a);d!==null&&(e.splice(i,3),i-=3,Ff(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Rl(e){function i(w){return Dc(w,e)}Cr!==null&&Dc(Cr,e),Dr!==null&&Dc(Dr,e),Or!==null&&Dc(Or,e),Sl.forEach(i),bl.forEach(i);for(var a=0;a<Nr.length;a++){var l=Nr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)Z_(a),a.blockedOn===null&&Nr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[pe]||null;if(typeof d=="function")v||W_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[pe]||null)E=v.formAction;else if(Fd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),W_(a)}}}function Yd(e){this._internalRoot=e}Nc.prototype.render=Yd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();Q_(a,l,e,i,null,null)},Nc.prototype.unmount=Yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Q_(e.current,2,null,e,null,null),fc(),i[Rn]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var i=ar();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Nr.length&&i!==0&&i<Nr[a].priority;a++);Nr.splice(a,0,e),a===0&&Z_(e)}};var tv=t.version;if(tv!=="19.1.0")throw Error(s(527,tv,"19.1.0"));it.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{le=Mc.inject(cS),Qt=Mc}catch{}}return Cl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=py,d=yy,v=_y,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=G_(e,1,!1,null,null,a,l,h,d,v,E,null),e[Rn]=i.current,Dd(e),new Yd(i)},Cl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=py,v=yy,E=_y,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=G_(e,1,!0,i,a??null,l,h,d,v,E,w,z),i.context=F_(null),a=i.current,l=En(),l=sr(l),h=mr(l),h.callback=null,gr(a,h,l),a=l,i.current.lanes=a,wi(i,a),di(i),e[Rn]=i.current,Dd(e),new Nc(i)},Cl.version="19.1.0",Cl}var cv;function TS(){if(cv)return $d.exports;cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),$d.exports=ES(),$d.exports}var AS=TS(),fn=function(){return fn=Object.assign||function(t){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},fn.apply(this,arguments)};function Km(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function eh(r,t,n){if(n||arguments.length===2)for(var s=0,o=t.length,u;s<o;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return r.concat(u||Array.prototype.slice.call(t))}var ee="-ms-",Vl="-moz-",Gt="-webkit-",J0="comm",wh="rule",Xm="decl",SS="@import",W0="@keyframes",bS="@layer",tE=Math.abs,$m=String.fromCharCode,pm=Object.assign;function wS(r,t){return Le(r,0)^45?(((t<<2^Le(r,0))<<2^Le(r,1))<<2^Le(r,2))<<2^Le(r,3):0}function eE(r){return r.trim()}function Xi(r,t){return(r=t.exec(r))?r[0]:r}function Ct(r,t,n){return r.replace(t,n)}function jc(r,t,n){return r.indexOf(t,n)}function Le(r,t){return r.charCodeAt(t)|0}function Za(r,t,n){return r.slice(t,n)}function gi(r){return r.length}function nE(r){return r.length}function Dl(r,t){return t.push(r),r}function RS(r,t){return r.map(t).join("")}function hv(r,t){return r.filter(function(n){return!Xi(n,t)})}var Rh=1,Ja=1,iE=0,Bn=0,Te=0,ho="";function Ih(r,t,n,s,o,u,f,g){return{value:r,root:t,parent:n,type:s,props:o,children:u,line:Rh,column:Ja,length:f,return:"",siblings:g}}function Pr(r,t){return pm(Ih("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},t)}function ja(r){for(;r.root;)r=Pr(r.root,{children:[r]});Dl(r,r.siblings)}function IS(){return Te}function CS(){return Te=Bn>0?Le(ho,--Bn):0,Ja--,Te===10&&(Ja=1,Rh--),Te}function $n(){return Te=Bn<iE?Le(ho,Bn++):0,Ja++,Te===10&&(Ja=1,Rh++),Te}function Us(){return Le(ho,Bn)}function qc(){return Bn}function Ch(r,t){return Za(ho,r,t)}function ym(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DS(r){return Rh=Ja=1,iE=gi(ho=r),Bn=0,[]}function OS(r){return ho="",r}function tm(r){return eE(Ch(Bn-1,_m(r===91?r+2:r===40?r+1:r)))}function NS(r){for(;(Te=Us())&&Te<33;)$n();return ym(r)>2||ym(Te)>3?"":" "}function MS(r,t){for(;--t&&$n()&&!(Te<48||Te>102||Te>57&&Te<65||Te>70&&Te<97););return Ch(r,qc()+(t<6&&Us()==32&&$n()==32))}function _m(r){for(;$n();)switch(Te){case r:return Bn;case 34:case 39:r!==34&&r!==39&&_m(Te);break;case 40:r===41&&_m(r);break;case 92:$n();break}return Bn}function VS(r,t){for(;$n()&&r+Te!==57;)if(r+Te===84&&Us()===47)break;return"/*"+Ch(t,Bn-1)+"*"+$m(r===47?r:$n())}function xS(r){for(;!ym(Us());)$n();return Ch(r,Bn)}function PS(r){return OS(Hc("",null,null,null,[""],r=DS(r),0,[0],r))}function Hc(r,t,n,s,o,u,f,g,p){for(var y=0,T=0,b=f,C=0,P=0,H=0,$=1,Z=1,ut=1,st=0,rt="",ht=o,lt=u,tt=s,R=rt;Z;)switch(H=st,st=$n()){case 40:if(H!=108&&Le(R,b-1)==58){jc(R+=Ct(tm(st),"&","&\f"),"&\f",tE(y?g[y-1]:0))!=-1&&(ut=-1);break}case 34:case 39:case 91:R+=tm(st);break;case 9:case 10:case 13:case 32:R+=NS(H);break;case 92:R+=MS(qc()-1,7);continue;case 47:switch(Us()){case 42:case 47:Dl(kS(VS($n(),qc()),t,n,p),p);break;default:R+="/"}break;case 123*$:g[y++]=gi(R)*ut;case 125*$:case 59:case 0:switch(st){case 0:case 125:Z=0;case 59+T:ut==-1&&(R=Ct(R,/\f/g,"")),P>0&&gi(R)-b&&Dl(P>32?dv(R+";",s,n,b-1,p):dv(Ct(R," ","")+";",s,n,b-2,p),p);break;case 59:R+=";";default:if(Dl(tt=fv(R,t,n,y,T,o,g,rt,ht=[],lt=[],b,u),u),st===123)if(T===0)Hc(R,t,tt,tt,ht,u,b,g,lt);else switch(C===99&&Le(R,3)===110?100:C){case 100:case 108:case 109:case 115:Hc(r,tt,tt,s&&Dl(fv(r,tt,tt,0,0,o,g,rt,o,ht=[],b,lt),lt),o,lt,b,g,s?ht:lt);break;default:Hc(R,tt,tt,tt,[""],lt,0,g,lt)}}y=T=P=0,$=ut=1,rt=R="",b=f;break;case 58:b=1+gi(R),P=H;default:if($<1){if(st==123)--$;else if(st==125&&$++==0&&CS()==125)continue}switch(R+=$m(st),st*$){case 38:ut=T>0?1:(R+="\f",-1);break;case 44:g[y++]=(gi(R)-1)*ut,ut=1;break;case 64:Us()===45&&(R+=tm($n())),C=Us(),T=b=gi(rt=R+=xS(qc())),st++;break;case 45:H===45&&gi(R)==2&&($=0)}}return u}function fv(r,t,n,s,o,u,f,g,p,y,T,b){for(var C=o-1,P=o===0?u:[""],H=nE(P),$=0,Z=0,ut=0;$<s;++$)for(var st=0,rt=Za(r,C+1,C=tE(Z=f[$])),ht=r;st<H;++st)(ht=eE(Z>0?P[st]+" "+rt:Ct(rt,/&\f/g,P[st])))&&(p[ut++]=ht);return Ih(r,t,n,o===0?wh:g,p,y,T,b)}function kS(r,t,n,s){return Ih(r,t,n,J0,$m(IS()),Za(r,2,-2),0,s)}function dv(r,t,n,s,o){return Ih(r,t,n,Xm,Za(r,0,s),Za(r,s+1,-1),s,o)}function rE(r,t,n){switch(wS(r,t)){case 5103:return Gt+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gt+r+r;case 4789:return Vl+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Gt+r+Vl+r+ee+r+r;case 5936:switch(Le(r,t+11)){case 114:return Gt+r+ee+Ct(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Gt+r+ee+Ct(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Gt+r+ee+Ct(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return Gt+r+ee+r+r;case 6165:return Gt+r+ee+"flex-"+r+r;case 5187:return Gt+r+Ct(r,/(\w+).+(:[^]+)/,Gt+"box-$1$2"+ee+"flex-$1$2")+r;case 5443:return Gt+r+ee+"flex-item-"+Ct(r,/flex-|-self/g,"")+(Xi(r,/flex-|baseline/)?"":ee+"grid-row-"+Ct(r,/flex-|-self/g,""))+r;case 4675:return Gt+r+ee+"flex-line-pack"+Ct(r,/align-content|flex-|-self/g,"")+r;case 5548:return Gt+r+ee+Ct(r,"shrink","negative")+r;case 5292:return Gt+r+ee+Ct(r,"basis","preferred-size")+r;case 6060:return Gt+"box-"+Ct(r,"-grow","")+Gt+r+ee+Ct(r,"grow","positive")+r;case 4554:return Gt+Ct(r,/([^-])(transform)/g,"$1"+Gt+"$2")+r;case 6187:return Ct(Ct(Ct(r,/(zoom-|grab)/,Gt+"$1"),/(image-set)/,Gt+"$1"),r,"")+r;case 5495:case 3959:return Ct(r,/(image-set\([^]*)/,Gt+"$1$`$1");case 4968:return Ct(Ct(r,/(.+:)(flex-)?(.*)/,Gt+"box-pack:$3"+ee+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gt+r+r;case 4200:if(!Xi(r,/flex-|baseline/))return ee+"grid-column-align"+Za(r,t)+r;break;case 2592:case 3360:return ee+Ct(r,"template-","")+r;case 4384:case 3616:return n&&n.some(function(s,o){return t=o,Xi(s.props,/grid-\w+-end/)})?~jc(r+(n=n[t].value),"span",0)?r:ee+Ct(r,"-start","")+r+ee+"grid-row-span:"+(~jc(n,"span",0)?Xi(n,/\d+/):+Xi(n,/\d+/)-+Xi(r,/\d+/))+";":ee+Ct(r,"-start","")+r;case 4896:case 4128:return n&&n.some(function(s){return Xi(s.props,/grid-\w+-start/)})?r:ee+Ct(Ct(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return Ct(r,/(.+)-inline(.+)/,Gt+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gi(r)-1-t>6)switch(Le(r,t+1)){case 109:if(Le(r,t+4)!==45)break;case 102:return Ct(r,/(.+:)(.+)-([^]+)/,"$1"+Gt+"$2-$3$1"+Vl+(Le(r,t+3)==108?"$3":"$2-$3"))+r;case 115:return~jc(r,"stretch",0)?rE(Ct(r,"stretch","fill-available"),t,n)+r:r}break;case 5152:case 5920:return Ct(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,o,u,f,g,p,y){return ee+o+":"+u+y+(f?ee+o+"-span:"+(g?p:+p-+u)+y:"")+r});case 4949:if(Le(r,t+6)===121)return Ct(r,":",":"+Gt)+r;break;case 6444:switch(Le(r,Le(r,14)===45?18:11)){case 120:return Ct(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Gt+(Le(r,14)===45?"inline-":"")+"box$3$1"+Gt+"$2$3$1"+ee+"$2box$3")+r;case 100:return Ct(r,":",":"+ee)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ct(r,"scroll-","scroll-snap-")+r}return r}function nh(r,t){for(var n="",s=0;s<r.length;s++)n+=t(r[s],s,r,t)||"";return n}function US(r,t,n,s){switch(r.type){case bS:if(r.children.length)break;case SS:case Xm:return r.return=r.return||r.value;case J0:return"";case W0:return r.return=r.value+"{"+nh(r.children,s)+"}";case wh:if(!gi(r.value=r.props.join(",")))return""}return gi(n=nh(r.children,s))?r.return=r.value+"{"+n+"}":""}function LS(r){var t=nE(r);return function(n,s,o,u){for(var f="",g=0;g<t;g++)f+=r[g](n,s,o,u)||"";return f}}function zS(r){return function(t){t.root||(t=t.return)&&r(t)}}function BS(r,t,n,s){if(r.length>-1&&!r.return)switch(r.type){case Xm:r.return=rE(r.value,r.length,n);return;case W0:return nh([Pr(r,{value:Ct(r.value,"@","@"+Gt)})],s);case wh:if(r.length)return RS(n=r.props,function(o){switch(Xi(o,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":ja(Pr(r,{props:[Ct(o,/:(read-\w+)/,":"+Vl+"$1")]})),ja(Pr(r,{props:[o]})),pm(r,{props:hv(n,s)});break;case"::placeholder":ja(Pr(r,{props:[Ct(o,/:(plac\w+)/,":"+Gt+"input-$1")]})),ja(Pr(r,{props:[Ct(o,/:(plac\w+)/,":"+Vl+"$1")]})),ja(Pr(r,{props:[Ct(o,/:(plac\w+)/,ee+"input-$1")]})),ja(Pr(r,{props:[o]})),pm(r,{props:hv(n,s)});break}return""})}}var jS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sn={},Wa=typeof process<"u"&&Sn!==void 0&&(Sn.REACT_APP_SC_ATTR||Sn.SC_ATTR)||"data-styled",sE="active",aE="data-styled-version",Dh="6.1.18",Zm=`/*!sc*/
`,ih=typeof window<"u"&&typeof document<"u",qS=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Sn!==void 0&&Sn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Sn.REACT_APP_SC_DISABLE_SPEEDY!==""?Sn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Sn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Sn!==void 0&&Sn.SC_DISABLE_SPEEDY!==void 0&&Sn.SC_DISABLE_SPEEDY!==""&&Sn.SC_DISABLE_SPEEDY!=="false"&&Sn.SC_DISABLE_SPEEDY),Oh=Object.freeze([]),to=Object.freeze({});function HS(r,t,n){return n===void 0&&(n=to),r.theme!==n.theme&&r.theme||t||n.theme}var oE=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),GS=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,FS=/(^-|-$)/g;function mv(r){return r.replace(GS,"-").replace(FS,"")}var QS=/(a)(d)/gi,Vc=52,gv=function(r){return String.fromCharCode(r+(r>25?39:97))};function vm(r){var t,n="";for(t=Math.abs(r);t>Vc;t=t/Vc|0)n=gv(t%Vc)+n;return(gv(t%Vc)+n).replace(QS,"$1-$2")}var em,lE=5381,Qa=function(r,t){for(var n=t.length;n;)r=33*r^t.charCodeAt(--n);return r},uE=function(r){return Qa(lE,r)};function YS(r){return vm(uE(r)>>>0)}function KS(r){return r.displayName||r.name||"Component"}function nm(r){return typeof r=="string"&&!0}var cE=typeof Symbol=="function"&&Symbol.for,hE=cE?Symbol.for("react.memo"):60115,XS=cE?Symbol.for("react.forward_ref"):60112,$S={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},fE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},JS=((em={})[XS]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},em[hE]=fE,em);function pv(r){return("type"in(t=r)&&t.type.$$typeof)===hE?fE:"$$typeof"in r?JS[r.$$typeof]:$S;var t}var WS=Object.defineProperty,tb=Object.getOwnPropertyNames,yv=Object.getOwnPropertySymbols,eb=Object.getOwnPropertyDescriptor,nb=Object.getPrototypeOf,_v=Object.prototype;function dE(r,t,n){if(typeof t!="string"){if(_v){var s=nb(t);s&&s!==_v&&dE(r,s,n)}var o=tb(t);yv&&(o=o.concat(yv(t)));for(var u=pv(r),f=pv(t),g=0;g<o.length;++g){var p=o[g];if(!(p in ZS||n&&n[p]||f&&p in f||u&&p in u)){var y=eb(t,p);try{WS(r,p,y)}catch{}}}}return r}function eo(r){return typeof r=="function"}function Jm(r){return typeof r=="object"&&"styledComponentId"in r}function xs(r,t){return r&&t?"".concat(r," ").concat(t):r||t||""}function vv(r,t){if(r.length===0)return"";for(var n=r[0],s=1;s<r.length;s++)n+=r[s];return n}function jl(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Em(r,t,n){if(n===void 0&&(n=!1),!n&&!jl(r)&&!Array.isArray(r))return t;if(Array.isArray(t))for(var s=0;s<t.length;s++)r[s]=Em(r[s],t[s]);else if(jl(t))for(var s in t)r[s]=Em(r[s],t[s]);return r}function Wm(r,t){Object.defineProperty(r,"toString",{value:t})}function Jl(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var ib=function(){function r(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return r.prototype.indexOfGroup=function(t){for(var n=0,s=0;s<t;s++)n+=this.groupSizes[s];return n},r.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var s=this.groupSizes,o=s.length,u=o;t>=u;)if((u<<=1)<0)throw Jl(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=o;f<u;f++)this.groupSizes[f]=0}for(var g=this.indexOfGroup(t+1),p=(f=0,n.length);f<p;f++)this.tag.insertRule(g,n[f])&&(this.groupSizes[t]++,g++)},r.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],s=this.indexOfGroup(t),o=s+n;this.groupSizes[t]=0;for(var u=s;u<o;u++)this.tag.deleteRule(s)}},r.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var s=this.groupSizes[t],o=this.indexOfGroup(t),u=o+s,f=o;f<u;f++)n+="".concat(this.tag.getRule(f)).concat(Zm);return n},r}(),Gc=new Map,rh=new Map,Fc=1,xc=function(r){if(Gc.has(r))return Gc.get(r);for(;rh.has(Fc);)Fc++;var t=Fc++;return Gc.set(r,t),rh.set(t,r),t},rb=function(r,t){Fc=t+1,Gc.set(r,t),rh.set(t,r)},sb="style[".concat(Wa,"][").concat(aE,'="').concat(Dh,'"]'),ab=new RegExp("^".concat(Wa,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ob=function(r,t,n){for(var s,o=n.split(","),u=0,f=o.length;u<f;u++)(s=o[u])&&r.registerName(t,s)},lb=function(r,t){for(var n,s=((n=t.textContent)!==null&&n!==void 0?n:"").split(Zm),o=[],u=0,f=s.length;u<f;u++){var g=s[u].trim();if(g){var p=g.match(ab);if(p){var y=0|parseInt(p[1],10),T=p[2];y!==0&&(rb(T,y),ob(r,T,p[3]),r.getTag().insertRules(y,o)),o.length=0}else o.push(g)}}},Ev=function(r){for(var t=document.querySelectorAll(sb),n=0,s=t.length;n<s;n++){var o=t[n];o&&o.getAttribute(Wa)!==sE&&(lb(r,o),o.parentNode&&o.parentNode.removeChild(o))}};function ub(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var mE=function(r){var t=document.head,n=r||t,s=document.createElement("style"),o=function(g){var p=Array.from(g.querySelectorAll("style[".concat(Wa,"]")));return p[p.length-1]}(n),u=o!==void 0?o.nextSibling:null;s.setAttribute(Wa,sE),s.setAttribute(aE,Dh);var f=ub();return f&&s.setAttribute("nonce",f),n.insertBefore(s,u),s},cb=function(){function r(t){this.element=mE(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var s=document.styleSheets,o=0,u=s.length;o<u;o++){var f=s[o];if(f.ownerNode===n)return f}throw Jl(17)}(this.element),this.length=0}return r.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},r.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},r}(),hb=function(){function r(t){this.element=mE(t),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var s=document.createTextNode(n);return this.element.insertBefore(s,this.nodes[t]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},r.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},r}(),fb=function(){function r(t){this.rules=[],this.length=0}return r.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},r.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},r.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},r}(),Tv=ih,db={isServer:!ih,useCSSOMInjection:!qS},gE=function(){function r(t,n,s){t===void 0&&(t=to),n===void 0&&(n={});var o=this;this.options=fn(fn({},db),t),this.gs=n,this.names=new Map(s),this.server=!!t.isServer,!this.server&&ih&&Tv&&(Tv=!1,Ev(this)),Wm(this,function(){return function(u){for(var f=u.getTag(),g=f.length,p="",y=function(b){var C=function(ut){return rh.get(ut)}(b);if(C===void 0)return"continue";var P=u.names.get(C),H=f.getGroup(b);if(P===void 0||!P.size||H.length===0)return"continue";var $="".concat(Wa,".g").concat(b,'[id="').concat(C,'"]'),Z="";P!==void 0&&P.forEach(function(ut){ut.length>0&&(Z+="".concat(ut,","))}),p+="".concat(H).concat($,'{content:"').concat(Z,'"}').concat(Zm)},T=0;T<g;T++)y(T);return p}(o)})}return r.registerId=function(t){return xc(t)},r.prototype.rehydrate=function(){!this.server&&ih&&Ev(this)},r.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new r(fn(fn({},this.options),t),this.gs,n&&this.names||void 0)},r.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var s=n.useCSSOMInjection,o=n.target;return n.isServer?new fb(o):s?new cb(o):new hb(o)}(this.options),new ib(t)));var t},r.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},r.prototype.registerName=function(t,n){if(xc(t),this.names.has(t))this.names.get(t).add(n);else{var s=new Set;s.add(n),this.names.set(t,s)}},r.prototype.insertRules=function(t,n,s){this.registerName(t,n),this.getTag().insertRules(xc(t),s)},r.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},r.prototype.clearRules=function(t){this.getTag().clearGroup(xc(t)),this.clearNames(t)},r.prototype.clearTag=function(){this.tag=void 0},r}(),mb=/&/g,gb=/^\s*\/\/.*$/gm;function pE(r,t){return r.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(s){return"".concat(t," ").concat(s)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=pE(n.children,t)),n})}function pb(r){var t,n,s,o=to,u=o.options,f=u===void 0?to:u,g=o.plugins,p=g===void 0?Oh:g,y=function(C,P,H){return H.startsWith(n)&&H.endsWith(n)&&H.replaceAll(n,"").length>0?".".concat(t):C},T=p.slice();T.push(function(C){C.type===wh&&C.value.includes("&")&&(C.props[0]=C.props[0].replace(mb,n).replace(s,y))}),f.prefix&&T.push(BS),T.push(US);var b=function(C,P,H,$){P===void 0&&(P=""),H===void 0&&(H=""),$===void 0&&($="&"),t=$,n=P,s=new RegExp("\\".concat(n,"\\b"),"g");var Z=C.replace(gb,""),ut=PS(H||P?"".concat(H," ").concat(P," { ").concat(Z," }"):Z);f.namespace&&(ut=pE(ut,f.namespace));var st=[];return nh(ut,LS(T.concat(zS(function(rt){return st.push(rt)})))),st};return b.hash=p.length?p.reduce(function(C,P){return P.name||Jl(15),Qa(C,P.name)},lE).toString():"",b}var yb=new gE,Tm=pb(),yE=Bl.createContext({shouldForwardProp:void 0,styleSheet:yb,stylis:Tm});yE.Consumer;Bl.createContext(void 0);function Av(){return Ge.useContext(yE)}var _b=function(){function r(t,n){var s=this;this.inject=function(o,u){u===void 0&&(u=Tm);var f=s.name+u.hash;o.hasNameForId(s.id,f)||o.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,Wm(this,function(){throw Jl(12,String(s.name))})}return r.prototype.getName=function(t){return t===void 0&&(t=Tm),this.name+t.hash},r}(),vb=function(r){return r>="A"&&r<="Z"};function Sv(r){for(var t="",n=0;n<r.length;n++){var s=r[n];if(n===1&&s==="-"&&r[0]==="-")return r;vb(s)?t+="-"+s.toLowerCase():t+=s}return t.startsWith("ms-")?"-"+t:t}var _E=function(r){return r==null||r===!1||r===""},vE=function(r){var t,n,s=[];for(var o in r){var u=r[o];r.hasOwnProperty(o)&&!_E(u)&&(Array.isArray(u)&&u.isCss||eo(u)?s.push("".concat(Sv(o),":"),u,";"):jl(u)?s.push.apply(s,eh(eh(["".concat(o," {")],vE(u),!1),["}"],!1)):s.push("".concat(Sv(o),": ").concat((t=o,(n=u)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in jS||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return s};function Ls(r,t,n,s){if(_E(r))return[];if(Jm(r))return[".".concat(r.styledComponentId)];if(eo(r)){if(!eo(u=r)||u.prototype&&u.prototype.isReactComponent||!t)return[r];var o=r(t);return Ls(o,t,n,s)}var u;return r instanceof _b?n?(r.inject(n,s),[r.getName(s)]):[r]:jl(r)?vE(r):Array.isArray(r)?Array.prototype.concat.apply(Oh,r.map(function(f){return Ls(f,t,n,s)})):[r.toString()]}function Eb(r){for(var t=0;t<r.length;t+=1){var n=r[t];if(eo(n)&&!Jm(n))return!1}return!0}var Tb=uE(Dh),Ab=function(){function r(t,n,s){this.rules=t,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&Eb(t),this.componentId=n,this.baseHash=Qa(Tb,n),this.baseStyle=s,gE.registerId(n)}return r.prototype.generateAndInjectStyles=function(t,n,s){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=xs(o,this.staticRulesId);else{var u=vv(Ls(this.rules,t,n,s)),f=vm(Qa(this.baseHash,u)>>>0);if(!n.hasNameForId(this.componentId,f)){var g=s(u,".".concat(f),void 0,this.componentId);n.insertRules(this.componentId,f,g)}o=xs(o,f),this.staticRulesId=f}else{for(var p=Qa(this.baseHash,s.hash),y="",T=0;T<this.rules.length;T++){var b=this.rules[T];if(typeof b=="string")y+=b;else if(b){var C=vv(Ls(b,t,n,s));p=Qa(p,C+T),y+=C}}if(y){var P=vm(p>>>0);n.hasNameForId(this.componentId,P)||n.insertRules(this.componentId,P,s(y,".".concat(P),void 0,this.componentId)),o=xs(o,P)}}return o},r}(),EE=Bl.createContext(void 0);EE.Consumer;var im={};function Sb(r,t,n){var s=Jm(r),o=r,u=!nm(r),f=t.attrs,g=f===void 0?Oh:f,p=t.componentId,y=p===void 0?function(ht,lt){var tt=typeof ht!="string"?"sc":mv(ht);im[tt]=(im[tt]||0)+1;var R="".concat(tt,"-").concat(YS(Dh+tt+im[tt]));return lt?"".concat(lt,"-").concat(R):R}(t.displayName,t.parentComponentId):p,T=t.displayName,b=T===void 0?function(ht){return nm(ht)?"styled.".concat(ht):"Styled(".concat(KS(ht),")")}(r):T,C=t.displayName&&t.componentId?"".concat(mv(t.displayName),"-").concat(t.componentId):t.componentId||y,P=s&&o.attrs?o.attrs.concat(g).filter(Boolean):g,H=t.shouldForwardProp;if(s&&o.shouldForwardProp){var $=o.shouldForwardProp;if(t.shouldForwardProp){var Z=t.shouldForwardProp;H=function(ht,lt){return $(ht,lt)&&Z(ht,lt)}}else H=$}var ut=new Ab(n,C,s?o.componentStyle:void 0);function st(ht,lt){return function(tt,R,S){var I=tt.attrs,M=tt.componentStyle,V=tt.defaultProps,k=tt.foldedComponentIds,D=tt.styledComponentId,Ae=tt.target,ne=Bl.useContext(EE),G=Av(),it=tt.shouldForwardProp||G.shouldForwardProp,ft=HS(R,ne,V)||to,Rt=function(wt,gt,se){for(var Bt,Ne=fn(fn({},gt),{className:void 0,theme:se}),bn=0;bn<wt.length;bn+=1){var on=eo(Bt=wt[bn])?Bt(Ne):Bt;for(var Ke in on)Ne[Ke]=Ke==="className"?xs(Ne[Ke],on[Ke]):Ke==="style"?fn(fn({},Ne[Ke]),on[Ke]):on[Ke]}return gt.className&&(Ne.className=xs(Ne.className,gt.className)),Ne}(I,R,ft),O=Rt.as||Ae,X={};for(var et in Rt)Rt[et]===void 0||et[0]==="$"||et==="as"||et==="theme"&&Rt.theme===ft||(et==="forwardedAs"?X.as=Rt.forwardedAs:it&&!it(et,O)||(X[et]=Rt[et]));var W=function(wt,gt){var se=Av(),Bt=wt.generateAndInjectStyles(gt,se.styleSheet,se.stylis);return Bt}(M,Rt),dt=xs(k,D);return W&&(dt+=" "+W),Rt.className&&(dt+=" "+Rt.className),X[nm(O)&&!oE.has(O)?"class":"className"]=dt,S&&(X.ref=S),Ge.createElement(O,X)}(rt,ht,lt)}st.displayName=b;var rt=Bl.forwardRef(st);return rt.attrs=P,rt.componentStyle=ut,rt.displayName=b,rt.shouldForwardProp=H,rt.foldedComponentIds=s?xs(o.foldedComponentIds,o.styledComponentId):"",rt.styledComponentId=C,rt.target=s?o.target:r,Object.defineProperty(rt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ht){this._foldedDefaultProps=s?function(lt){for(var tt=[],R=1;R<arguments.length;R++)tt[R-1]=arguments[R];for(var S=0,I=tt;S<I.length;S++)Em(lt,I[S],!0);return lt}({},o.defaultProps,ht):ht}}),Wm(rt,function(){return".".concat(rt.styledComponentId)}),u&&dE(rt,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),rt}function bv(r,t){for(var n=[r[0]],s=0,o=t.length;s<o;s+=1)n.push(t[s],r[s+1]);return n}var wv=function(r){return Object.assign(r,{isCss:!0})};function bb(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(eo(r)||jl(r))return wv(Ls(bv(Oh,eh([r],t,!0))));var s=r;return t.length===0&&s.length===1&&typeof s[0]=="string"?Ls(s):wv(Ls(bv(s,t)))}function Am(r,t,n){if(n===void 0&&(n=to),!t)throw Jl(1,t);var s=function(o){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return r(t,n,bb.apply(void 0,eh([o],u,!1)))};return s.attrs=function(o){return Am(r,t,fn(fn({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},s.withConfig=function(o){return Am(r,t,fn(fn({},n),o))},s}var TE=function(r){return Am(Sb,r)},Si=TE;oE.forEach(function(r){Si[r]=TE(r)});const wb=Si.div`
  border: 1px solid blue;
  width: 100%;
  // height: 5em;
  height: content-fit;
  overflow: hidden;
  border-radius: 1em;
  flex-shrink: 0;
  box-sizing: border-box;
  padding: 0.2em 0.3em;

  &>p{margin: 0.2em 0;}

  &.selected{
    border: 5px solid var(--selected-color);
  }
`;function Rb(r){let t=0;for(let u=0;u<r.length;u++)t=r.charCodeAt(u)+((t<<5)-t);const n=t>>16&255,s=t>>8&255,o=t&255;return`rgb(${n}, ${s}, ${o})`}function Ib({professor:r,courseName:t,courseCode:n,days:s,startTime:o,endTime:u,location:f,memo:g,credit:p,priority:y,id:T,onDelete:b,className:C,onSelect:P,onUnSelect:H,selected:$}){return at.jsxs(wb,{className:C,onClick:()=>{$?H(T):P(T)},style:{backgroundColor:Rb(T)},children:[n,"(",p,") - ",r,at.jsx("p",{children:t}),at.jsxs("p",{className:"",children:["📆 Days: ",s]}),at.jsxs("p",{className:"",children:["⏰ Time: ",o," ~ ",u]}),at.jsxs("p",{className:"",children:["📝 Memo: ",g||"None"]}),at.jsx("button",{onClick:b,children:"Delete"})]})}const Cb=Si.div`
  display: flex;
  width: 100%;
  flex-direction: column;
  gap: 1em;
  padding: 1em;
  overflow-y: auto;
  box-sizing: border-box;

  /* scroll custom(Browser based WebKit only) */
  &::-webkit-scrollbar {
    width: 3px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background-color: rgba(128, 128, 128, 0.5);
    border-radius: 6px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background-color: rgba(128, 128, 128, 0.7);
  }
`;function Db({courses:r,onDeleteCourse:t,selected:n,onSelectCourse:s,onUnSelectCourse:o,onModalOpen:u}){return at.jsxs(Cb,{children:[r.map(f=>at.jsx(Ib,{...f,onDelete:()=>{console.log(f.id),t(f.id)},className:n.some(g=>g===f.id)?"selected":"",onSelect:s,onUnSelect:o,selected:n.some(g=>g===f.id)},f.id)),at.jsx("button",{onClick:()=>u(!0),children:"Add Course"})]})}const Ob=Si.div`
  width: 100%;
  height: 100%;
  display: grid;
  border: 1px solid black;
  grid-template-areas: 
    "time mo tu we th fr"
    "t1 mo1 tu1 we1 th1 fr1"
    "t2 mo2 tu2 we2 th2 fr2"
    "t3 mo3 tu3 we3 th3 fr3"
    "t4 mo4 tu4 we4 th4 fr4"
    "t5 mo5 tu5 we5 th5 fr5"
    "t6 mo6 tu6 we6 th6 fr6";
    grid-template-columns: 100px repeat(5, 1fr);
`,An=Si.div`
  width: 100%;
  height: 100%;
  font-size: 1.2em;
  display: flex;
  flex-direction: column;
  align-items: center;     /* 세로 중앙 */
  justify-content: center; /* 가로 중앙 */
  &>p{
  margin: 0;}
`;function Nb(r,t){const n={"07:45":"1","09:00":"2","10:15":"3","12:45":"4","14:00":"5","15:15":"6"};let s=["mo","tu","we","th","fr"];return t.split("").map((o,u)=>o==="1"?s[u]:null).filter(Boolean).map(o=>o+n[r])}function Mb(r){let t=0;for(let u=0;u<r.length;u++)t=r.charCodeAt(u)+((t<<5)-t);const n=t>>16&255,s=t>>8&255,o=t&255;return`rgb(${n}, ${s}, ${o})`}function Vb({courses:r,selected:t,onUnselectCourse:n,onSave:s}){return at.jsxs(Ob,{children:[at.jsx(An,{style:{gridArea:"1/1"},children:at.jsx("button",{onClick:s,children:"Save"})}),at.jsx(An,{style:{gridArea:"mo"},children:"Monday"}),at.jsx(An,{style:{gridArea:"tu"},children:"Tuesday"}),at.jsx(An,{style:{gridArea:"we"},children:"Wednesday"}),at.jsx(An,{style:{gridArea:"th"},children:"Thursday"}),at.jsx(An,{style:{gridArea:"fr"},children:"Friday"}),at.jsxs(An,{style:{gridArea:"t1"},children:["07:45",at.jsx("br",{}),"~",at.jsx("br",{}),"08:45"]}),at.jsxs(An,{style:{gridArea:"t2"},children:["09:00",at.jsx("br",{}),"~",at.jsx("br",{}),"10:00"]}),at.jsxs(An,{style:{gridArea:"t3"},children:["10:15",at.jsx("br",{}),"~",at.jsx("br",{}),"11:15"]}),at.jsxs(An,{style:{gridArea:"t4"},children:["12:45",at.jsx("br",{}),"~",at.jsx("br",{}),"13:45"]}),at.jsxs(An,{style:{gridArea:"t5"},children:["14:00",at.jsx("br",{}),"~",at.jsx("br",{}),"15:00"]}),at.jsxs(An,{style:{gridArea:"t6"},children:["15:15",at.jsx("br",{}),"~",at.jsx("br",{}),"16:15"]}),r.filter(o=>t.includes(o.id)).flatMap(o=>Nb(o.startTime,o.days).map(u=>at.jsxs(An,{style:{gridArea:u,backgroundColor:Mb(o.id)},onClick:()=>{console.log(n),n(o.id)},children:[at.jsxs("p",{children:[o.courseCode,"-(",o.credit,")"]}),at.jsx("p",{children:o.courseName})]},o.id+u)))]})}const xb=Si.div`
  width: 100%;
  height: 100%;
  padding: 1em;
  box-sizing: border-box;
`;function Pb({courses:r,selected:t,onUnselectCourse:n,onSaveData:s}){return at.jsx(xb,{children:at.jsx(Vb,{courses:r,selected:t,onUnselectCourse:n,onSave:s})})}const kb=Si.div`
  position: fixed;
  top: 20%;
  left: 50%;
  transform: translateX(-50%);
  background: white;
  border: 2px solid #ccc;
  padding: 2em;
  width: 400px;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
  z-index: 999;
`,Ub=Si.div`
  color: red;
  font-weight: bold;
  margin-bottom: 1em;
`,Vr=Si.div`
  margin-bottom: 1em;
`;function Lb({onAddCourse:r,onClose:t}){const[n,s]=Ge.useState(""),[o,u]=Ge.useState([0,0,0,0,0]),[f,g]=Ge.useState(""),[p,y]=Ge.useState(""),[T,b]=Ge.useState(""),[C,P]=Ge.useState(""),[H,$]=Ge.useState(""),[Z,ut]=Ge.useState(""),[st,rt]=Ge.useState(""),ht=tt=>{const R=[...o];R[tt]=R[tt]===1?0:1,u(R)},lt=()=>{const tt=o.join("");if(!n||!f||!p||!T||!C||!H||tt==="00000"){rt("Required fields are missing.");return}const R={professor:n,days:tt,startTime:f,endTime:p,credit:parseInt(T),courseName:C,courseCode:H,memo:Z,id:n+f+tt};r(R),t()};return at.jsxs(kb,{children:[st&&at.jsx(Ub,{children:st}),at.jsx(Vr,{children:at.jsxs("label",{children:["Professor: ",at.jsx("input",{value:n,onChange:tt=>s(tt.target.value)})]})}),at.jsxs(Vr,{children:["Days:",["Mon","Tue","Wed","Thu","Fri"].map((tt,R)=>at.jsxs("label",{children:[at.jsx("input",{type:"checkbox",checked:o[R]===1,onChange:()=>ht(R)}),tt]},tt))]}),at.jsx(Vr,{children:at.jsxs("label",{children:["Start Time: ",at.jsx("input",{type:"time",value:f,onChange:tt=>g(tt.target.value)})]})}),at.jsx(Vr,{children:at.jsxs("label",{children:["End Time: ",at.jsx("input",{type:"time",value:p,onChange:tt=>y(tt.target.value)})]})}),at.jsx(Vr,{children:at.jsxs("label",{children:["Credit: ",at.jsx("input",{type:"number",value:T,onChange:tt=>b(tt.target.value)})]})}),at.jsx(Vr,{children:at.jsxs("label",{children:["Course Name: ",at.jsx("input",{value:C,onChange:tt=>P(tt.target.value)})]})}),at.jsx(Vr,{children:at.jsxs("label",{children:["Course Code: ",at.jsx("input",{value:H,onChange:tt=>$(tt.target.value)})]})}),at.jsx(Vr,{children:at.jsxs("label",{children:["Memo-optional: ",at.jsx("textarea",{value:Z,onChange:tt=>ut(tt.target.value)})]})}),at.jsx("button",{onClick:lt,children:"Add Course"}),at.jsx("button",{onClick:t,children:"Cancel"})]})}const zb=()=>{};var Rv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Bb=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],g=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,g=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|g>>4;let C=(g&15)<<2|y>>6,P=y&63;p||(P=64,f||(C=64)),s.push(n[T],n[b],n[C],n[P])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(AE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Bb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],g=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||g==null||y==null||b==null)throw new jb;const C=u<<2|g>>4;if(s.push(C),y!==64){const P=g<<4&240|y>>2;if(s.push(P),b!==64){const H=y<<6&192|b;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qb=function(r){const t=AE(r);return SE.encodeByteArray(t,!0)},sh=function(r){return qb(r).replace(/\./g,"")},bE=function(r){try{return SE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=()=>Hb().__FIREBASE_DEFAULTS__,Fb=()=>{if(typeof process>"u"||typeof Rv>"u")return;const r=Rv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&bE(r[1]);return t&&JSON.parse(t)},Nh=()=>{try{return zb()||Gb()||Fb()||Qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},wE=r=>{var t,n;return(n=(t=Nh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},Yb=r=>{const t=wE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},RE=()=>{var r;return(r=Nh())===null||r===void 0?void 0:r.config},IE=r=>{var t;return(t=Nh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(r){return r.endsWith(".cloudworkstations.dev")}async function CE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}const xl={};function $b(){const r={prod:[],emulator:[]};for(const t of Object.keys(xl))xl[t]?r.emulator.push(t):r.prod.push(t);return r}function Zb(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let Iv=!1;function DE(r,t){if(typeof window>"u"||typeof document>"u"||!Wl(window.location.host)||xl[r]===t||xl[r]||Iv)return;xl[r]=t;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=$b().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,P){C.setAttribute("width","24"),C.setAttribute("id",P),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Iv=!0,f()},C}function T(C,P){C.setAttribute("id",P),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=Zb(s),P=n("text"),H=document.getElementById(P)||document.createElement("span"),$=n("learnmore"),Z=document.getElementById($)||document.createElement("a"),ut=n("preprendIcon"),st=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const rt=C.element;g(rt),T(Z,$);const ht=y();p(st,ut),rt.append(st,H,Z,ht),document.body.appendChild(rt)}u?(H.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Wb(){var r;const t=(r=Nh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ew(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iw(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rw(){return!Wb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sw(){try{return typeof indexedDB=="object"}catch{return!1}}function aw(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="FirebaseError";class rr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=ow,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?lw(u,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new rr(o,g,s)}}function lw(r,t){return r.replace(uw,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const uw=/\{\$([^}]+)}/g;function cw(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Bs(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Cv(u)&&Cv(f)){if(!Bs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Cv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function hw(r,t){const n=new fw(r,t);return n.subscribe.bind(n)}class fw{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dw(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=rm),o.error===void 0&&(o.error=rm),o.complete===void 0&&(o.complete=rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dw(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(r){return r&&r._delegate?r._delegate:r}class js{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Kb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pw(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gw(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gw(r){return r===Vs?void 0:r}function pw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new mw(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const _w={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},vw=xt.INFO,Ew={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},Tw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=Ew[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tg{constructor(t){this.name=t,this._logLevel=vw,this._logHandler=Tw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_w[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const Aw=(r,t)=>t.some(n=>r instanceof n);let Dv,Ov;function Sw(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bw(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OE=new WeakMap,Sm=new WeakMap,NE=new WeakMap,sm=new WeakMap,eg=new WeakMap;function ww(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Br(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&OE.set(n,r)}).catch(()=>{}),eg.set(t,r),t}function Rw(r){if(Sm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Sm.set(r,t)}let bm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Sm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||NE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Iw(r){bm=r(bm)}function Cw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(am(this),t,...n);return NE.set(s,t.sort?t.sort():[t]),Br(s)}:bw().includes(r)?function(...t){return r.apply(am(this),t),Br(OE.get(this))}:function(...t){return Br(r.apply(am(this),t))}}function Dw(r){return typeof r=="function"?Cw(r):(r instanceof IDBTransaction&&Rw(r),Aw(r,Sw())?new Proxy(r,bm):r)}function Br(r){if(r instanceof IDBRequest)return ww(r);if(sm.has(r))return sm.get(r);const t=Dw(r);return t!==r&&(sm.set(r,t),eg.set(t,r)),t}const am=r=>eg.get(r);function Ow(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),g=Br(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Br(f.result),p.oldVersion,p.newVersion,Br(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const Nw=["get","getKey","getAll","getAllKeys","count"],Mw=["put","add","delete","clear"],om=new Map;function Nv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(om.get(t))return om.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=Mw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Nw.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return om.set(t,u),u}Iw(r=>({...r,get:(t,n,s)=>Nv(t,n)||r.get(t,n,s),has:(t,n)=>!!Nv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function xw(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const wm="@firebase/app",Mv="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new tg("@firebase/app"),Pw="@firebase/app-compat",kw="@firebase/analytics-compat",Uw="@firebase/analytics",Lw="@firebase/app-check-compat",zw="@firebase/app-check",Bw="@firebase/auth",jw="@firebase/auth-compat",qw="@firebase/database",Hw="@firebase/data-connect",Gw="@firebase/database-compat",Fw="@firebase/functions",Qw="@firebase/functions-compat",Yw="@firebase/installations",Kw="@firebase/installations-compat",Xw="@firebase/messaging",$w="@firebase/messaging-compat",Zw="@firebase/performance",Jw="@firebase/performance-compat",Ww="@firebase/remote-config",tR="@firebase/remote-config-compat",eR="@firebase/storage",nR="@firebase/storage-compat",iR="@firebase/firestore",rR="@firebase/ai",sR="@firebase/firestore-compat",aR="firebase",oR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",lR={[wm]:"fire-core",[Pw]:"fire-core-compat",[Uw]:"fire-analytics",[kw]:"fire-analytics-compat",[zw]:"fire-app-check",[Lw]:"fire-app-check-compat",[Bw]:"fire-auth",[jw]:"fire-auth-compat",[qw]:"fire-rtdb",[Hw]:"fire-data-connect",[Gw]:"fire-rtdb-compat",[Fw]:"fire-fn",[Qw]:"fire-fn-compat",[Yw]:"fire-iid",[Kw]:"fire-iid-compat",[Xw]:"fire-fcm",[$w]:"fire-fcm-compat",[Zw]:"fire-perf",[Jw]:"fire-perf-compat",[Ww]:"fire-rc",[tR]:"fire-rc-compat",[eR]:"fire-gcs",[nR]:"fire-gcs-compat",[iR]:"fire-fst",[sR]:"fire-fst-compat",[rR]:"fire-vertex","fire-js":"fire-js",[aR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,uR=new Map,Im=new Map;function Vv(r,t){try{r.container.addComponent(t)}catch(n){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function no(r){const t=r.name;if(Im.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;Im.set(t,r);for(const n of ah.values())Vv(n,r);for(const n of uR.values())Vv(n,r);return!0}function ng(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new tu("app","Firebase",cR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=oR;function ME(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Rm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw jr.create("bad-app-name",{appName:String(o)});if(n||(n=RE()),!n)throw jr.create("no-options");const u=ah.get(o);if(u){if(Bs(n,u.options)&&Bs(s,u.config))return u;throw jr.create("duplicate-app",{appName:o})}const f=new yw(o);for(const p of Im.values())f.addComponent(p);const g=new hR(n,s,f);return ah.set(o,g),g}function VE(r=Rm){const t=ah.get(r);if(!t&&r===Rm&&RE())return ME();if(!t)throw jr.create("no-app",{appName:r});return t}function qr(r,t,n){var s;let o=(s=lR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const g=[`Unable to register library "${o}" with version "${t}":`];u&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(g.join(" "));return}no(new js(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="firebase-heartbeat-database",dR=1,ql="firebase-heartbeat-store";let lm=null;function xE(){return lm||(lm=Ow(fR,dR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(r=>{throw jr.create("idb-open",{originalErrorMessage:r.message})})),lm}async function mR(r){try{const n=(await xE()).transaction(ql),s=await n.objectStore(ql).get(PE(r));return await n.done,s}catch(t){if(t instanceof rr)tr.warn(t.message);else{const n=jr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});tr.warn(n.message)}}}async function xv(r,t){try{const s=(await xE()).transaction(ql,"readwrite");await s.objectStore(ql).put(t,PE(r)),await s.done}catch(n){if(n instanceof rr)tr.warn(n.message);else{const s=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});tr.warn(s.message)}}}function PE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1024,pR=30;class yR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Pv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>pR){const f=ER(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){tr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pv(),{heartbeatsToSend:s,unsentEntries:o}=_R(this._heartbeatsCache.heartbeats),u=sh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return tr.warn(n),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function _R(r,t=gR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),kv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),kv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sw()?aw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return xv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return xv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function kv(r){return sh(JSON.stringify({version:2,heartbeats:r})).length}function ER(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r){no(new js("platform-logger",t=>new Vw(t),"PRIVATE")),no(new js("heartbeat",t=>new yR(t),"PRIVATE")),qr(wm,Mv,r),qr(wm,Mv,"esm2017"),qr("fire-js","")}TR("");var AR="firebase",SR="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(AR,SR,"app");var Uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,kE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(R,S){function I(){}I.prototype=S.prototype,R.D=S.prototype,R.prototype=new I,R.prototype.constructor=R,R.C=function(M,V,k){for(var D=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)D[Ae-2]=arguments[Ae];return S.prototype[V].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,I){I||(I=0);var M=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)M[V]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(V=0;16>V;++V)M[V]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=R.g[0],I=R.g[1],V=R.g[2];var k=R.g[3],D=S+(k^I&(V^k))+M[0]+3614090360&4294967295;S=I+(D<<7&4294967295|D>>>25),D=k+(V^S&(I^V))+M[1]+3905402710&4294967295,k=S+(D<<12&4294967295|D>>>20),D=V+(I^k&(S^I))+M[2]+606105819&4294967295,V=k+(D<<17&4294967295|D>>>15),D=I+(S^V&(k^S))+M[3]+3250441966&4294967295,I=V+(D<<22&4294967295|D>>>10),D=S+(k^I&(V^k))+M[4]+4118548399&4294967295,S=I+(D<<7&4294967295|D>>>25),D=k+(V^S&(I^V))+M[5]+1200080426&4294967295,k=S+(D<<12&4294967295|D>>>20),D=V+(I^k&(S^I))+M[6]+2821735955&4294967295,V=k+(D<<17&4294967295|D>>>15),D=I+(S^V&(k^S))+M[7]+4249261313&4294967295,I=V+(D<<22&4294967295|D>>>10),D=S+(k^I&(V^k))+M[8]+1770035416&4294967295,S=I+(D<<7&4294967295|D>>>25),D=k+(V^S&(I^V))+M[9]+2336552879&4294967295,k=S+(D<<12&4294967295|D>>>20),D=V+(I^k&(S^I))+M[10]+4294925233&4294967295,V=k+(D<<17&4294967295|D>>>15),D=I+(S^V&(k^S))+M[11]+2304563134&4294967295,I=V+(D<<22&4294967295|D>>>10),D=S+(k^I&(V^k))+M[12]+1804603682&4294967295,S=I+(D<<7&4294967295|D>>>25),D=k+(V^S&(I^V))+M[13]+4254626195&4294967295,k=S+(D<<12&4294967295|D>>>20),D=V+(I^k&(S^I))+M[14]+2792965006&4294967295,V=k+(D<<17&4294967295|D>>>15),D=I+(S^V&(k^S))+M[15]+1236535329&4294967295,I=V+(D<<22&4294967295|D>>>10),D=S+(V^k&(I^V))+M[1]+4129170786&4294967295,S=I+(D<<5&4294967295|D>>>27),D=k+(I^V&(S^I))+M[6]+3225465664&4294967295,k=S+(D<<9&4294967295|D>>>23),D=V+(S^I&(k^S))+M[11]+643717713&4294967295,V=k+(D<<14&4294967295|D>>>18),D=I+(k^S&(V^k))+M[0]+3921069994&4294967295,I=V+(D<<20&4294967295|D>>>12),D=S+(V^k&(I^V))+M[5]+3593408605&4294967295,S=I+(D<<5&4294967295|D>>>27),D=k+(I^V&(S^I))+M[10]+38016083&4294967295,k=S+(D<<9&4294967295|D>>>23),D=V+(S^I&(k^S))+M[15]+3634488961&4294967295,V=k+(D<<14&4294967295|D>>>18),D=I+(k^S&(V^k))+M[4]+3889429448&4294967295,I=V+(D<<20&4294967295|D>>>12),D=S+(V^k&(I^V))+M[9]+568446438&4294967295,S=I+(D<<5&4294967295|D>>>27),D=k+(I^V&(S^I))+M[14]+3275163606&4294967295,k=S+(D<<9&4294967295|D>>>23),D=V+(S^I&(k^S))+M[3]+4107603335&4294967295,V=k+(D<<14&4294967295|D>>>18),D=I+(k^S&(V^k))+M[8]+1163531501&4294967295,I=V+(D<<20&4294967295|D>>>12),D=S+(V^k&(I^V))+M[13]+2850285829&4294967295,S=I+(D<<5&4294967295|D>>>27),D=k+(I^V&(S^I))+M[2]+4243563512&4294967295,k=S+(D<<9&4294967295|D>>>23),D=V+(S^I&(k^S))+M[7]+1735328473&4294967295,V=k+(D<<14&4294967295|D>>>18),D=I+(k^S&(V^k))+M[12]+2368359562&4294967295,I=V+(D<<20&4294967295|D>>>12),D=S+(I^V^k)+M[5]+4294588738&4294967295,S=I+(D<<4&4294967295|D>>>28),D=k+(S^I^V)+M[8]+2272392833&4294967295,k=S+(D<<11&4294967295|D>>>21),D=V+(k^S^I)+M[11]+1839030562&4294967295,V=k+(D<<16&4294967295|D>>>16),D=I+(V^k^S)+M[14]+4259657740&4294967295,I=V+(D<<23&4294967295|D>>>9),D=S+(I^V^k)+M[1]+2763975236&4294967295,S=I+(D<<4&4294967295|D>>>28),D=k+(S^I^V)+M[4]+1272893353&4294967295,k=S+(D<<11&4294967295|D>>>21),D=V+(k^S^I)+M[7]+4139469664&4294967295,V=k+(D<<16&4294967295|D>>>16),D=I+(V^k^S)+M[10]+3200236656&4294967295,I=V+(D<<23&4294967295|D>>>9),D=S+(I^V^k)+M[13]+681279174&4294967295,S=I+(D<<4&4294967295|D>>>28),D=k+(S^I^V)+M[0]+3936430074&4294967295,k=S+(D<<11&4294967295|D>>>21),D=V+(k^S^I)+M[3]+3572445317&4294967295,V=k+(D<<16&4294967295|D>>>16),D=I+(V^k^S)+M[6]+76029189&4294967295,I=V+(D<<23&4294967295|D>>>9),D=S+(I^V^k)+M[9]+3654602809&4294967295,S=I+(D<<4&4294967295|D>>>28),D=k+(S^I^V)+M[12]+3873151461&4294967295,k=S+(D<<11&4294967295|D>>>21),D=V+(k^S^I)+M[15]+530742520&4294967295,V=k+(D<<16&4294967295|D>>>16),D=I+(V^k^S)+M[2]+3299628645&4294967295,I=V+(D<<23&4294967295|D>>>9),D=S+(V^(I|~k))+M[0]+4096336452&4294967295,S=I+(D<<6&4294967295|D>>>26),D=k+(I^(S|~V))+M[7]+1126891415&4294967295,k=S+(D<<10&4294967295|D>>>22),D=V+(S^(k|~I))+M[14]+2878612391&4294967295,V=k+(D<<15&4294967295|D>>>17),D=I+(k^(V|~S))+M[5]+4237533241&4294967295,I=V+(D<<21&4294967295|D>>>11),D=S+(V^(I|~k))+M[12]+1700485571&4294967295,S=I+(D<<6&4294967295|D>>>26),D=k+(I^(S|~V))+M[3]+2399980690&4294967295,k=S+(D<<10&4294967295|D>>>22),D=V+(S^(k|~I))+M[10]+4293915773&4294967295,V=k+(D<<15&4294967295|D>>>17),D=I+(k^(V|~S))+M[1]+2240044497&4294967295,I=V+(D<<21&4294967295|D>>>11),D=S+(V^(I|~k))+M[8]+1873313359&4294967295,S=I+(D<<6&4294967295|D>>>26),D=k+(I^(S|~V))+M[15]+4264355552&4294967295,k=S+(D<<10&4294967295|D>>>22),D=V+(S^(k|~I))+M[6]+2734768916&4294967295,V=k+(D<<15&4294967295|D>>>17),D=I+(k^(V|~S))+M[13]+1309151649&4294967295,I=V+(D<<21&4294967295|D>>>11),D=S+(V^(I|~k))+M[4]+4149444226&4294967295,S=I+(D<<6&4294967295|D>>>26),D=k+(I^(S|~V))+M[11]+3174756917&4294967295,k=S+(D<<10&4294967295|D>>>22),D=V+(S^(k|~I))+M[2]+718787259&4294967295,V=k+(D<<15&4294967295|D>>>17),D=I+(k^(V|~S))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+V&4294967295,R.g[3]=R.g[3]+k&4294967295}s.prototype.u=function(R,S){S===void 0&&(S=R.length);for(var I=S-this.blockSize,M=this.B,V=this.h,k=0;k<S;){if(V==0)for(;k<=I;)o(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<S;)if(M[V++]=R.charCodeAt(k++),V==this.blockSize){o(this,M),V=0;break}}else for(;k<S;)if(M[V++]=R[k++],V==this.blockSize){o(this,M),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;var I=8*this.o;for(S=R.length-8;S<R.length;++S)R[S]=I&255,I/=256;for(this.u(R),R=Array(16),S=I=0;4>S;++S)for(var M=0;32>M;M+=8)R[I++]=this.g[S]>>>M&255;return R};function u(R,S){var I=g;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=S(R)}function f(R,S){this.h=S;for(var I=[],M=!0,V=R.length-1;0<=V;V--){var k=R[V]|0;M&&k==S||(I[V]=k,M=!1)}this.g=I}var g={};function p(R){return-128<=R&&128>R?u(R,function(S){return new f([S|0],0>S?-1:0)}):new f([R|0],0>R?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return b;if(0>R)return Z(y(-R));for(var S=[],I=1,M=0;R>=I;M++)S[M]=R/I|0,I*=4294967296;return new f(S,0)}function T(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return Z(T(R.substring(1),S));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(S,8)),M=b,V=0;V<R.length;V+=8){var k=Math.min(8,R.length-V),D=parseInt(R.substring(V,V+k),S);8>k?(k=y(Math.pow(S,k)),M=M.j(k).add(y(D))):(M=M.j(I),M=M.add(y(D)))}return M}var b=p(0),C=p(1),P=p(16777216);r=f.prototype,r.m=function(){if($(this))return-Z(this).m();for(var R=0,S=1,I=0;I<this.g.length;I++){var M=this.i(I);R+=(0<=M?M:4294967296+M)*S,S*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(H(this))return"0";if($(this))return"-"+Z(this).toString(R);for(var S=y(Math.pow(R,6)),I=this,M="";;){var V=ht(I,S).g;I=ut(I,V.j(S));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(R);if(I=V,H(I))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function H(R){if(R.h!=0)return!1;for(var S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function $(R){return R.h==-1}r.l=function(R){return R=ut(this,R),$(R)?-1:H(R)?0:1};function Z(R){for(var S=R.g.length,I=[],M=0;M<S;M++)I[M]=~R.g[M];return new f(I,~R.h).add(C)}r.abs=function(){return $(this)?Z(this):this},r.add=function(R){for(var S=Math.max(this.g.length,R.g.length),I=[],M=0,V=0;V<=S;V++){var k=M+(this.i(V)&65535)+(R.i(V)&65535),D=(k>>>16)+(this.i(V)>>>16)+(R.i(V)>>>16);M=D>>>16,k&=65535,D&=65535,I[V]=D<<16|k}return new f(I,I[I.length-1]&-2147483648?-1:0)};function ut(R,S){return R.add(Z(S))}r.j=function(R){if(H(this)||H(R))return b;if($(this))return $(R)?Z(this).j(Z(R)):Z(Z(this).j(R));if($(R))return Z(this.j(Z(R)));if(0>this.l(P)&&0>R.l(P))return y(this.m()*R.m());for(var S=this.g.length+R.g.length,I=[],M=0;M<2*S;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<R.g.length;V++){var k=this.i(M)>>>16,D=this.i(M)&65535,Ae=R.i(V)>>>16,ne=R.i(V)&65535;I[2*M+2*V]+=D*ne,st(I,2*M+2*V),I[2*M+2*V+1]+=k*ne,st(I,2*M+2*V+1),I[2*M+2*V+1]+=D*Ae,st(I,2*M+2*V+1),I[2*M+2*V+2]+=k*Ae,st(I,2*M+2*V+2)}for(M=0;M<S;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=S;M<2*S;M++)I[M]=0;return new f(I,0)};function st(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function rt(R,S){this.g=R,this.h=S}function ht(R,S){if(H(S))throw Error("division by zero");if(H(R))return new rt(b,b);if($(R))return S=ht(Z(R),S),new rt(Z(S.g),Z(S.h));if($(S))return S=ht(R,Z(S)),new rt(Z(S.g),S.h);if(30<R.g.length){if($(R)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var I=C,M=S;0>=M.l(R);)I=lt(I),M=lt(M);var V=tt(I,1),k=tt(M,1);for(M=tt(M,2),I=tt(I,2);!H(M);){var D=k.add(M);0>=D.l(R)&&(V=V.add(I),k=D),M=tt(M,1),I=tt(I,1)}return S=ut(R,V.j(S)),new rt(V,S)}for(V=b;0<=R.l(S);){for(I=Math.max(1,Math.floor(R.m()/S.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=y(I),D=k.j(S);$(D)||0<D.l(R);)I-=M,k=y(I),D=k.j(S);H(k)&&(k=C),V=V.add(k),R=ut(R,D)}return new rt(V,R)}r.A=function(R){return ht(this,R).h},r.and=function(R){for(var S=Math.max(this.g.length,R.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)&R.i(M);return new f(I,this.h&R.h)},r.or=function(R){for(var S=Math.max(this.g.length,R.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)|R.i(M);return new f(I,this.h|R.h)},r.xor=function(R){for(var S=Math.max(this.g.length,R.g.length),I=[],M=0;M<S;M++)I[M]=this.i(M)^R.i(M);return new f(I,this.h^R.h)};function lt(R){for(var S=R.g.length+1,I=[],M=0;M<S;M++)I[M]=R.i(M)<<1|R.i(M-1)>>>31;return new f(I,R.h)}function tt(R,S){var I=S>>5;S%=32;for(var M=R.g.length-I,V=[],k=0;k<M;k++)V[k]=0<S?R.i(k+I)>>>S|R.i(k+I+1)<<32-S:R.i(k+I);return new f(V,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,kE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Hr=f}).apply(typeof Uv<"u"?Uv:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UE,Ol,LE,Qc,Cm,zE,BE,jE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,_){return c==Array.prototype||c==Object.prototype||(c[m]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var m=0;m<c.length;++m){var _=c[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,m){if(m)t:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in _))break t;_=_[U]}c=c[c.length-1],A=_[c],m=m(A),m!=A&&m!=null&&t(_,c,{configurable:!0,writable:!0,value:m})}}function u(c,m){c instanceof String&&(c+="");var _=0,A=!1,U={next:function(){if(!A&&_<c.length){var q=_++;return{value:m(q,c[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function y(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function T(c,m,_){return c.call.apply(c.bind,arguments)}function b(c,m,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(m,U)}}return function(){return c.apply(m,arguments)}}function C(c,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,C.apply(null,arguments)}function P(c,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function H(c,m){function _(){}_.prototype=m.prototype,c.aa=m.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,U,q){for(var nt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)nt[kt-2]=arguments[kt];return m.prototype[U].apply(A,nt)}}function $(c){const m=c.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=c[A];return _}return[]}function Z(c,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=c.length||0,q=A.length||0;c.length=U+q;for(let nt=0;nt<q;nt++)c[U+nt]=A[nt]}else c.push(A)}}class ut{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(c){return/^[\s\xa0]*$/.test(c)}function rt(){var c=g.navigator;return c&&(c=c.userAgent)?c:""}function ht(c){return ht[" "](c),c}ht[" "]=function(){};var lt=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function tt(c,m,_){for(const A in c)m.call(_,c[A],A,c)}function R(c,m){for(const _ in c)m.call(void 0,c[_],_,c)}function S(c){const m={};for(const _ in c)m[_]=c[_];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)c[_]=A[_];for(let q=0;q<I.length;q++)_=I[q],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function V(c){var m=1;c=c.split(":");const _=[];for(;0<m&&c.length;)_.push(c.shift()),m--;return c.length&&_.push(c.join(":")),_}function k(c){g.setTimeout(()=>{throw c},0)}function D(){var c=Rt;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,_){const A=ne.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var ne=new ut(()=>new G,c=>c.reset());class G{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let it,ft=!1,Rt=new Ae,O=()=>{const c=g.Promise.resolve(void 0);it=()=>{c.then(X)}};var X=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){k(_)}var m=ne;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}ft=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return c}();function wt(c,m){if(W.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(lt){t:{try{ht(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=c.fromElement:_=="mouseout"&&(m=c.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:gt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wt.aa.h.call(this)}}H(wt,W);var gt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function Ne(c,m,_,A,U){this.listener=c,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++Bt,this.da=this.fa=!1}function bn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function on(c){this.src=c,this.g={},this.h=0}on.prototype.add=function(c,m,_,A,U){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var nt=Zr(c,m,A,U);return-1<nt?(m=c[nt],_||(m.fa=!1)):(m=new Ne(m,this.src,q,!!A,U),m.fa=_,c.push(m)),m};function Ke(c,m){var _=m.type;if(_ in c.g){var A=c.g[_],U=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(A,U,1),q&&(bn(m),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Zr(c,m,_,A){for(var U=0;U<c.length;++U){var q=c[U];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return U}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),vo={};function uu(c,m,_,A,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)uu(c,m[q],_,A,U);return null}return _=cu(_),c&&c[se]?c.K(m,_,y(A)?!!A.capture:!1,U):wn(c,m,_,!1,A,U)}function wn(c,m,_,A,U,q){if(!m)throw Error("Invalid event type");var nt=y(U)?!!U.capture:!!U,kt=$s(c);if(kt||(c[Jr]=kt=new on(c)),_=kt.add(m,_,A,nt,q),_.proxy)return _;if(A=Yh(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)dt||(U=nt),U===void 0&&(U=!1),c.addEventListener(m.toString(),A,U);else if(c.attachEvent)c.attachEvent(Wr(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Yh(){function c(_){return m.call(c.src,c.listener,_)}const m=Kh;return c}function Eo(c,m,_,A,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Eo(c,m[q],_,A,U);else A=y(A)?!!A.capture:!!A,_=cu(_),c&&c[se]?(c=c.i,m=String(m).toString(),m in c.g&&(q=c.g[m],_=Zr(q,_,A,U),-1<_&&(bn(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete c.g[m],c.h--)))):c&&(c=$s(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Zr(m,_,A,U)),(_=-1<c?m[c]:null)&&Xs(_))}function Xs(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[se])Ke(m.i,c);else{var _=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(_,A,c.capture):m.detachEvent?m.detachEvent(Wr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=$s(m))?(Ke(_,c),_.h==0&&(_.src=null,m[Jr]=null)):bn(c)}}}function Wr(c){return c in vo?vo[c]:vo[c]="on"+c}function Kh(c,m){if(c.da)c=!0;else{m=new wt(m,this);var _=c.listener,A=c.ha||c.src;c.fa&&Xs(c),c=_.call(A,m)}return c}function $s(c){return c=c[Jr],c instanceof on?c:null}var To="__closure_events_fn_"+(1e9*Math.random()>>>0);function cu(c){return typeof c=="function"?c:(c[To]||(c[To]=function(m){return c.handleEvent(m)}),c[To])}function le(){et.call(this),this.i=new on(this),this.M=this,this.F=null}H(le,et),le.prototype[se]=!0,le.prototype.removeEventListener=function(c,m,_,A){Eo(this,c,m,_,A)};function Qt(c,m){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new W(m,c);else if(m instanceof W)m.target=m.target||c;else{var U=m;m=new W(A,c),M(m,U)}if(U=!0,_)for(var q=_.length-1;0<=q;q--){var nt=m.g=_[q];U=dn(nt,A,!0,m)&&U}if(nt=m.g=c,U=dn(nt,A,!0,m)&&U,U=dn(nt,A,!1,m)&&U,_)for(q=0;q<_.length;q++)nt=m.g=_[q],U=dn(nt,A,!1,m)&&U}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var _=c.g[m],A=0;A<_.length;A++)bn(_[A]);delete c.g[m],c.h--}}this.F=null},le.prototype.K=function(c,m,_,A){return this.i.add(String(c),m,!1,_,A)},le.prototype.L=function(c,m,_,A){return this.i.add(String(c),m,!0,_,A)};function dn(c,m,_,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var nt=m[q];if(nt&&!nt.da&&nt.capture==_){var kt=nt.listener,be=nt.ha||nt.src;nt.fa&&Ke(c.i,nt),U=kt.call(be,A)!==!1&&U}}return U&&!A.defaultPrevented}function Xe(c,m,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(c,m||0)}function hu(c){c.g=Xe(()=>{c.g=null,c.i&&(c.i=!1,hu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Xh extends et{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:hu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){et.call(this),this.h=c,this.g={}}H(ts,et);var es=[];function ns(c){tt(c.g,function(m,_){this.g.hasOwnProperty(_)&&Xs(m)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),ns(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=g.JSON.stringify,Zs=g.JSON.parse,is=class{stringify(c){return g.JSON.stringify(c,void 0)}parse(c){return g.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function bo(){}var bi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){W.call(this,"d")}H(wi,W);function wo(){W.call(this,"c")}H(wo,W);var Jn={},Ro=null;function sr(){return Ro=Ro||new le}Jn.La="serverreachability";function Js(c){W.call(this,Jn.La,c)}H(Js,W);function ar(c){const m=sr();Qt(m,new Js(m))}Jn.STAT_EVENT="statevent";function fu(c,m){W.call(this,Jn.STAT_EVENT,c),this.stat=m}H(fu,W);function ie(c){const m=sr();Qt(m,new fu(m,c))}Jn.Ma="timingevent";function Se(c,m){W.call(this,Jn.Ma,c),this.size=m}H(Se,W);function pe(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){c()},m)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Io(c,m,_,A,U,q){c.info(function(){if(c.g)if(q)for(var nt="",kt=q.split("&"),be=0;be<kt.length;be++){var Ut=kt[be].split("=");if(1<Ut.length){var Ve=Ut[0];Ut=Ut[1];var we=Ve.split("_");nt=2<=we.length&&we[1]=="type"?nt+(Ve+"="+Ut+"&"):nt+(Ve+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+nt})}function $h(c,m,_,A,U,q,nt){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+q+" "+nt})}function or(c,m,_,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+rs(c,_)+(A?" "+A:"")})}function du(c,m){c.info(function(){return"TIMEOUT: "+m})}Rn.prototype.info=function(){};function rs(c,m){if(!c.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<U.length;nt++)U[nt]=""}}}}return jn(_)}catch{return m}}var lr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ri={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function ti(){}H(ti,Ao),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},Wn=new ti;function nn(c,m,_,A){this.j=c,this.i=m,this.l=_,this.R=A||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var Co={},Ws={};function qn(c,m,_){c.L=1,c.v=us(mn(m)),c.m=_,c.P=!0,Ii(c,null)}function Ii(c,m){c.F=Date.now(),ss(c),c.A=mn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),xo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new fe,c.g=Du(c.j,_?m:null,!c.m),0<c.O&&(c.M=new Xh(C(c.Y,c,c.g),c.O)),m=c.U,_=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(es[0]=U.toString()),U=es);for(var q=0;q<U.length;q++){var nt=uu(_,U[q],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),ar(),Io(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const m=this.M;m&&On(c)==3?m.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)t:{const we=On(this.g);var m=this.g.Ba();const Pi=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||Tu(this.g)))){this.J||we!=4||m==7||(m==8||0>=Pi?ar(3):ar(2)),ur(this);var _=this.g.Z();this.X=_;e:if(mu(this)){var A=Tu(this.g);c="";var U=A.length,q=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),ei(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,c+=this.h.i.decode(A[m],{stream:!(q&&m==U-1)});A.length=0,this.h.g+=c,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,$h(this.i,this.u,this.A,this.l,this.R,we,_),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,be=this.g;if((kt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(kt)){var Ut=kt;break e}}Ut=null}if(_=Ut)or(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,as(this,_);else{this.o=!1,this.s=3,ie(12),ze(this),ei(this);break t}}if(this.P){_=!0;let Be;for(;!this.J&&this.C<nt.length;)if(Be=gu(this,nt),Be==Ws){we==4&&(this.s=4,ie(14),_=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(Be==Co){this.s=4,ie(15),or(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else or(this.i,this.l,Be,null),as(this,Be);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||nt.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)or(this.i,this.l,nt,"[Invalid Chunked Response]"),ze(this),ei(this);else if(0<nt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ys(Ve),Ve.M=!0,ie(11))}}else or(this.i,this.l,nt,null),as(this,nt);we==4&&ze(this),this.o&&!this.J&&(we==4?Ru(this.j,this):(this.o=!1,ss(this)))}else ef(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),ze(this),ei(this)}}}catch{}finally{}};function mu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function gu(c,m){var _=c.C,A=m.indexOf(`
`,_);return A==-1?Ws:(_=Number(m.substring(_,A)),isNaN(_)?Co:(A+=1,A+_>m.length?Ws:(m=m.slice(A,A+_),c.C=A+_,m)))}nn.prototype.cancel=function(){this.J=!0,ze(this)};function ss(c){c.S=Date.now()+c.I,pu(c,c.I)}function pu(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pe(C(c.ba,c),m)}function ur(c){c.B&&(g.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(du(this.i,this.A),this.L!=2&&(ar(),ie(17)),ze(this),this.s=2,ei(this)):pu(this,this.S-c)};function ei(c){c.j.G==0||c.J||Ru(c.j,c)}function ze(c){ur(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,ns(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function as(c,m){try{var _=c.j;if(_.G!=0&&(_.g==c||Do(_.h,c))){if(!c.K&&Do(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ha(_),ua(_);else break t;zo(_),ie(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(C(_.Za,_),6e3));if(1>=ea(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else xi(_,11)}else if((c.K||_.g==c)&&ha(_),!st(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Ut=U[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ve=Ut[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const we=Ut[4];we!=null&&(_.Aa=we,_.j.info("SVER="+_.Aa));const Pi=Ut[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(A=1.5*Pi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Be=c.g;if(Be){const li=Be.g?Be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var q=A.h;q.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(na(q,q.h),q.h=null))}if(A.D){const jo=Be.g?Be.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(A.ya=jo,Xt(A.I,A.D,jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var nt=c;if(A.qa=Cu(A,A.J?A.ia:null,A.W),nt.K){rn(A.h,nt);var kt=nt,be=A.L;be&&(kt.I=be),kt.B&&(ur(kt),ss(kt)),A.g=nt}else bu(A);0<_.i.length&&ca(_)}else Ut[0]!="stop"&&Ut[0]!="close"||xi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?xi(_,7):Uo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}ar(4)}catch{}}var yu=class{constructor(c,m){this.g=c,this.map=m}};function Ci(c){this.l=c||10,g.PerformanceNavigationTiming?(c=g.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ea(c){return c.h?1:c.g?c.g.size:0}function Do(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function na(c,m){c.g?c.g.add(m):c.h=m}function rn(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ci.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const _ of c.g.values())m=m.concat(_.D);return m}return $(c.i)}function Zh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var m=[],_=c.length,A=0;A<_;A++)m.push(c[A]);return m}m=[],_=0;for(A in c)m[_++]=c[A];return m}function ia(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var m=[];c=c.length;for(var _=0;_<c;_++)m.push(_);return m}m=[],_=0;for(const A in c)m[_++]=A;return m}}}function No(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var _=ia(c),A=Zh(c),U=A.length,q=0;q<U;q++)m.call(void 0,A[q],_&&_[q],c)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jh(c,m){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),U=null;if(0<=A){var q=c[_].substring(0,A);U=c[_].substring(A+1)}else q=c[_];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ye(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ye){this.h=c.h,ls(this,c.j),this.o=c.o,this.g=c.g,cr(this,c.s),this.l=c.l;var m=c.i,_=new Oi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Di(this,_),this.m=c.m}else c&&(m=String(c).match(os))?(this.h=!1,ls(this,m[1]||"",!0),this.o=In(m[2]||""),this.g=In(m[3]||"",!0),cr(this,m[4]),this.l=In(m[5]||"",!0),Di(this,m[6]||"",!0),this.m=In(m[7]||"")):(this.h=!1,this.i=new Oi(null,this.h))}ye.prototype.toString=function(){var c=[],m=this.j;m&&c.push(cs(m,Mo,!0),":");var _=this.g;return(_||m=="file")&&(c.push("//"),(m=this.o)&&c.push(cs(m,Mo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(cs(_,_.charAt(0)=="/"?Wh:Vo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",cs(_,ra)),c.join("")};function mn(c){return new ye(c)}function ls(c,m,_){c.j=_?In(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function cr(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function Di(c,m,_){m instanceof Oi?(c.i=m,vu(c.i,c.h)):(_||(m=cs(m,tf)),c.i=new Oi(m,c.h))}function Xt(c,m,_){c.i.set(m,_)}function us(c){return Xt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function cs(c,m,_){return typeof c=="string"?(c=encodeURI(c).replace(m,_u),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _u(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Mo=/[#\/\?@]/g,Vo=/[#\?:]/g,Wh=/[#\?]/g,tf=/[#\?@]/g,ra=/#/g;function Oi(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&Jh(c.i,function(m,_){c.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Oi.prototype,r.add=function(c,m){Cn(this),this.i=null,c=ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(m),this.h+=1,this};function Ni(c,m){Cn(c),m=ni(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Mi(c,m){return Cn(c),m=ni(c,m),c.g.has(m)}r.forEach=function(c,m){Cn(this),this.g.forEach(function(_,A){_.forEach(function(U){c.call(m,U,A,this)},this)},this)},r.na=function(){Cn(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const U=c[A];for(let q=0;q<U.length;q++)_.push(m[A])}return _},r.V=function(c){Cn(this);let m=[];if(typeof c=="string")Mi(this,c)&&(m=m.concat(this.g.get(ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)m=m.concat(c[_])}return m},r.set=function(c,m){return Cn(this),this.i=null,c=ni(this,c),Mi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function xo(c,m,_){Ni(c,m),0<_.length&&(c.i=null,c.g.set(ni(c,m),$(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const q=encodeURIComponent(String(A)),nt=this.V(A);for(A=0;A<nt.length;A++){var U=q;nt[A]!==""&&(U+="="+encodeURIComponent(String(nt[A]))),c.push(U)}}return this.i=c.join("&")};function ni(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function vu(c,m){m&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Ni(this,A),xo(this,U,_))},c)),c.j=m}function hs(c,m){const _=new Rn;if(g.Image){const A=new Image;A.onload=P(Dn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=P(Dn,_,"TestLoadImage: error",!1,m,A),A.onabort=P(Dn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=P(Dn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Hn(c,m){const _=new Rn,A=new AbortController,U=setTimeout(()=>{A.abort(),Dn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?Dn(_,"TestPingServer: ok",!0,m):Dn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Dn(_,"TestPingServer: error",!1,m)})}function Dn(c,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function fs(){this.g=new is}function ii(c,m,_){const A=_||"";try{No(c,function(U,q){let nt=U;y(U)&&(nt=jn(U)),m.push(A+q+"="+encodeURIComponent(nt))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function hr(c){this.l=c.Ub||null,this.j=c.eb||!1}H(hr,Ao),hr.prototype.g=function(){return new Vi(this.l,this.j)},hr.prototype.i=function(c){return function(){return c}}({});function Vi(c,m){le.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Vi,le),r=Vi.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,si(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Po(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Po(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ri(this):si(this),this.readyState==3&&Po(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},r.Qa=function(c){this.g&&(this.response=c,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,si(c)}r.setRequestHeader=function(c,m){this.u.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=m.next();return c.join(`\r
`)};function si(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ko(c){let m="";return tt(c,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Me(c,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Xt(c,m,_))}function Ht(c){le.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(Ht,le);var sa=/^https?$/i,ds=["POST","PUT"];r=Ht.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?So(this.o):So(Wn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Eu(this,q);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&c instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ds,m,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of _)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){Eu(this,q)}};function Eu(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,aa(c),ai(c)}function aa(c){c.A||(c.A=!0,Qt(c,"complete"),Qt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qt(this,"complete"),Qt(this,"abort"),ai(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?oa(this):this.bb())},r.bb=function(){oa(this)};function oa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Xe(c.Ea,0,c);else if(Qt(c,"readystatechange"),On(c)==4){c.h=!1;try{const nt=c.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=nt===0){var U=String(c.D).match(os)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!sa.test(U?U.toLowerCase():"")}_=A}if(_)Qt(c,"complete"),Qt(c,"success");else{c.m=6;try{var q=2<On(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",aa(c)}}finally{ai(c)}}}}function ai(c,m){if(c.g){ms(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Qt(c,"ready");try{_.onreadystatechange=A}catch{}}}function ms(c){c.I&&(g.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Zs(m)}};function Tu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ef(c){const m={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(st(c[A]))continue;var _=V(c[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[U]||[];m[U]=q,q.push(_)}R(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(c,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||m}function la(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,c),this.cb=gs("retryDelaySeedMs",1e4,c),this.Wa=gs("forwardChannelMaxRetries",2,c),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(c&&c.concurrentRequestLimit),this.Da=new fs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=la.prototype,r.la=8,r.G=1,r.connect=function(c,m,_,A){ie(0),this.W=c,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Cu(this,null,this.W),ca(this)};function Uo(c){if(Au(c),c.G==3){var m=c.U++,_=mn(c.I);if(Xt(_,"SID",c.K),Xt(_,"RID",m),Xt(_,"TYPE","terminate"),ps(c,_),m=new nn(c,c.j,m),m.L=2,m.v=us(mn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Du(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ss(m)}Iu(c)}function ua(c){c.g&&(ys(c),c.g.cancel(),c.g=null)}function Au(c){ua(c),c.u&&(g.clearTimeout(c.u),c.u=null),ha(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&g.clearTimeout(c.s),c.s=null)}function ca(c){if(!ta(c.h)&&!c.s){c.s=!0;var m=c.Ga;it||O(),ft||(it(),ft=!0),Rt.add(m,c),c.B=0}}function nf(c,m){return ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pe(C(c.Ga,c,m),Bo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new nn(this,this.j,c);let q=this.o;if(this.S&&(q?(q=S(q),M(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Su(this,U,m),_=mn(this.I),Xt(_,"RID",c),Xt(_,"CVER",22),this.D&&Xt(_,"X-HTTP-Session-Id",this.D),ps(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(ko(q)))+"&"+m:this.m&&Me(_,this.m,q)),na(this.h,U),this.Ua&&Xt(_,"TYPE","init"),this.P?(Xt(_,"$req",m),Xt(_,"SID","null"),U.T=!0,qn(U,_,null)):qn(U,_,m),this.G=2}}else this.G==3&&(c?Lo(this,c):this.i.length==0||ta(this.h)||Lo(this))};function Lo(c,m){var _;m?_=m.l:_=c.U++;const A=mn(c.I);Xt(A,"SID",c.K),Xt(A,"RID",_),Xt(A,"AID",c.T),ps(c,A),c.m&&c.o&&Me(A,c.m,c.o),_=new nn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Su(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),na(c.h,_),qn(_,A,m)}function ps(c,m){c.H&&tt(c.H,function(_,A){Xt(m,A,_)}),c.l&&No({},function(_,A){Xt(m,A,_)})}function Su(c,m,_){_=Math.min(c.i.length,_);var A=c.l?C(c.l.Na,c.l,c):null;t:{var U=c.i;let q=-1;for(;;){const nt=["count="+_];q==-1?0<_?(q=U[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let kt=!0;for(let be=0;be<_;be++){let Ut=U[be].g;const Ve=U[be].map;if(Ut-=q,0>Ut)q=Math.max(0,U[be].g-100),kt=!1;else try{ii(Ve,nt,"req"+Ut+"_")}catch{A&&A(Ve)}}if(kt){A=nt.join("&");break t}}}return c=c.i.splice(0,_),m.D=c,A}function bu(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;it||O(),ft||(it(),ft=!0),Rt.add(m,c),c.v=0}}function zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pe(C(c.Fa,c),Bo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pe(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),ua(this),wu(this))};function ys(c){c.A!=null&&(g.clearTimeout(c.A),c.A=null)}function wu(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=mn(c.qa);Xt(m,"RID","rpc"),Xt(m,"SID",c.K),Xt(m,"AID",c.T),Xt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xt(m,"TO",c.ja),Xt(m,"TYPE","xmlhttp"),ps(c,m),c.m&&c.o&&Me(m,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=us(mn(m)),_.m=null,_.P=!0,Ii(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ua(this),zo(this),ie(19))};function ha(c){c.C!=null&&(g.clearTimeout(c.C),c.C=null)}function Ru(c,m){var _=null;if(c.g==m){ha(c),ys(c),c.g=null;var A=2}else if(Do(c.h,m))_=m.D,rn(c.h,m),A=1;else return;if(c.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=c.B;A=sr(),Qt(A,new Se(A,_)),ca(c)}else bu(c);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&nf(c,m)||A==2&&zo(c)))switch(_&&0<_.length&&(m=c.h,m.i=m.i.concat(_)),U){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Bo(c,m){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*m}function xi(c,m){if(c.j.info("Error code "+m),m==2){var _=C(c.fb,c),A=c.Xa;const U=!A;A=new ye(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ls(A,"https"),us(A),U?hs(A.toString(),_):Hn(A.toString(),_)}else ie(2);c.G=0,c.l&&c.l.sa(m),Iu(c),Au(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Iu(c){if(c.G=0,c.ka=[],c.l){const m=Oo(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ka,m),Z(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Cu(c,m,_){var A=_ instanceof ye?mn(_):new ye(_);if(A.g!="")m&&(A.g=m+"."+A.g),cr(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new ye(null);A&&ls(q,A),m&&(q.g=m),U&&cr(q,U),_&&(q.l=_),A=q}return _=c.D,m=c.ya,_&&m&&Xt(A,_,m),Xt(A,"VER",c.la),ps(c,A),A}function Du(c,m,_){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new Ht(new hr({eb:_})):new Ht(c.pa),m.Ha(c.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function fa(){}fa.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){le.call(this),this.g=new la(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!st(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!st(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new oi(this)}H(sn,le),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Uo(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=jn(c),c=_);m.i.push(new yu(m.Ya++,c)),m.G==3&&ca(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,sn.aa.N.call(this)};function Nu(c){wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const _ in m){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}H(Nu,wi);function Mu(){wo.call(this),this.status=1}H(Mu,wo);function oi(c){this.g=c}H(oi,Ou),oi.prototype.ua=function(){Qt(this.g,"a")},oi.prototype.ta=function(c){Qt(this.g,new Nu(c))},oi.prototype.sa=function(c){Qt(this.g,new Mu)},oi.prototype.ra=function(){Qt(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,jE=function(){return new fa},BE=function(){return sr()},zE=Jn,Cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Qc=lr,Ri.COMPLETE="complete",LE=Ri,bo.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",le.prototype.listen=le.prototype.K,Ol=bo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,UE=Ht}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const Lv="@firebase/firestore",zv="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new tg("@firebase/firestore");function qa(){return qs.logLevel}function ot(r,...t){if(qs.logLevel<=xt.DEBUG){const n=t.map(ig);qs.debug(`Firestore (${mo}): ${r}`,...n)}}function er(r,...t){if(qs.logLevel<=xt.ERROR){const n=t.map(ig);qs.error(`Firestore (${mo}): ${r}`,...n)}}function io(r,...t){if(qs.logLevel<=xt.WARN){const n=t.map(ig);qs.warn(`Firestore (${mo}): ${r}`,...n)}}function ig(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,qE(r,s,n)}function qE(r,t,n){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function Ft(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||qE(t,o,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends rr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}}class wR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class RR{constructor(t){this.t=t,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Gr,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Gr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new HE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new We(t)}}class IR{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class CR{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new IR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=OR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Ot(r,t){return r<t?-1:r>t?1:0}function Dm(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ot(s,o);{const u=GE(),f=NR(u.encode(jv(r,n)),u.encode(jv(t,n)));return f!==0?f:Ot(s,o)}}n+=s>65535?2:1}return Ot(r.length,t.length)}function jv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function NR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return Ot(r[n],t[n]);return Ot(r.length,t.length)}function ro(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=-62135596800,Hv=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(t){return De.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Hv);return new De(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new yt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<qv)throw new yt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new yt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-qv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new De(0,0))}static max(){return new St(new De(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="__name__";class mi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return mi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof mi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=mi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Ot(t.length,n.length)}static compareSegments(t,n){const s=mi.isNumericId(t),o=mi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mi.extractNumericId(t).compare(mi.extractNumericId(n)):Dm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class he extends mi{construct(t,n,s){return new he(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new yt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new he(n)}static emptyPath(){return new he([])}}const MR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends mi{construct(t,n,s){return new Qe(t,n,s)}static isValidIdentifier(t){return MR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gv}static keyField(){return new Qe([Gv])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new yt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new yt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new yt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new yt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(he.fromString(t))}static fromName(t){return new _t(he.fromString(t).popFirst(5))}static empty(){return new _t(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return he.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new he(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function VR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new De(n+1,0):new De(n,s));return new Fr(o,_t.empty(),t)}function xR(r){return new Fr(r.readTime,r.key,Hl)}class Fr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(St.min(),_t.empty(),Hl)}static max(){return new Fr(St.max(),_t.empty(),Hl)}}function PR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=_t.comparator(r.documentKey,t.documentKey),n!==0?n:Ot(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==kR)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new K((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):K.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):K.reject(n)}static resolve(t){return new K((n,s)=>{n(t)})}static reject(t){return new K((n,s)=>{s(t)})}static waitFor(t){return new K((n,s)=>{let o=0,u=0,f=!1;t.forEach(g=>{++o,g.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=K.resolve(!1);for(const s of t)n=n.next(o=>o?K.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new K((s,o)=>{const u=t.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next(T=>{f[y]=T,++g,g===u&&s(f)},T=>o(T))}})}static doWhile(t,n){return new K((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function LR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Mh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=-1;function Vh(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function zR(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="";function BR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Fv(t)),t=jR(r.get(n),t);return Fv(t)}function jR(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case QE:n+="";break;default:n+=u}}return n}function Fv(r){return r+QE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Fs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function YE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){this.comparator=t,this.root=n||Fe.EMPTY}insert(t,n){return new oe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kc(this.root,t,this.comparator,!0)}}class kc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Fe.RED,this.left=o??Fe.EMPTY,this.right=u??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Fe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Fe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(t){return new Yv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class Yv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Kn([])}unionWith(t){let n=new Oe(Qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new KE("Invalid base64 string: "+u):u}}(t);return new Ye(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Ye(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const qR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const n=qR.exec(r);if(Ft(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Yr(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="server_timestamp",$E="__type__",ZE="__previous_value__",JE="__local_write_time__";function sg(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[$E])===null||n===void 0?void 0:n.stringValue)===XE}function xh(r){const t=r.mapValue.fields[ZE];return sg(t)?xh(t):t}function Gl(r){const t=Qr(r.mapValue.fields[JE].timestampValue);return new De(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n,s,o,u,f,g,p,y,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const lh="(default)";class Fl{constructor(t,n){this.projectId=t,this.database=n||lh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===lh}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="__type__",GR="__max__",Uc={mapValue:{}},tT="__vector__",uh="value";function Kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?sg(r)?4:QR(r)?9007199254740991:FR(r)?10:11:Tt(28295,{value:r})}function Ei(r,t){if(r===t)return!0;const n=Kr(r);if(n!==Kr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Gl(r).isEqual(Gl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qr(o.timestampValue),g=Qr(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Yr(o.bytesValue).isEqual(Yr(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),g=ge(u.doubleValue);return f===g?oh(f)===oh(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return ro(r.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(Qv(f)!==Qv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Ei(f[p],g[p])))return!1;return!0}(r,t);default:return Tt(52216,{left:r})}}function Ql(r,t){return(r.values||[]).find(n=>Ei(n,t))!==void 0}function so(r,t){if(r===t)return 0;const n=Kr(r),s=Kr(t);if(n!==s)return Ot(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return function(u,f){const g=ge(u.integerValue||u.doubleValue),p=ge(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return Kv(r.timestampValue,t.timestampValue);case 4:return Kv(Gl(r),Gl(t));case 5:return Dm(r.stringValue,t.stringValue);case 6:return function(u,f){const g=Yr(u),p=Yr(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const g=u.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Ot(g[y],p[y]);if(T!==0)return T}return Ot(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const g=Ot(ge(u.latitude),ge(f.latitude));return g!==0?g:Ot(ge(u.longitude),ge(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Xv(r.arrayValue,t.arrayValue);case 10:return function(u,f){var g,p,y,T;const b=u.fields||{},C=f.fields||{},P=(g=b[uh])===null||g===void 0?void 0:g.arrayValue,H=(p=C[uh])===null||p===void 0?void 0:p.arrayValue,$=Ot(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((T=H==null?void 0:H.values)===null||T===void 0?void 0:T.length)||0);return $!==0?$:Xv(P,H)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const C=Dm(p[b],T[b]);if(C!==0)return C;const P=so(g[p[b]],y[T[b]]);if(P!==0)return P}return Ot(p.length,T.length)}(r.mapValue,t.mapValue);default:throw Tt(23264,{Pe:n})}}function Kv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const n=Qr(r),s=Qr(t),o=Ot(n.seconds,s.seconds);return o!==0?o:Ot(n.nanos,s.nanos)}function Xv(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=so(n[o],s[o]);if(u)return u}return Ot(n.length,s.length)}function ao(r){return Om(r)}function Om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Yr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return _t.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Om(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Om(n.fields[f])}`;return o+"}"}(r.mapValue):Tt(61005,{value:r})}function Yc(r){switch(Kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(r);return t?16+Yc(t):16;case 5:return 2*r.stringValue.length;case 6:return Yr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Yc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Fs(s.fields,(u,f)=>{o+=u.length+Yc(f)}),o}(r.mapValue);default:throw Tt(13486,{value:r})}}function Nm(r){return!!r&&"integerValue"in r}function ag(r){return!!r&&"arrayValue"in r}function $v(r){return!!r&&"nullValue"in r}function Zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function FR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[WE])===null||n===void 0?void 0:n.stringValue)===tT}function Pl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Fs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Pl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function QR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Kc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pl(n)}setAll(t){let n=Qe.emptyPath(),s={},o=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=Pl(f):o.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Fs(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Ln(Pl(this.value))}}function eT(r){const t=[];return Fs(r.fields,(n,s)=>{const o=new Qe([n]);if(Kc(s)){const u=eT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,n,s,o,u,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new tn(t,0,St.min(),St.min(),St.min(),Ln.empty(),0)}static newFoundDocument(t,n,s,o){return new tn(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new tn(t,2,n,St.min(),St.min(),Ln.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,St.min(),St.min(),Ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n){this.position=t,this.inclusive=n}}function Jv(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=_t.comparator(_t.fromName(f.referenceValue),n.key):s=so(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ei(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(t,n="asc"){this.field=t,this.dir=n}}function YR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{}class Ce extends nT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new XR(t,n,s):n==="array-contains"?new JR(t,s):n==="in"?new WR(t,s):n==="not-in"?new tI(t,s):n==="array-contains-any"?new eI(t,s):new Ce(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new $R(t,s):new ZR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&Kr(this.value)===Kr(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends nT{constructor(t,n){super(),this.filters=t,this.op=n,this.Te=null}static create(t,n){return new Ti(t,n)}matches(t){return iT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function iT(r){return r.op==="and"}function rT(r){return KR(r)&&iT(r)}function KR(r){for(const t of r.filters)if(t instanceof Ti)return!1;return!0}function Mm(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+ao(r.value);if(rT(r))return r.filters.map(t=>Mm(t)).join(",");{const t=r.filters.map(n=>Mm(n)).join(",");return`${r.op}(${t})`}}function sT(r,t){return r instanceof Ce?function(s,o){return o instanceof Ce&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(r,t):r instanceof Ti?function(s,o){return o instanceof Ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,g)=>u&&sT(f,o.filters[g]),!0):!1}(r,t):void Tt(19439)}function aT(r){return r instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${ao(n.value)}`}(r):r instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(aT).join(" ,")+"}"}(r):"Filter"}class XR extends Ce{constructor(t,n,s){super(t,n,s),this.key=_t.fromName(s.referenceValue)}matches(t){const n=_t.comparator(t.key,this.key);return this.matchesComparison(n)}}class $R extends Ce{constructor(t,n){super(t,"in",n),this.keys=oT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class ZR extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=oT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function oT(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_t.fromName(s.referenceValue))}class JR extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ag(n)&&Ql(n.arrayValue,this.value)}}class WR extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class tI extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class eI extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ag(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n=null,s=[],o=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Ie=null}}function t0(r,t=null,n=[],s=[],o=null,u=null,f=null){return new nI(r,t,n,s,o,u,f)}function og(r){const t=bt(r);if(t.Ie===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Mm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Vh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>ao(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>ao(s)).join(",")),t.Ie=n}return t.Ie}function lg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!YR(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!sT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Wv(r.startAt,t.startAt)&&Wv(r.endAt,t.endAt)}function Vm(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(t,n=null,s=[],o=[],u=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function iI(r,t,n,s,o,u,f,g){return new Ph(r,t,n,s,o,u,f,g)}function ug(r){return new Ph(r)}function e0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rI(r){return r.collectionGroup!==null}function kl(r){const t=bt(r);if(t.Ee===null){t.Ee=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ee.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Oe(Qe.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ee.push(new hh(u,s))}),n.has(Qe.keyField().canonicalString())||t.Ee.push(new hh(Qe.keyField(),s))}return t.Ee}function pi(r){const t=bt(r);return t.de||(t.de=sI(t,kl(r))),t.de}function sI(r,t){if(r.limitType==="F")return t0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new hh(o.field,u)});const n=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return t0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function xm(r,t,n){return new Ph(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function kh(r,t){return lg(pi(r),pi(t))&&r.limitType===t.limitType}function lT(r){return`${og(pi(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>aT(o)).join(", ")}]`),Vh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ao(o)).join(",")),`Target(${s})`}(pi(r))}; limitType=${r.limitType})`}function Uh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_t.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,g,p){const y=Jv(f,g,p);return f.inclusive?y<=0:y<0}(s.startAt,kl(s),o)||s.endAt&&!function(f,g,p){const y=Jv(f,g,p);return f.inclusive?y>=0:y>0}(s.endAt,kl(s),o))}(r,t)}function aI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function uT(r){return(t,n)=>{let s=!1;for(const o of kl(r)){const u=oI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function oI(r,t,n){const s=r.field.isKeyField()?_t.comparator(t.key,n.key):function(u,f,g){const p=f.data.field(u),y=g.data.field(u);return p!==null&&y!==null?so(p,y):Tt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Fs(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=new oe(_t.comparator);function nr(){return lI}const cT=new oe(_t.comparator);function Nl(...r){let t=cT;for(const n of r)t=t.insert(n.key,n);return t}function hT(r){let t=cT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ps(){return Ul()}function fT(){return Ul()}function Ul(){return new Qs(r=>r.toString(),(r,t)=>r.isEqual(t))}const uI=new oe(_t.comparator),cI=new Oe(_t.comparator);function Pt(...r){let t=cI;for(const n of r)t=t.add(n);return t}const hI=new Oe(Ot);function fI(){return hI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(t)?"-0":t}}function dT(r){return{integerValue:""+r}}function dI(r,t){return zR(t)?dT(t):cg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function mI(r,t,n){return r instanceof fh?function(o,u){const f={fields:{[$E]:{stringValue:XE},[JE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&sg(u)&&(u=xh(u)),u&&(f.fields[ZE]=u),{mapValue:f}}(n,t):r instanceof Yl?gT(r,t):r instanceof Kl?pT(r,t):function(o,u){const f=mT(o,u),g=n0(f)+n0(o.Re);return Nm(f)&&Nm(o.Re)?dT(g):cg(o.serializer,g)}(r,t)}function gI(r,t,n){return r instanceof Yl?gT(r,t):r instanceof Kl?pT(r,t):n}function mT(r,t){return r instanceof dh?function(s){return Nm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class fh extends Lh{}class Yl extends Lh{constructor(t){super(),this.elements=t}}function gT(r,t){const n=yT(t);for(const s of r.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class Kl extends Lh{constructor(t){super(),this.elements=t}}function pT(r,t){let n=yT(t);for(const s of r.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class dh extends Lh{constructor(t,n){super(),this.serializer=t,this.Re=n}}function n0(r){return ge(r.integerValue||r.doubleValue)}function yT(r){return ag(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function pI(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Yl&&o instanceof Yl||s instanceof Kl&&o instanceof Kl?ro(s.elements,o.elements,Ei):s instanceof dh&&o instanceof dh?Ei(s.Re,o.Re):s instanceof fh&&o instanceof fh}(r.transform,t.transform)}class yI{constructor(t,n){this.version=t,this.transformResults=n}}class Wi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Wi}static exists(t){return new Wi(void 0,t)}static updateTime(t){return new Wi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class zh{}function _T(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new ET(r.key,Wi.none()):new nu(r.key,r.data,Wi.none());{const n=r.data,s=Ln.empty();let o=new Oe(Qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ys(r.key,s,new Kn(o.toArray()),Wi.none())}}function _I(r,t,n){r instanceof nu?function(o,u,f){const g=o.value.clone(),p=r0(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Ys?function(o,u,f){if(!Xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=r0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(vT(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Ll(r,t,n,s){return r instanceof nu?function(u,f,g,p){if(!Xc(u.precondition,f))return g;const y=u.value.clone(),T=s0(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof Ys?function(u,f,g,p){if(!Xc(u.precondition,f))return g;const y=s0(u.fieldTransforms,p,f),T=f.data;return T.setAll(vT(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,s):function(u,f,g){return Xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function vI(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=mT(s.transform,o||null);u!=null&&(n===null&&(n=Ln.empty()),n.set(s.field,u))}return n||null}function i0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ro(s,o,(u,f)=>pI(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class nu extends zh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends zh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function r0(r,t,n){const s=new Map;Ft(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,g=t.data.field(u.field);s.set(u.field,gI(f,g,n[o]))}return s}function s0(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,mI(u,f,t))}return s}class ET extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EI extends zh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&_I(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ll(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ll(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=fT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const p=_T(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,(n,s)=>i0(n,s))&&ro(this.baseMutations,t.baseMutations,(n,s)=>i0(n,s))}}class hg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return uI}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new hg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,zt;function bI(r){switch(r){case J.OK:return Tt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function TT(r){if(r===void 0)return er("GRPC error has no .code"),J.UNKNOWN;switch(r){case Ee.OK:return J.OK;case Ee.CANCELLED:return J.CANCELLED;case Ee.UNKNOWN:return J.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return J.INTERNAL;case Ee.UNAVAILABLE:return J.UNAVAILABLE;case Ee.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ee.NOT_FOUND:return J.NOT_FOUND;case Ee.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ee.ABORTED:return J.ABORTED;case Ee.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ee.DATA_LOSS:return J.DATA_LOSS;default:return Tt(39323,{code:r})}}(zt=Ee||(Ee={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Hr([4294967295,4294967295],0);function a0(r){const t=GE().encode(r),n=new kE;return n.update(t),new Uint8Array(n.digest())}function o0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Hr([n,s],0),new Hr([o,u],0)]}class fg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*t.length-n,this.ye=Hr.fromNumber(this.pe)}we(t,n,s){let o=t.add(n.multiply(Hr.fromNumber(s)));return o.compare(wI)===1&&(o=new Hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const n=a0(t),[s,o]=o0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);if(!this.be(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new fg(u,o,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.pe===0)return;const n=a0(t),[s,o]=o0(n);for(let u=0;u<this.hashCount;u++){const f=this.we(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Bh(St.min(),o,new oe(Ot),nr(),Pt())}}class iu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new iu(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,n,s,o){this.De=t,this.removedTargetIds=n,this.key=s,this.ve=o}}class AT{constructor(t,n){this.targetId=t,this.Ce=n}}class ST{constructor(t,n,s=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class l0{constructor(){this.Fe=0,this.Me=u0(),this.xe=Ye.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Pt(),n=Pt(),s=Pt();return this.Me.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}}),new iu(this.xe,this.Oe,t,n,s)}Qe(){this.Ne=!1,this.Me=u0()}$e(t,n){this.Ne=!0,this.Me=this.Me.insert(t,n)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class RI{constructor(t){this.ze=t,this.je=new Map,this.He=nr(),this.Je=Lc(),this.Ye=Lc(),this.Ze=new oe(Ot)}Xe(t){for(const n of t.De)t.ve&&t.ve.isFoundDocument()?this.et(n,t.ve):this.tt(n,t.key,t.ve);for(const n of t.removedTargetIds)this.tt(n,t.key,t.ve)}nt(t){this.forEachTarget(t,n=>{const s=this.rt(n);switch(t.state){case 0:this.it(n)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(t){const n=t.targetId,s=t.Ce.count,o=this._t(n);if(o){const u=o.target;if(Vm(u))if(s===0){const f=new _t(u.path);this.tt(n,f,tn.newNoDocument(f,St.min()))}else Ft(s===1,20013,{expectedCount:s});else{const f=this.ut(n);if(f!==s){const g=this.ct(t),p=g?this.lt(g,t,f):1;if(p!==0){this.st(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=Yr(s).toUint8Array()}catch(p){if(p instanceof KE)return io("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new fg(f,o,u)}catch(p){return io(p instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.pe===0?null:g}lt(t,n,s){return n.Ce.count===s-this.Tt(t,n.targetId)?0:2}Tt(t,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ze.Pt(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.tt(n,u,null),o++)}),o}It(t){const n=new Map;this.je.forEach((u,f)=>{const g=this._t(f);if(g){if(u.current&&Vm(g.target)){const p=new _t(g.target.path);this.Et(p).has(f)||this.dt(f,p)||this.tt(f,p,tn.newNoDocument(p,t))}u.Le&&(n.set(f,u.qe()),u.Qe())}});let s=Pt();this.Ye.forEach((u,f)=>{let g=!0;f.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(u))}),this.He.forEach((u,f)=>f.setReadTime(t));const o=new Bh(t,n,this.Ze,this.He,s);return this.He=nr(),this.Je=Lc(),this.Ye=Lc(),this.Ze=new oe(Ot),o}et(t,n){if(!this.it(t))return;const s=this.dt(t,n.key)?2:0;this.rt(t).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(t)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(t))}tt(t,n,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(t)),this.Ye=this.Ye.insert(n,this.At(n).add(t)),s&&(this.He=this.He.insert(n,s))}removeTarget(t){this.je.delete(t)}ut(t){const n=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let n=this.je.get(t);return n||(n=new l0,this.je.set(t,n)),n}At(t){let n=this.Ye.get(t);return n||(n=new Oe(Ot),this.Ye=this.Ye.insert(t,n)),n}Et(t){let n=this.Je.get(t);return n||(n=new Oe(Ot),this.Je=this.Je.insert(t,n)),n}it(t){const n=this._t(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}_t(t){const n=this.je.get(t);return n&&n.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new l0),this.ze.getRemoteKeysForTarget(t).forEach(n=>{this.tt(t,n,null)})}dt(t,n){return this.ze.getRemoteKeysForTarget(t).has(n)}}function Lc(){return new oe(_t.comparator)}function u0(){return new oe(_t.comparator)}const II={asc:"ASCENDING",desc:"DESCENDING"},CI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DI={and:"AND",or:"OR"};class OI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Pm(r,t){return r.useProto3Json||Vh(t)?t:{value:t}}function mh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function bT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function NI(r,t){return mh(r,t.toTimestamp())}function yi(r){return Ft(!!r,49232),St.fromTimestamp(function(n){const s=Qr(n);return new De(s.seconds,s.nanos)}(r))}function dg(r,t){return km(r,t).canonicalString()}function km(r,t){const n=function(o){return new he(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function wT(r){const t=he.fromString(r);return Ft(OT(t),10190,{key:t.toString()}),t}function Um(r,t){return dg(r.databaseId,t.path)}function um(r,t){const n=wT(t);if(n.get(1)!==r.databaseId.projectId)throw new yt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new yt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _t(IT(n))}function RT(r,t){return dg(r.databaseId,t)}function MI(r){const t=wT(r);return t.length===4?he.emptyPath():IT(t)}function Lm(r){return new he(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function IT(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function c0(r,t,n){return{name:Um(r,t),fields:n.value.mapValue.fields}}function VI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Tt(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string",58123),Ye.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ye.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(y){const T=y.code===void 0?J.UNKNOWN:TT(y.code);return new yt(T,y.message||"")}(f);n=new ST(s,o,u,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=um(r,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):St.min(),g=new Ln({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,f,g),y=s.targetIds||[],T=s.removedTargetIds||[];n=new $c(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=um(r,s.document),u=s.readTime?yi(s.readTime):St.min(),f=tn.newNoDocument(o,u),g=s.removedTargetIds||[];n=new $c([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=um(r,s.document),u=s.removedTargetIds||[];n=new $c([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new SI(o,u),g=s.targetId;n=new AT(g,f)}}return n}function xI(r,t){let n;if(t instanceof nu)n={update:c0(r,t.key,t.value)};else if(t instanceof ET)n={delete:Um(r,t.key)};else if(t instanceof Ys)n={update:c0(r,t.key,t.data),updateMask:HI(t.fieldMask)};else{if(!(t instanceof EI))return Tt(16599,{ft:t.type});n={verify:Um(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const g=f.transform;if(g instanceof fh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof dh)return{fieldPath:f.field.canonicalString(),increment:g.Re};throw Tt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:NI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)}(r,t.precondition)),n}function PI(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(St.min())&&(f=yi(u)),new yI(f,o.transformResults||[])}(n,t))):[]}function kI(r,t){return{documents:[RT(r,t.path)]}}function UI(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=RT(r,o);const u=function(y){if(y.length!==0)return DT(Ti.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:Ga(C.field),direction:BI(C.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Pm(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:n,parent:o}}function LI(r){let t=MI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=function(b){const C=CT(b);return C instanceof Ti&&rT(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(C=>function(H){return new hh(Fa(H.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(C))}(n.orderBy));let g=null;n.limit&&(g=function(b){let C;return C=typeof b=="object"?b.value:b,Vh(C)?null:C}(n.limit));let p=null;n.startAt&&(p=function(b){const C=!!b.before,P=b.values||[];return new ch(P,C)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const C=!b.before,P=b.values||[];return new ch(P,C)}(n.endAt)),iI(t,o,f,u,g,"F",p,y)}function zI(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function CT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Fa(n.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Fa(n.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Fa(n.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Fa(n.unaryFilter.field);return Ce.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ce.create(Fa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(s=>CT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(r):Tt(30097,{filter:r})}function BI(r){return II[r]}function jI(r){return CI[r]}function qI(r){return DI[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Fa(r){return Qe.fromServerFormat(r.fieldPath)}function DT(r){return r instanceof Ce?function(n){if(n.op==="=="){if(Zv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if($v(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if($v(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:jI(n.op),value:n.value}}}(r):r instanceof Ti?function(n){const s=n.getFilters().map(o=>DT(o));return s.length===1?s[0]:{compositeFilter:{op:qI(n.op),filters:s}}}(r):Tt(54877,{filter:r})}function HI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function OT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,n,s,o,u=St.min(),f=St.min(),g=Ye.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t){this.wt=t}}function FI(r){const t=LI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.Cn=new YI}addToCollectionParentIndex(t,n){return this.Cn.add(n),K.resolve()}getCollectionParents(t,n){return K.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return K.resolve()}deleteFieldIndex(t,n){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,n){return K.resolve()}getDocumentsMatchingTarget(t,n){return K.resolve(null)}getIndexType(t,n){return K.resolve(0)}getFieldIndexes(t,n){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,n){return K.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,n){return K.resolve(Fr.min())}updateCollectionGroup(t,n,s){return K.resolve()}updateIndexEntries(t,n){return K.resolve()}}class YI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Oe(he.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Oe(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(NT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new oo(0)}static lr(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="LruGarbageCollector",KI=1048576;function d0([r,t],[n,s]){const o=Ot(r,n);return o===0?Ot(t,s):o}class XI{constructor(t){this.Er=t,this.buffer=new Oe(d0),this.dr=0}Ar(){return++this.dr}Rr(t){const n=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();d0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $I{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){ot(f0,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?ot(f0,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.mr(3e5)})}}class ZI{constructor(t,n){this.gr=t,this.params=n}calculateTargetCount(t,n){return this.gr.pr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return K.resolve(Mh.le);const s=new XI(n);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.gr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.gr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(h0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h0):this.wr(t,n))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,n){let s,o,u,f,g,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,g=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(y=Date.now(),qa()<=xt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function JI(r,t){return new ZI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.changes=new Qs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&Ll(s.mutation,o,Kn.empty(),De.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Pt()){const o=Ps();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Nl();return u.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Ps();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Pt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,o){let u=nr();const f=Ul(),g=function(){return Ul()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Ys)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Ll(T.mutation,y,T.mutation.getFieldMask(),De.now())):f.set(y.key,Kn.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var b;return g.set(y,new tC(T,(b=f.get(y))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(t,n){const s=Ul();let o=new oe((f,g)=>f-g),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||Kn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const b=(o.get(g.batchId)||Pt()).add(p);o=o.insert(g.batchId,b)})}).next(()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,b=fT();T.forEach(C=>{if(!u.has(C)){const P=_T(n.get(C),s.get(C));P!==null&&b.set(C,P),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return K.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return _t.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):rI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):K.resolve(Ps());let g=Hl,p=u;return f.next(y=>K.forEach(y,(T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),u.get(T)?K.resolve():this.remoteDocumentCache.getEntry(t,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,p,y,Pt())).next(T=>({batchId:g,changes:hT(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new _t(n)).next(s=>{let o=Nl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Nl();return this.indexManager.getCollectionParents(t,u).next(g=>K.forEach(g,p=>{const y=function(b,C){return new Ph(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(T=>{T.forEach((b,C)=>{f=f.insert(b,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))});let g=Nl();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&Ll(T.mutation,y,Kn.empty(),De.now()),Uh(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,n){return K.resolve(this.kr.get(n))}saveBundleMetadata(t,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),K.resolve()}getNamedQuery(t,n){return K.resolve(this.qr.get(n))}saveNamedQuery(t,n){return this.qr.set(n.name,function(o){return{name:o.name,query:FI(o.bundledQuery),readTime:yi(o.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.overlays=new oe(_t.comparator),this.Qr=new Map}getOverlay(t,n){return K.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ps();return K.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),K.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),K.resolve()}getOverlaysForCollection(t,n,s){const o=Ps(),u=n.length+1,f=new _t(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new oe((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Ps(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Ps(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return K.resolve(g)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new AI(n,s));let u=this.Qr.get(n);u===void 0&&(u=Pt(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.$r=new Oe(Ue.Ur),this.Kr=new Oe(Ue.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,n){const s=new Ue(t,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.zr(new Ue(t,n))}jr(t,n){t.forEach(s=>this.removeReference(s,n))}Hr(t){const n=new _t(new he([])),s=new Ue(n,t),o=new Ue(n,t+1),u=[];return this.Kr.forEachInRange([s,o],f=>{this.zr(f),u.push(f.key)}),u}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const n=new _t(new he([])),s=new Ue(n,t),o=new Ue(n,t+1);let u=Pt();return this.Kr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ue(t,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ue{constructor(t,n){this.key=t,this.Zr=n}static Ur(t,n){return _t.comparator(t.key,n.key)||Ot(t.Zr,n.Zr)}static Wr(t,n){return Ot(t.Zr,n.Zr)||_t.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Oe(Ue.Ur)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new TI(u,n,s,o);this.mutationQueue.push(f);for(const g of o)this.Xr=this.Xr.add(new Ue(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(f)}lookupMutationBatch(t,n){return K.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?rg:this.nr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ue(n,0),o=new Ue(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],f=>{const g=this.ei(f.Zr);u.push(g)}),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Oe(Ot);return n.forEach(o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,f],g=>{s=s.add(g.Zr)})}),K.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;_t.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new _t(u),0);let g=new Oe(Ot);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Zr)),!0)},f),K.resolve(this.ni(g))}ni(t){const n=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){Ft(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return K.forEach(n.mutations,o=>{const u=new Ue(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,n){const s=new Ue(n,0),o=this.Xr.firstAfterOrEqual(s);return K.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ri(t,n){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const n=this.ti(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.ii=t,this.docs=function(){return new oe(_t.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let s=nr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),K.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=nr();const f=n.path,g=new _t(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||PR(xR(T),s)<=0||(o.has(T.key)||Uh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}si(t,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new oC(this)}getSize(t){return K.resolve(this.size)}}class oC extends WI{constructor(t){super(),this.Br=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),K.waitFor(n)}getFromCache(t,n){return this.Br.getEntry(t,n)}getAllFromCache(t,n){return this.Br.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.persistence=t,this.oi=new Qs(n=>og(n),lg),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this._i=0,this.ai=new mg,this.targetCount=0,this.ui=oo.cr()}forEachTarget(t,n){return this.oi.forEach((s,o)=>n(o)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),K.resolve()}Tr(t){this.oi.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ui=new oo(n),this.highestTargetId=n),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,n){return this.Tr(n),this.targetCount+=1,K.resolve()}updateTargetData(t,n){return this.Tr(n),K.resolve()}removeTargetData(t,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.oi.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.oi.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),K.waitFor(u).next(()=>o)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,n){const s=this.oi.get(n)||null;return K.resolve(s)}addMatchingKeys(t,n,s){return this.ai.Gr(n,s),K.resolve()}removeMatchingKeys(t,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),K.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.ai.Hr(n),K.resolve()}getMatchingKeysForTargetId(t,n){const s=this.ai.Yr(n);return K.resolve(s)}containsKey(t,n){return K.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(t,n){this.ci={},this.overlays={},this.li=new Mh(0),this.hi=!1,this.hi=!0,this.Pi=new rC,this.referenceDelegate=t(this),this.Ti=new lC(this),this.indexManager=new QI,this.remoteDocumentCache=function(o){return new aC(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new GI(n),this.Ei=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new iC,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ci[t.toKey()];return s||(s=new sC(n,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const o=new uC(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(t,n){return K.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,n)))}}class uC extends UR{constructor(t){super(),this.currentSequenceNumber=t}}class gg{constructor(t){this.persistence=t,this.Vi=new mg,this.mi=null}static fi(t){return new gg(t)}get gi(){if(this.mi)return this.mi;throw Tt(60996)}addReference(t,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),K.resolve()}removeReference(t,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),K.resolve()}markPotentiallyOrphaned(t,n){return this.gi.add(n.toString()),K.resolve()}removeTarget(t,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}di(){this.mi=new Set}Ai(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.gi,s=>{const o=_t.fromPath(s);return this.pi(t,o).next(u=>{u||n.removeEntry(o,St.min())})}).next(()=>(this.mi=null,n.apply(t)))}updateLimboDocument(t,n){return this.pi(t,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(t){return 0}pi(t,n){return K.or([()=>K.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ri(t,n)])}}class gh{constructor(t,n){this.persistence=t,this.yi=new Qs(s=>BR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=JI(this,n)}static fi(t,n){return new gh(t,n)}di(){}Ai(t){return K.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}pr(t){const n=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}br(t){let n=0;return this.yr(t,s=>{n++}).next(()=>n)}yr(t,n){return K.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(u=>u?K.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(t,f=>this.Dr(t,f,n).next(g=>{g||(s++,u.removeEntry(f,St.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.yi.set(n,t.currentSequenceNumber),K.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),K.resolve()}removeReference(t,n,s){return this.yi.set(s,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,n){return this.yi.set(n,t.currentSequenceNumber),K.resolve()}Ii(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Yc(t.data.value)),n}Dr(t,n,s){return K.or([()=>this.persistence.Ri(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.yi.get(n);return K.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.ds=s,this.As=o}static Rs(t,n){let s=Pt(),o=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return rw()?8:LR(en())>0?6:4}()}initialize(t,n){this.ys=t,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ws(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.bs(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new cC;return this.Ss(t,n,f).next(g=>{if(u.result=g,this.fs)return this.Ds(t,n,f,g.size)})}).next(()=>u.result)}Ds(t,n,s,o){return s.documentReadCount<this.gs?(qa()<=xt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),K.resolve()):(qa()<=xt.DEBUG&&ot("QueryEngine","Query:",Ha(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(qa()<=xt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pi(n))):K.resolve())}ws(t,n){if(e0(n))return K.resolve(null);let s=pi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=xm(n,null,"F"),s=pi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Pt(...u);return this.ys.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.vs(n,g);return this.Cs(n,y,f,p.readTime)?this.ws(t,xm(n,null,"F")):this.Fs(t,y,n,p)}))})))}bs(t,n,s,o){return e0(n)||o.isEqual(St.min())?K.resolve(null):this.ys.getDocuments(t,s).next(u=>{const f=this.vs(n,u);return this.Cs(n,f,s,o)?K.resolve(null):(qa()<=xt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(n)),this.Fs(t,f,n,VR(o,Hl)).next(g=>g))})}vs(t,n){let s=new Oe(uT(t));return n.forEach((o,u)=>{Uh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return qa()<=xt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.ys.getDocumentsMatchingQuery(t,n,Fr.min(),s)}Fs(t,n,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="LocalStore",fC=3e8;class dC{constructor(t,n,s,o){this.persistence=t,this.Ms=n,this.serializer=o,this.xs=new oe(Ot),this.Os=new Qs(u=>og(u),lg),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eC(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.xs))}}function mC(r,t,n,s){return new dC(r,t,n,s)}async function VT(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],g=[];let p=Pt();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({ks:y,removedBatchIds:f,addedBatchIds:g}))})})}function gC(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const b=y.batch,C=b.keys();let P=K.resolve();return C.forEach(H=>{P=P.next(()=>T.getEntry(p,H)).next($=>{const Z=y.docVersions.get(H);Ft(Z!==null,48541),$.version.compareTo(Z)<0&&(b.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),T.addEntry($)))})}),P.next(()=>g.mutationQueue.removeMutationBatch(p,b))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Pt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function xT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Ti.getLastRemoteSnapshotVersion(n))}function pC(r,t){const n=bt(r),s=t.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const g=[];t.targetChanges.forEach((T,b)=>{const C=o.get(b);if(!C)return;g.push(n.Ti.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(u,T.addedDocuments,b)));let P=C.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?P=P.withResumeToken(Ye.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(b,P),function($,Z,ut){return $.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=fC?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0}(C,P,T)&&g.push(n.Ti.updateTargetData(u,P))});let p=nr(),y=Pt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(yC(u,f,t.documentUpdates).next(T=>{p=T.qs,y=T.Qs})),!s.isEqual(St.min())){const T=n.Ti.getLastRemoteSnapshotVersion(u).next(b=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));g.push(T)}return K.waitFor(g).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.xs=o,u))}function yC(r,t,n){let s=Pt(),o=Pt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=nr();return n.forEach((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):ot(yg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{qs:f,Qs:o}})}function _C(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=rg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function vC(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,t).next(u=>u?(o=u,K.resolve(o)):n.Ti.allocateTargetId(s).next(f=>(o=new zr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(t,s.targetId)),s})}async function zm(r,t,n){const s=bt(r),o=s.xs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!po(f))throw f;ot(yg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function m0(r,t,n){const s=bt(r);let o=St.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const b=bt(p),C=b.Os.get(T);return C!==void 0?K.resolve(b.xs.get(C)):b.Ti.getTargetData(y,T)}(s,f,pi(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(f,g.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Pt())).next(g=>(EC(s,aI(t),g),{documents:g,$s:u})))}function EC(r,t,n){let s=r.Ns.get(t)||St.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(t,s)}class g0{constructor(){this.activeTargetIds=fI()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TC{constructor(){this.xo=new g0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,n,s){this.Oo[t]=n}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new g0,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="ConnectivityMonitor";class y0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ot(p0,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){ot(p0,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function Bm(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bC{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,n,s,o,u){const f=Bm(),g=this.jo(t,n.toUriEncodedString());ot(cm,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:y}=new URL(g),T=Wl(y);return this.Jo(t,g,p,s,T).then(b=>(ot(cm,`Received RPC '${t}' ${f}: `,b),b),b=>{throw io(cm,`RPC '${t}' ${f} failed with error: `,b,"url: ",g,"request:",s),b})}Yo(t,n,s,o,u,f){return this.zo(t,n,s,o,u)}Ho(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}jo(t,n){const s=SC[t];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class RC extends bC{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Bm();return new Promise((g,p)=>{const y=new UE;y.setWithCredentials(!0),y.listenOnce(LE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Qc.NO_ERROR:const b=y.getResponseJson();ot(Je,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),g(b);break;case Qc.TIMEOUT:ot(Je,`RPC '${t}' ${f} timed out`),p(new yt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const C=y.getStatus();if(ot(Je,`RPC '${t}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P==null?void 0:P.error;if(H&&H.status&&H.message){const $=function(ut){const st=ut.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(st)>=0?st:J.UNKNOWN}(H.status);p(new yt($,H.message))}else p(new yt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new yt(J.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{h_:t,streamId:f,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{ot(Je,`RPC '${t}' ${f} completed.`)}});const T=JSON.stringify(o);ot(Je,`RPC '${t}' ${f} sending request:`,o),y.send(n,"POST",T,s,15)})}I_(t,n,s){const o=Bm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=jE(),g=BE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ot(Je,`Creating RPC '${t}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);this.E_(b);let C=!1,P=!1;const H=new wC({Zo:Z=>{P?ot(Je,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(C||(ot(Je,`Opening RPC '${t}' stream ${o} transport.`),b.open(),C=!0),ot(Je,`RPC '${t}' stream ${o} sending:`,Z),b.send(Z))},Xo:()=>b.close()}),$=(Z,ut,st)=>{Z.listen(ut,rt=>{try{st(rt)}catch(ht){setTimeout(()=>{throw ht},0)}})};return $(b,Ol.EventType.OPEN,()=>{P||(ot(Je,`RPC '${t}' stream ${o} transport opened.`),H.__())}),$(b,Ol.EventType.CLOSE,()=>{P||(P=!0,ot(Je,`RPC '${t}' stream ${o} transport closed`),H.u_(),this.d_(b))}),$(b,Ol.EventType.ERROR,Z=>{P||(P=!0,io(Je,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),H.u_(new yt(J.UNAVAILABLE,"The operation could not be completed")))}),$(b,Ol.EventType.MESSAGE,Z=>{var ut;if(!P){const st=Z.data[0];Ft(!!st,16349);const rt=st,ht=(rt==null?void 0:rt.error)||((ut=rt[0])===null||ut===void 0?void 0:ut.error);if(ht){ot(Je,`RPC '${t}' stream ${o} received error:`,ht);const lt=ht.status;let tt=function(I){const M=Ee[I];if(M!==void 0)return TT(M)}(lt),R=ht.message;tt===void 0&&(tt=J.INTERNAL,R="Unknown error status: "+lt+" with message "+ht.message),P=!0,H.u_(new yt(tt,R)),b.close()}else ot(Je,`RPC '${t}' stream ${o} received:`,st),H.c_(st)}}),$(g,zE.STAT_EVENT,Z=>{Z.stat===Cm.PROXY?ot(Je,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===Cm.NOPROXY&&ot(Je,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{H.a_()},0),H}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(n=>n===t)}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(r){return new OI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,n,s=1e3,o=1.5,u=6e4){this.xi=t,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="PersistentStream";class kT{constructor(t,n,s,o,u,f,g,p){this.xi=t,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new PT(t,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(n)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{t(()=>{const o=new yt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,n){const s=this.G_(this.v_);this.stream=this.H_(t,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return ot(_0,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return n=>{this.xi.enqueueAndForget(()=>this.v_===t?n():(ot(_0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IC extends kT{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}H_(t,n){return this.connection.I_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const n=VI(this.serializer,t),s=function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?yi(f.readTime):St.min()}(t);return this.listener.Y_(n,s)}Z_(t){const n={};n.database=Lm(this.serializer),n.addTarget=function(u,f){let g;const p=f.target;if(g=Vm(p)?{documents:kI(u,p)}:{query:UI(u,p).gt},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=bT(u,f.resumeToken);const y=Pm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(St.min())>0){g.readTime=mh(u,f.snapshotVersion.toTimestamp());const y=Pm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,t);const s=zI(this.serializer,t);s&&(n.labels=s),this.Q_(n)}X_(t){const n={};n.database=Lm(this.serializer),n.removeTarget=t,this.Q_(n)}}class CC extends kT{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,n){return this.connection.I_("Write",t,n)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const n=PI(t.writeResults,t.commitTime),s=yi(t.commitTime);return this.listener.ra(s,n)}ia(){const t={};t.database=Lm(this.serializer),this.Q_(t)}ta(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>xI(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{}class OC extends DC{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new yt(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.zo(t,km(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new yt(J.UNKNOWN,u.toString())})}Yo(t,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Yo(t,km(n,s),o,f,g,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new yt(J.UNKNOWN,f.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class NC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(er(n),this.ua=!1):ot("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class MC{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(f=>{s.enqueueAndForget(async()=>{Ks(this)&&(ot(Hs,"Restarting streams for network reachability change."),await async function(p){const y=bt(p);y.da.add(4),await ru(y),y.Va.set("Unknown"),y.da.delete(4),await qh(y)}(this))})}),this.Va=new NC(s,o)}}async function qh(r){if(Ks(r))for(const t of r.Aa)await t(!0)}async function ru(r){for(const t of r.Aa)await t(!1)}function UT(r,t){const n=bt(r);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Tg(n)?Eg(n):yo(n).N_()&&vg(n,t))}function _g(r,t){const n=bt(r),s=yo(n);n.Ea.delete(t),s.N_()&&LT(n,t),n.Ea.size===0&&(s.N_()?s.k_():Ks(n)&&n.Va.set("Unknown"))}function vg(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}yo(r).Z_(t)}function LT(r,t){r.ma.Ke(t),yo(r).X_(t)}function Eg(r){r.ma=new RI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),yo(r).start(),r.Va.ca()}function Tg(r){return Ks(r)&&!yo(r).O_()&&r.Ea.size>0}function Ks(r){return bt(r).da.size===0}function zT(r){r.ma=void 0}async function VC(r){r.Va.set("Online")}async function xC(r){r.Ea.forEach((t,n)=>{vg(r,t)})}async function PC(r,t){zT(r),Tg(r)?(r.Va.Pa(t),Eg(r)):r.Va.set("Unknown")}async function kC(r,t,n){if(r.Va.set("Online"),t instanceof ST&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ea.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ea.delete(g),o.ma.removeTarget(g))}(r,t)}catch(s){ot(Hs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await ph(r,s)}else if(t instanceof $c?r.ma.Xe(t):t instanceof AT?r.ma.ot(t):r.ma.nt(t),!n.isEqual(St.min()))try{const s=await xT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const g=u.ma.It(f);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ea.get(y);T&&u.Ea.set(y,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,y)=>{const T=u.Ea.get(p);if(!T)return;u.Ea.set(p,T.withResumeToken(Ye.EMPTY_BYTE_STRING,T.snapshotVersion)),LT(u,p);const b=new zr(T.target,p,y,T.sequenceNumber);vg(u,b)}),u.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){ot(Hs,"Failed to raise snapshot:",s),await ph(r,s)}}async function ph(r,t,n){if(!po(t))throw t;r.da.add(1),await ru(r),r.Va.set("Offline"),n||(n=()=>xT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Hs,"Retrying IndexedDB access"),await n(),r.da.delete(1),await qh(r)})}function BT(r,t){return t().catch(n=>ph(r,n,t))}async function Hh(r){const t=bt(r),n=Xr(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:rg;for(;UC(t);)try{const o=await _C(t.localStore,s);if(o===null){t.Ia.length===0&&n.k_();break}s=o.batchId,LC(t,o)}catch(o){await ph(t,o)}jT(t)&&qT(t)}function UC(r){return Ks(r)&&r.Ia.length<10}function LC(r,t){r.Ia.push(t);const n=Xr(r);n.N_()&&n.ea&&n.ta(t.mutations)}function jT(r){return Ks(r)&&!Xr(r).O_()&&r.Ia.length>0}function qT(r){Xr(r).start()}async function zC(r){Xr(r).ia()}async function BC(r){const t=Xr(r);for(const n of r.Ia)t.ta(n.mutations)}async function jC(r,t,n){const s=r.Ia.shift(),o=hg.from(s,t,n);await BT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Hh(r)}async function qC(r,t){t&&Xr(r).ea&&await async function(s,o){if(function(f){return bI(f)&&f!==J.ABORTED}(o.code)){const u=s.Ia.shift();Xr(s).L_(),await BT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Hh(s)}}(r,t),jT(r)&&qT(r)}async function v0(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),ot(Hs,"RemoteStore received new credentials");const s=Ks(n);n.da.add(3),await ru(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await qh(n)}async function HC(r,t){const n=bt(r);t?(n.da.delete(2),await qh(n)):t||(n.da.add(2),await ru(n),n.Va.set("Unknown"))}function yo(r){return r.fa||(r.fa=function(n,s,o){const u=bt(n);return u.oa(),new IC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:VC.bind(null,r),n_:xC.bind(null,r),i_:PC.bind(null,r),Y_:kC.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Tg(r)?Eg(r):r.Va.set("Unknown")):(await r.fa.stop(),zT(r))})),r.fa}function Xr(r){return r.ga||(r.ga=function(n,s,o){const u=bt(n);return u.oa(),new CC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:zC.bind(null,r),i_:qC.bind(null,r),na:BC.bind(null,r),ra:jC.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await Hh(r)):(await r.ga.stop(),r.Ia.length>0&&(ot(Hs,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,g=new Ag(t,n,f,o,u);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(r,t){if(er("AsyncQueue",`${t}: ${r}`),po(r))return new yt(J.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||_t.comparator(n.key,s.key):(n,s)=>_t.comparator(n.key,s.key),this.keyedMap=Nl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ya;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.pa=new oe(_t.comparator)}track(t){const n=t.doc.key,s=this.pa.get(n);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(n,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(n):t.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:t.doc}):Tt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(n,t)}wa(){const t=[];return this.pa.inorderTraversal((n,s)=>{t.push(s)}),t}}class lo{constructor(t,n,s,o,u,f,g,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new lo(t,n,Ya.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&kh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class FC{constructor(){this.queries=T0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=T0(),u.forEach((f,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new yt(J.ABORTED,"Firestore shutting down"))}}function T0(){return new Qs(r=>lT(r),kh)}async function QC(r,t){const n=bt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Da()&&t.va()&&(s=2):(u=new GC,s=t.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=Sg(f,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(g)}n.queries.set(o,u),u.Sa.push(t),t.Fa(n.onlineState),u.ba&&t.Ma(u.ba)&&bg(n)}async function YC(r,t){const n=bt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.va()?0:1:!u.Da()&&t.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function KC(r,t){const n=bt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Ma(o)&&(s=!0);f.ba=o}}s&&bg(n)}function XC(r,t,n){const s=bt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function bg(r){r.Ca.forEach(t=>{t.next()})}var jm,A0;(A0=jm||(jm={})).xa="default",A0.Cache="cache";class $C{constructor(t,n,s){this.query=t,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new lo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Na?this.La(t)&&(this.Oa.next(t),n=!0):this.ka(t,this.onlineState)&&(this.qa(t),n=!0),this.Ba=t,n}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),n=!0),n}ka(t,n){if(!t.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}La(t){if(t.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(t){this.key=t}}class GT{constructor(t){this.key=t}}class ZC{constructor(t,n){this.query=t,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.Za=uT(t),this.Xa=new Ya(this.Za)}get eu(){return this.Ha}tu(t,n){const s=n?n.nu:new E0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,b)=>{const C=o.get(T),P=Uh(this.query,b)?b:null,H=!!C&&this.mutatedKeys.has(C.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Z=!1;C&&P?C.data.isEqual(P.data)?H!==$&&(s.track({type:3,doc:P}),Z=!0):this.ru(C,P)||(s.track({type:2,doc:P}),Z=!0,(p&&this.Za(P,p)>0||y&&this.Za(P,y)<0)&&(g=!0)):!C&&P?(s.track({type:0,doc:P}),Z=!0):C&&!P&&(s.track({type:1,doc:C}),Z=!0,(p||y)&&(g=!0)),Z&&(P?(f=f.add(P),u=$?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{Xa:f,nu:s,Cs:g,mutatedKeys:u}}ru(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const f=t.nu.wa();f.sort((T,b)=>function(P,H){const $=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:Z})}};return $(P)-$(H)}(T.type,b.type)||this.Za(T.doc,b.doc)),this.iu(s),o=o!=null&&o;const g=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Ja;return this.Ja=p,f.length!==0||y?{snapshot:new lo(this.query,t.Xa,u,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:g}:{ou:g}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new E0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return t.forEach(s=>{this.Ya.has(s)||n.push(new GT(s))}),this.Ya.forEach(s=>{t.has(s)||n.push(new HT(s))}),n}au(t){this.Ha=t.$s,this.Ya=Pt();const n=this.tu(t.documents);return this.applyChanges(n,!0)}uu(){return lo.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const wg="SyncEngine";class JC{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class WC{constructor(t){this.key=t,this.cu=!1}}class tD{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.lu={},this.hu=new Qs(g=>lT(g),kh),this.Pu=new Map,this.Tu=new Set,this.Iu=new oe(_t.comparator),this.Eu=new Map,this.du=new mg,this.Au={},this.Ru=new Map,this.Vu=oo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function eD(r,t,n=!0){const s=$T(r);let o;const u=s.hu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await FT(s,t,n,!0),o}async function nD(r,t){const n=$T(r);await FT(n,t,!0,!1)}async function FT(r,t,n,s){const o=await vC(r.localStore,pi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await iD(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&UT(r.remoteStore,o),g}async function iD(r,t,n,s,o){r.fu=(b,C,P)=>async function($,Z,ut,st){let rt=Z.view.tu(ut);rt.Cs&&(rt=await m0($.localStore,Z.query,!1).then(({documents:R})=>Z.view.tu(R,rt)));const ht=st&&st.targetChanges.get(Z.targetId),lt=st&&st.targetMismatches.get(Z.targetId)!=null,tt=Z.view.applyChanges(rt,$.isPrimaryClient,ht,lt);return b0($,Z.targetId,tt.ou),tt.snapshot}(r,b,C,P);const u=await m0(r.localStore,t,!0),f=new ZC(t,u.$s),g=f.tu(u.documents),p=iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(g,r.isPrimaryClient,p);b0(r,n,y.ou);const T=new JC(t,n,f);return r.hu.set(t,T),r.Pu.has(n)?r.Pu.get(n).push(t):r.Pu.set(n,[t]),y.snapshot}async function rD(r,t,n){const s=bt(r),o=s.hu.get(t),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(f=>!kh(f,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&_g(s.remoteStore,o.targetId),qm(s,o.targetId)}).catch(go)):(qm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function sD(r,t){const n=bt(r),s=n.hu.get(t),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),_g(n.remoteStore,s.targetId))}async function aD(r,t,n){const s=dD(r);try{const o=await function(f,g){const p=bt(f),y=De.now(),T=g.reduce((P,H)=>P.add(H.key),Pt());let b,C;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let H=nr(),$=Pt();return p.Bs.getEntries(P,T).next(Z=>{H=Z,H.forEach((ut,st)=>{st.isValidDocument()||($=$.add(ut))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,H)).next(Z=>{b=Z;const ut=[];for(const st of g){const rt=vI(st,b.get(st.key).overlayedDocument);rt!=null&&ut.push(new Ys(st.key,rt,eT(rt.value.mapValue),Wi.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,ut,g)}).next(Z=>{C=Z;const ut=Z.applyToLocalDocumentSet(b,$);return p.documentOverlayCache.saveOverlays(P,Z.batchId,ut)})}).then(()=>({batchId:C.batchId,changes:hT(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,g,p){let y=f.Au[f.currentUser.toKey()];y||(y=new oe(Ot)),y=y.insert(g,p),f.Au[f.currentUser.toKey()]=y}(s,o.batchId,n),await su(s,o.changes),await Hh(s.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");n.reject(u)}}async function QT(r,t){const n=bt(r);try{const s=await pC(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.cu=!0:o.modifiedDocuments.size>0?Ft(f.cu,14607):o.removedDocuments.size>0&&(Ft(f.cu,42227),f.cu=!1))}),await su(n,s,t)}catch(s){await go(s)}}function S0(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,f)=>{const g=f.view.Fa(t);g.snapshot&&o.push(g.snapshot)}),function(f,g){const p=bt(f);p.onlineState=g;let y=!1;p.queries.forEach((T,b)=>{for(const C of b.Sa)C.Fa(g)&&(y=!0)}),y&&bg(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function oD(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new oe(_t.comparator);f=f.insert(u,tn.newNoDocument(u,St.min()));const g=Pt().add(u),p=new Bh(St.min(),new Map,new oe(Ot),f,g);await QT(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(t),Rg(s)}else await zm(s.localStore,t,!1).then(()=>qm(s,t,n)).catch(go)}async function lD(r,t){const n=bt(r),s=t.batch.batchId;try{const o=await gC(n.localStore,t);KT(n,s,null),YT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await su(n,o)}catch(o){await go(o)}}async function uD(r,t,n){const s=bt(r);try{const o=await function(f,g){const p=bt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(b=>(Ft(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,t);KT(s,t,n),YT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await su(s,o)}catch(o){await go(o)}}function YT(r,t){(r.Ru.get(t)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(t)}function KT(r,t,n){const s=bt(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function qm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||XT(r,s)})}function XT(r,t){r.Tu.delete(t.path.canonicalString());const n=r.Iu.get(t);n!==null&&(_g(r.remoteStore,n),r.Iu=r.Iu.remove(t),r.Eu.delete(n),Rg(r))}function b0(r,t,n){for(const s of n)s instanceof HT?(r.du.addReference(s.key,t),cD(r,s)):s instanceof GT?(ot(wg,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||XT(r,s.key)):Tt(19791,{pu:s})}function cD(r,t){const n=t.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(ot(wg,"New document in limbo: "+n),r.Tu.add(s),Rg(r))}function Rg(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const n=new _t(he.fromString(t)),s=r.Vu.next();r.Eu.set(s,new WC(n)),r.Iu=r.Iu.insert(n,s),UT(r.remoteStore,new zr(pi(ug(n.path)),s,"TargetPurposeLimboResolution",Mh.le))}}async function su(r,t,n){const s=bt(r),o=[],u=[],f=[];s.hu.isEmpty()||(s.hu.forEach((g,p)=>{f.push(s.fu(p,t,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=pg.Rs(p.targetId,y);u.push(b)}}))}),await Promise.all(f),s.lu.Y_(o),await async function(p,y){const T=bt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>K.forEach(y,C=>K.forEach(C.ds,P=>T.persistence.referenceDelegate.addReference(b,C.targetId,P)).next(()=>K.forEach(C.As,P=>T.persistence.referenceDelegate.removeReference(b,C.targetId,P)))))}catch(b){if(!po(b))throw b;ot(yg,"Failed to update sequence numbers: "+b)}for(const b of y){const C=b.targetId;if(!b.fromCache){const P=T.xs.get(C),H=P.snapshotVersion,$=P.withLastLimboFreeSnapshotVersion(H);T.xs=T.xs.insert(C,$)}}}(s.localStore,u))}async function hD(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){ot(wg,"User change. New user:",t.toKey());const s=await VT(n.localStore,t);n.currentUser=t,function(u,f){u.Ru.forEach(g=>{g.forEach(p=>{p.reject(new yt(J.CANCELLED,f))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await su(n,s.ks)}}function fD(r,t){const n=bt(r),s=n.Eu.get(t);if(s&&s.cu)return Pt().add(s.key);{let o=Pt();const u=n.Pu.get(t);if(!u)return o;for(const f of u){const g=n.hu.get(f);o=o.unionWith(g.view.eu)}return o}}function $T(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=QT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oD.bind(null,t),t.lu.Y_=KC.bind(null,t.eventManager),t.lu.gu=XC.bind(null,t.eventManager),t}function dD(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uD.bind(null,t),t}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=jh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,n){return null}Cu(t,n){return null}Du(t){return mC(this.persistence,new hC,t.initialUser,this.serializer)}Su(t){return new MT(gg.fi,this.serializer)}bu(t){return new TC}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class mD extends yh{constructor(t){super(),this.cacheSizeBytes=t}vu(t,n){Ft(this.persistence.referenceDelegate instanceof gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $I(s,t.asyncQueue,n)}Su(t){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new MT(s=>gh.fi(s,n),this.serializer)}}class Hm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>S0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine),await HC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new FC}()}createDatastore(t){const n=jh(t.databaseInfo.databaseId),s=function(u){return new RC(u)}(t.databaseInfo);return function(u,f,g,p){return new OC(u,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,g){return new MC(s,o,u,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>S0(this.syncEngine,n,0),function(){return y0.C()?new y0:new AC}())}createSyncEngine(t,n){return function(o,u,f,g,p,y,T){const b=new tD(o,u,f,g,p,y);return T&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=bt(o);ot(Hs,"RemoteStore shutting down."),u.da.add(5),await ru(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class pD{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=FE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ot($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ot($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Sg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function fm(r,t){r.asyncQueue.verifyOperationInProgress(),ot($r,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await VT(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function w0(r,t){r.asyncQueue.verifyOperationInProgress();const n=await yD(r);ot($r,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>v0(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>v0(t.remoteStore,o)),r._onlineComponents=t}async function yD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot($r,"Using user provided OfflineComponentProvider");try{await fm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;io("Error using user provided cache. Falling back to memory cache: "+n),await fm(r,new yh)}}else ot($r,"Using default OfflineComponentProvider"),await fm(r,new mD(void 0));return r._offlineComponents}async function ZT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot($r,"Using user provided OnlineComponentProvider"),await w0(r,r._uninitializedComponentsProvider._online)):(ot($r,"Using default OnlineComponentProvider"),await w0(r,new Hm))),r._onlineComponents}function _D(r){return ZT(r).then(t=>t.syncEngine)}async function vD(r){const t=await ZT(r),n=t.eventManager;return n.onListen=eD.bind(null,t.syncEngine),n.onUnlisten=rD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=nD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=sD.bind(null,t.syncEngine),n}function ED(r,t,n={}){const s=new Gr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,g,p,y){const T=new gD({next:C=>{T.xu(),f.enqueueAndForget(()=>YC(u,b));const P=C.docs.has(g);!P&&C.fromCache?y.reject(new yt(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&C.fromCache&&p&&p.source==="server"?y.reject(new yt(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new $C(ug(g.path),T,{includeMetadataChanges:!0,Qa:!0});return QC(u,b)}(await vD(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(r,t,n){if(!n)throw new yt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function AD(r,t,n,s){if(t===!0&&s===!0)throw new yt(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function I0(r){if(!_t.isDocumentKey(r))throw new yt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ig(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function Xl(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new yt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ig(r);throw new yt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="firestore.googleapis.com",C0=!0;class D0{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new yt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WT,this.ssl=C0}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:C0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=NT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<KI)throw new yt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new yt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new yt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new yt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cg{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new yt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new bR;switch(s.type){case"firstParty":return new CR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new yt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=R0.get(n);s&&(ot("ComponentProvider","Removing Datastore"),R0.delete(n),s.terminate())}(this),Promise.resolve()}}function SD(r,t,n,s={}){var o;r=Xl(r,Cg);const u=Wl(t),f=r._getSettings(),g=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${n}`;u&&(CE(`https://${p}`),DE("Firestore",!0)),f.host!==WT&&f.host!==p&&io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:p,ssl:u,emulatorOptions:s});if(!Bs(y,g)&&(r._setSettings(y),s.mockUserToken)){let T,b;if(typeof s.mockUserToken=="string")T=s.mockUserToken,b=We.MOCK_USER;else{T=Xb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new yt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new We(C)}r._authCredentials=new wR(new HE(T,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Dg(this.firestore,t,this._query)}}class zn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new zn(this.firestore,t,this._key)}}class $l extends Dg{constructor(t,n,s){super(t,n,ug(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new zn(this.firestore,null,new _t(t))}withConverter(t){return new $l(this.firestore,t,this._path)}}function O0(r,t,...n){if(r=vi(r),arguments.length===1&&(t=FE.newId()),TD("doc","path",t),r instanceof Cg){const s=he.fromString(t,...n);return I0(s),new zn(r,null,new _t(s))}{if(!(r instanceof zn||r instanceof $l))throw new yt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(he.fromString(t,...n));return I0(s),new zn(r.firestore,r instanceof $l?r.converter:null,new _t(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="AsyncQueue";class M0{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new PT(this,"async_queue_retry"),this.rc=()=>{const s=hm();s&&ot(N0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Gr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!po(t))throw t;ot(N0,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const n=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,er("INTERNAL UNHANDLED ERROR: ",V0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(t,n,s){this.oc(),this.nc.indexOf(t)>-1&&(n=0);const o=Ag.createAndSchedule(this,t,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Tt(47125,{cc:V0(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const n of this.Zu)if(n.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const n=this.Zu.indexOf(t);this.Zu.splice(n,1)}}function V0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Og extends Cg{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new M0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new M0(t),this._firestoreClient=void 0,await t}}}function bD(r,t){const n=typeof r=="object"?r:VE(),s=typeof r=="string"?r:lh,o=ng(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Yb("firestore");u&&SD(o,...u)}return o}function t1(r){if(r._terminated)throw new yt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wD(r),r._firestoreClient}function wD(r){var t,n,s;const o=r._freezeSettings(),u=function(g,p,y,T){return new HR(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,JT(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new pD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new uo(Ye.fromBase64String(t))}catch(n){throw new yt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new uo(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new yt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new yt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new yt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=/^__.*__$/;class ID{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ys(t,this.data,this.fieldMask,n,this.fieldTransforms):new nu(t,this.data,n,this.fieldTransforms)}}function n1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ic:r})}}class xg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new xg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return _h(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(n1(this.Ic)&&RD.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class CD{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||jh(t)}bc(t,n,s,o=!1){return new xg({Ic:t,methodName:n,wc:s,path:Qe.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DD(r){const t=r._freezeSettings(),n=jh(r._databaseId);return new CD(r._databaseId,!!t.ignoreUndefinedProperties,n)}function OD(r,t,n,s,o,u={}){const f=r.bc(u.merge||u.mergeFields?2:0,t,n,o);a1("Data must be an object, but it was:",f,s);const g=r1(s,f);let p,y;if(u.merge)p=new Kn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const C=ND(t,b,n);if(!f.contains(C))throw new yt(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);VD(T,C)||T.push(C)}p=new Kn(T),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new ID(new Ln(g),p,y)}function i1(r,t){if(s1(r=vi(r)))return a1("Unsupported field value:",t,r),r1(r,t);if(r instanceof e1)return function(s,o){if(!n1(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const g of s){let p=i1(g,o.fc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=vi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=De.fromDate(s);return{timestampValue:mh(o.serializer,u)}}if(s instanceof De){const u=new De(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mh(o.serializer,u)}}if(s instanceof Mg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof uo)return{bytesValue:bT(o.serializer,s._byteString)};if(s instanceof zn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.gc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vg)return function(f,g){return{mapValue:{fields:{[WE]:{stringValue:tT},[uh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw g.gc("VectorValues must only contain numeric values.");return cg(g.serializer,y)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${Ig(s)}`)}(r,t)}function r1(r,t){const n={};return YE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fs(r,(s,o)=>{const u=i1(o,t.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function s1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof De||r instanceof Mg||r instanceof uo||r instanceof zn||r instanceof e1||r instanceof Vg)}function a1(r,t,n){if(!s1(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Ig(n);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function ND(r,t,n){if((t=vi(t))instanceof Ng)return t._internalPath;if(typeof t=="string")return o1(r,t);throw _h("Field path arguments must be of type string or ",r,!1,void 0,n)}const MD=new RegExp("[~\\*/\\[\\]]");function o1(r,t,n){if(t.search(MD)>=0)throw _h(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ng(...t.split("."))._internalPath}catch{throw _h(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function _h(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new yt(J.INVALID_ARGUMENT,g+r+p)}function VD(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new xD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(u1("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xD extends l1{data(){return super.data()}}function u1(r,t){return typeof t=="string"?o1(r,t):t instanceof Ng?t._internalPath:t._delegate._internalPath}class PD{convertValue(t,n="none"){switch(Kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Fs(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[uh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ge(f.doubleValue));return new Vg(u)}convertGeoPoint(t){return new Mg(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=xh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Gl(t));default:return null}}convertTimestamp(t){const n=Qr(t);return new De(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=he.fromString(t);Ft(OT(s),9688,{name:t});const o=new Fl(s.get(1),s.get(3)),u=new _t(s.popFirst(5));return o.isEqual(n)||er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class c1 extends l1{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new LD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(u1("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class LD extends c1{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(r){r=Xl(r,zn);const t=Xl(r.firestore,Og);return ED(t1(t),r._key).then(n=>HD(t,r,n))}class BD extends PD{constructor(t){super(),this.firestore=t}convertBytes(t){return new uo(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function jD(r,t,n){r=Xl(r,zn);const s=Xl(r.firestore,Og),o=kD(r.converter,t);return qD(s,[OD(DD(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Wi.none())])}function qD(r,t){return function(s,o){const u=new Gr;return s.asyncQueue.enqueueAndForget(async()=>aD(await _D(s),o,u)),u.promise}(t1(r),t)}function HD(r,t,n){const s=n.docs.get(t._key),o=new BD(r);return new c1(r,o,t._key,s,new UD(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){mo=o})(fo),no(new js("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Og(new RR(s.getProvider("auth-internal")),new DR(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new yt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),qr(Lv,zv,t),qr(Lv,zv,"esm2017")})();function h1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GD=h1,f1=new tu("auth","Firebase",h1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new tg("@firebase/auth");function FD(r,...t){vh.logLevel<=xt.WARN&&vh.warn(`Auth (${fo}): ${r}`,...t)}function Zc(r,...t){vh.logLevel<=xt.ERROR&&vh.error(`Auth (${fo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(r,...t){throw kg(r,...t)}function Zn(r,...t){return kg(r,...t)}function Pg(r,t,n){const s=Object.assign(Object.assign({},GD()),{[t]:n});return new tu("auth","Firebase",s).create(t,{appName:r.name})}function zs(r){return Pg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QD(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ai(r,"argument-error"),Pg(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return f1.create(r,...t)}function At(r,t,...n){if(!r)throw kg(t,...n)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Zc(t),new Error(t)}function ir(r,t){r||Zi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function YD(){return x0()==="http:"||x0()==="https:"}function x0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YD()||ew()||"connection"in navigator)?navigator.onLine:!0}function XD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,n){this.shortDelay=t,this.longDelay=n,ir(n>t,"Short delay should be less than long delay!"),this.isMobile=Jb()||nw()}get(){return KD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(r,t){ir(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JD=new au(3e4,6e4);function Lg(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function _o(r,t,n,s,o={}){return m1(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const g=eu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},u);return tw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Wl(r.emulatorConfig.host)&&(y.credentials="include"),d1.fetch()(await g1(r,r.config.apiHost,n,g),y)})}async function m1(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},$D),t);try{const o=new t2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Pg(r,T,y);Ai(r,T)}}catch(o){if(o instanceof rr)throw o;Ai(r,"network-request-failed",{message:String(o)})}}async function WD(r,t,n,s,o={}){const u=await _o(r,t,n,s,o);return"mfaPendingCredential"in u&&Ai(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function g1(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?Ug(r.config,o):`${r.config.apiScheme}://${o}`;return ZD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class t2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Zn(this.auth,"network-request-failed")),JD.get())})}}function Bc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Zn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(r,t){return _o(r,"POST","/v1/accounts:delete",t)}async function Eh(r,t){return _o(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function n2(r,t=!1){const n=vi(r),s=await n.getIdToken(t),o=zg(s);At(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:zl(dm(o.auth_time)),issuedAtTime:zl(dm(o.iat)),expirationTime:zl(dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function dm(r){return Number(r)*1e3}function zg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=bE(n);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function P0(r){const t=zg(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof rr&&i2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function i2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(r){var t;const n=r.auth,s=await r.getIdToken(),o=await Zl(r,Eh(n,{idToken:s}));At(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?p1(u.providerUserInfo):[],g=a2(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(g!=null&&g.length),T=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new Fm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function s2(r){const t=vi(r);await Th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function a2(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function p1(r){return r.map(t=>{var{providerId:n}=t,s=Km(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(r,t){const n=await m1(r,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await g1(r,o,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",d1.fetch()(f,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l2(r,t){return _o(r,"POST","/v2/accounts:revokeToken",Lg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):P0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){At(t.length!==0,"internal-error");const n=P0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await o2(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ka;return s&&(At(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(At(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(At(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Xn{constructor(t){var{uid:n,auth:s,stsTokenManager:o}=t,u=Km(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Fm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const n=await Zl(this,this.stsTokenManager.getToken(this.auth,t));return At(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return n2(this,t)}reload(){return s2(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Xn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(zs(this.auth));const t=await this.getIdToken();return await Zl(this,e2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,o,u,f,g,p,y,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,H=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,ut=(y=n.createdAt)!==null&&y!==void 0?y:void 0,st=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:rt,emailVerified:ht,isAnonymous:lt,providerData:tt,stsTokenManager:R}=n;At(rt&&R,t,"internal-error");const S=Ka.fromJSON(this.name,R);At(typeof rt=="string",t,"internal-error"),xr(b,t.name),xr(C,t.name),At(typeof ht=="boolean",t,"internal-error"),At(typeof lt=="boolean",t,"internal-error"),xr(P,t.name),xr(H,t.name),xr($,t.name),xr(Z,t.name),xr(ut,t.name),xr(st,t.name);const I=new Xn({uid:rt,auth:t,email:C,emailVerified:ht,displayName:b,isAnonymous:lt,photoURL:H,phoneNumber:P,tenantId:$,stsTokenManager:S,createdAt:ut,lastLoginAt:st});return tt&&Array.isArray(tt)&&(I.providerData=tt.map(M=>Object.assign({},M))),Z&&(I._redirectEventId=Z),I}static async _fromIdTokenResponse(t,n,s=!1){const o=new Ka;o.updateFromServerResponse(n);const u=new Xn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Th(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];At(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?p1(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new Ka;g.updateFromIdToken(s);const p=new Xn({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;function Ji(r){ir(r instanceof Function,"Expected a class definition");let t=k0.get(r);return t?(ir(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,k0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}y1.type="NONE";const U0=y1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r,t,n){return`firebase:${r}:${t}:${n}`}class Xa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Eh(this.auth,{idToken:t}).catch(()=>{});return n?Xn._fromGetAccountInfoResponse(this.auth,n,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Xa(Ji(U0),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ji(U0);const f=Jc(s,t.config.apiKey,t.name);let g=null;for(const y of n)try{const T=await y._get(f);if(T){let b;if(typeof T=="string"){const C=await Eh(t,{idToken:T}).catch(()=>{});if(!C)break;b=await Xn._fromGetAccountInfoResponse(t,C,T)}else b=Xn._fromJSON(t,T);y!==u&&(g=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Xa(u,t,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Xa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(T1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(S1(t))return"Blackberry";if(b1(t))return"Webos";if(v1(t))return"Safari";if((t.includes("chrome/")||E1(t))&&!t.includes("edge/"))return"Chrome";if(A1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function _1(r=en()){return/firefox\//i.test(r)}function v1(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function E1(r=en()){return/crios\//i.test(r)}function T1(r=en()){return/iemobile/i.test(r)}function A1(r=en()){return/android/i.test(r)}function S1(r=en()){return/blackberry/i.test(r)}function b1(r=en()){return/webos/i.test(r)}function Bg(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function u2(r=en()){var t;return Bg(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function c2(){return iw()&&document.documentMode===10}function w1(r=en()){return Bg(r)||A1(r)||b1(r)||S1(r)||/windows phone/i.test(r)||T1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(r,t=[]){let n;switch(r){case"Browser":n=L0(en());break;case"Worker":n=`${L0(en())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,g)=>{try{const p=t(u);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(r,t={}){return _o(r,"GET","/v2/passwordPolicy",Lg(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=6;class m2{constructor(t){var n,s,o,u;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:d2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,o,u,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z0(this),this.idTokenSubscription=new z0(this),this.beforeStateQueue=new h2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Eh(this,{idToken:t}),s=await Xn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(Yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Th(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=XD()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Yn(this.app))return Promise.reject(zs(this));const n=t?vi(t):null;return n&&At(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Yn(this.app)?Promise.reject(zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await f2(this),n=new m2(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new tu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await l2(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ji(t)||this._popupRedirectResolver;At(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=R1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var t;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&FD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gh(r){return vi(r)}class z0{constructor(t){this.auth=t,this.observer=null,this.addObserver=hw(n=>this.observer=n)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p2(r){jg=r}function y2(r){return jg.loadJS(r)}function _2(){return jg.gapiScript}function v2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(r,t){const n=ng(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Bs(u,t??{}))return o;Ai(o,"already-initialized")}return n.initialize({options:t})}function T2(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ji);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function A2(r,t,n){const s=Gh(r);At(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=I1(t),{host:f,port:g}=S2(t),p=g===null?"":`:${g}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){At(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),At(Bs(y,s.config.emulator)&&Bs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Wl(f)?(CE(`${u}//${f}${p}`),DE("Auth",!0)):b2()}function I1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function S2(r){const t=I1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:B0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:B0(f)}}}function B0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function b2(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,n){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,t){return WD(r,"POST","/v1/accounts:signInWithIdp",Lg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="http://localhost";class Gs extends C1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o}=n,u=Km(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Gs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return $a(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,$a(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$a(t,n)}buildRequest(){const t={requestUri:w2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=eu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends qg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends ou{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Gs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return $i.credential(n,s)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends ou{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ur.credentialFromTaggedObject(t)}static credentialFromError(t){return Ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ur.credential(t.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends ou{constructor(){super("twitter.com")}static credential(t,n){return Gs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.TWITTER_SIGN_IN_METHOD="twitter.com";Lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Xn._fromIdTokenResponse(t,s,o),f=j0(s);return new co({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=j0(s);return new co({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function j0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends rr{constructor(t,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Ah(t,n,s,o)}}function D1(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,u,t,s):u})}async function R2(r,t,n=!1){const s=await Zl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return co._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(r,t,n=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(zs(s));const o="reauthenticate";try{const u=await Zl(r,D1(s,o,t,r),n);At(u.idToken,s,"internal-error");const f=zg(u.idToken);At(f,s,"internal-error");const{sub:g}=f;return At(r.uid===g,s,"user-mismatch"),co._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ai(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(r,t,n=!1){if(Yn(r.app))return Promise.reject(zs(r));const s="signIn",o=await D1(r,s,t),u=await co._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function D2(r,t,n,s){return vi(r).onIdTokenChanged(t,n,s)}function O2(r,t,n){return vi(r).beforeAuthStateChanged(t,n)}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=1e3,M2=10;class N1 extends O1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);c2()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,M2):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},N2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}N1.type="LOCAL";const V2=N1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends O1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}M1.type="SESSION";const V1=M1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Fh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async y=>y(n.origin,u)),p=await x2(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const y=Hg("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(C.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function k2(r){_i().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function U2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function z2(){return x1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firebaseLocalStorageDb",B2=1,bh="firebaseLocalStorage",k1="fbase_key";class lu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(r,t){return r.transaction([bh],t?"readwrite":"readonly").objectStore(bh)}function j2(){const r=indexedDB.deleteDatabase(P1);return new lu(r).toPromise()}function Qm(){const r=indexedDB.open(P1,B2);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(bh,{keyPath:k1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(bh)?t(s):(s.close(),await j2(),t(await Qm()))})})}async function q0(r,t,n){const s=Qh(r,!0).put({[k1]:t,value:n});return new lu(s).toPromise()}async function q2(r,t){const n=Qh(r,!1).get(t),s=await new lu(n).toPromise();return s===void 0?null:s.value}function H0(r,t){const n=Qh(r,!0).delete(t);return new lu(n).toPromise()}const H2=800,G2=3;class U1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>G2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(z2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await U2(),!this.activeServiceWorker)return;this.sender=new P2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||L2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qm();return await q0(t,Sh,"1"),await H0(t,Sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>q0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>q2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>H0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Qh(o,!1).getAll();return new lu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}U1.type="LOCAL";const F2=U1;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(r,t){return t?Ji(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg extends C1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Q2(r){return C2(r.auth,new Gg(r),r.bypassAuthState)}function Y2(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),I2(n,new Gg(r),r.bypassAuthState)}async function K2(r){const{auth:t,user:n}=r;return At(n,t,"internal-error"),R2(n,new Gg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Q2;case"linkViaPopup":case"linkViaRedirect":return K2;case"reauthViaPopup":case"reauthViaRedirect":return Y2;default:Ai(this.auth,"internal-error")}}resolve(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=new au(2e3,1e4);async function $2(r,t,n){if(Yn(r.app))return Promise.reject(Zn(r,"operation-not-supported-in-this-environment"));const s=Gh(r);QD(r,t,qg);const o=L1(s,n);return new ks(s,"signInViaPopup",t,o).executeNotNull()}class ks extends z1{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const t=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,X2.get())};t()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="pendingRedirect",Wc=new Map;class J2 extends z1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Wc.get(this.auth._key());if(!t){try{const s=await W2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Wc.set(this.auth._key(),t)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W2(r,t){const n=nO(t),s=eO(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function tO(r,t){Wc.set(r._key(),t)}function eO(r){return Ji(r._redirectPersistence)}function nO(r){return Jc(Z2,r.config.apiKey,r.name)}async function iO(r,t,n=!1){if(Yn(r.app))return Promise.reject(zs(r));const s=Gh(r),o=L1(s,t),f=await new J2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=10*60*1e3;class sO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!B1(t)){const o=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rO&&this.cachedEventUids.clear(),this.cachedEventUids.has(G0(t))}saveEventToCache(t){this.cachedEventUids.add(G0(t)),this.lastProcessedEventTime=Date.now()}}function G0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function B1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function aO(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(r,t={}){return _o(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uO=/^https?/;async function cO(r){if(r.config.emulator)return;const{authorizedDomains:t}=await oO(r);for(const n of t)try{if(hO(n))return}catch{}Ai(r,"unauthorized-domain")}function hO(r){const t=Gm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!uO.test(n))return!1;if(lO.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new au(3e4,6e4);function F0(){const r=_i().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function dO(r){return new Promise((t,n)=>{var s,o,u;function f(){F0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{F0(),n(Zn(r,"network-request-failed"))},timeout:fO.get()})}if(!((o=(s=_i().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=_i().gapi)===null||u===void 0)&&u.load)f();else{const g=v2("iframefcb");return _i()[g]=()=>{gapi.load?f():n(Zn(r,"network-request-failed"))},y2(`${_2()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw th=null,t})}let th=null;function mO(r){return th=th||dO(r),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new au(5e3,15e3),pO="__/auth/iframe",yO="emulator/auth/iframe",_O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EO(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Ug(t,yO):`https://${r.config.authDomain}/${pO}`,s={apiKey:t.apiKey,appName:r.name,v:fo},o=vO.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${eu(s).slice(1)}`}async function TO(r){const t=await mO(r),n=_i().gapi;return At(n,r,"internal-error"),t.open({where:document.body,url:EO(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_O,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Zn(r,"network-request-failed"),g=_i().setTimeout(()=>{u(f)},gO.get());function p(){_i().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SO=500,bO=600,wO="_blank",RO="http://localhost";class Q0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IO(r,t,n,s=SO,o=bO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},AO),{width:s.toString(),height:o.toString(),top:u,left:f}),y=en().toLowerCase();n&&(g=E1(y)?wO:n),_1(y)&&(t=t||RO,p.scrollbars="yes");const T=Object.entries(p).reduce((C,[P,H])=>`${C}${P}=${H},`,"");if(u2(y)&&g!=="_self")return CO(t||"",g),new Q0(null);const b=window.open(t||"",g,T);At(b,r,"popup-blocked");try{b.focus()}catch{}return new Q0(b)}function CO(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="__/auth/handler",OO="emulator/auth/handler",NO=encodeURIComponent("fac");async function Y0(r,t,n,s,o,u){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:fo,eventId:o};if(t instanceof qg){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",cw(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(t instanceof ou){const T=t.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),y=p?`#${NO}=${encodeURIComponent(p)}`:"";return`${MO(r)}?${eu(g).slice(1)}${y}`}function MO({config:r}){return r.emulator?Ug(r,OO):`https://${r.authDomain}/${DO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class VO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V1,this._completeRedirectFn=iO,this._overrideRedirectResult=tO}async _openPopup(t,n,s,o){var u;ir((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Y0(t,n,s,Gm(),o);return IO(t,f,Hg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Y0(t,n,s,Gm(),o);return k2(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await TO(t),s=new sO(t);return n.register("authEvent",o=>(At(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(mm,{type:mm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[mm];f!==void 0&&n(!!f),Ai(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return w1()||v1()||Bg()}}const xO=VO;var K0="@firebase/auth",X0="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UO(r){no(new js("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;At(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R1(r)},y=new g2(s,o,u,p);return T2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),no(new js("auth-internal",t=>{const n=Gh(t.getProvider("auth").getImmediate());return(s=>new PO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(K0,X0,kO(r)),qr(K0,X0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=5*60,zO=IE("authIdTokenMaxAge")||LO;let $0=null;const BO=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zO)return;const o=n==null?void 0:n.token;$0!==o&&($0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jO(r=VE()){const t=ng(r,"auth");if(t.isInitialized())return t.getImmediate();const n=E2(r,{popupRedirectResolver:xO,persistence:[F2,V2,V1]}),s=IE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=BO(u.toString());O2(n,f,()=>f(n.currentUser)),D2(n,g=>f(g))}}const o=wE("auth");return o&&A2(n,`http://${o}`),n}function qO(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}p2({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Zn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UO("Browser");const HO={apiKey:"AIzaSyAiySieD1W_l4E8OzGHfQBvmfV1vrQZimE",authDomain:"waktaverse-stock-simulation.firebaseapp.com",projectId:"waktaverse-stock-simulation",storageBucket:"waktaverse-stock-simulation.firebasestorage.app",messagingSenderId:"802031287665",appId:"1:802031287665:web:0e3ee9def98f95f5288ad0",measurementId:"G-8CF490XBNP"},j1=ME(HO),Z0=bD(j1),gm=jO(j1),GO=Si.main`
    display:grid;
    width:100%;
    height:100vh;
    background-color:var(--background-color);
    grid-template-columns: 13em 3fr;
  `;async function FO(){if(!gm.currentUser)try{const r=new $i;return(await $2(gm,r)).user.uid}catch(r){return console.error("Google login failed:",r),null}return gm.currentUser.uid}function QO(){const r=async()=>{try{const P=O0(Z0,"courses","admin"),H=await zD(P);if(!H.exists())return console.warn("Firestore: 'courses/admin' does not exist"),[];const $=H.data();return Array.isArray($.courses)?$.courses:(console.warn("Firestore: 'courses' is not an array",$.courses),[])}catch(P){return console.error("Error loading courses from Firestore:",P),[]}},[t,n]=Ge.useState([]);Ge.useEffect(()=>{(async()=>{const H=await r();n(H)})()},[]);const s=()=>{const P=localStorage.getItem("selected");return P?JSON.parse(P):[]},[o,u]=Ge.useState(s),f=async()=>{try{const P=await FO();if(console.log("logined uid: ",P),!P){console.warn("saveDataToFirestore: failed login");return}const H=O0(Z0,"courses",P);await jD(H,{courses:t}),console.log("success to save data!")}catch(P){console.error("Error saving data to Firestore:",P)}},g=P=>{n(H=>H.filter($=>$.id!==P))},p=P=>{n(H=>[...H,P])},y=P=>{u(H=>[...H,P])},T=P=>{u(H=>H.filter($=>$!==P))},[b,C]=Ge.useState(!1);return at.jsxs(GO,{children:[at.jsx(Db,{courses:t,selected:o,onDeleteCourse:g,onAddCourse:p,onSelectCourse:y,onUnSelectCourse:T,onModalOpen:C}),at.jsx(Pb,{courses:t,selected:o,onUnselectCourse:T,onSaveData:f}),b&&at.jsx(Lb,{onAddCourse:p,onClose:()=>C(!1)})]})}AS.createRoot(document.getElementById("root")).render(at.jsx(Ge.StrictMode,{children:at.jsx(QO,{})}));
